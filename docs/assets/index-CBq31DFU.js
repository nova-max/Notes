var mC=Object.defineProperty;var gC=(t,e,n)=>e in t?mC(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var an=(t,e,n)=>gC(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var zp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function yy(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var xx={exports:{}},qm={},kx={exports:{}},Bt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $f=Symbol.for("react.element"),yC=Symbol.for("react.portal"),vC=Symbol.for("react.fragment"),wC=Symbol.for("react.strict_mode"),_C=Symbol.for("react.profiler"),bC=Symbol.for("react.provider"),xC=Symbol.for("react.context"),kC=Symbol.for("react.forward_ref"),SC=Symbol.for("react.suspense"),AC=Symbol.for("react.memo"),EC=Symbol.for("react.lazy"),yw=Symbol.iterator;function IC(t){return t===null||typeof t!="object"?null:(t=yw&&t[yw]||t["@@iterator"],typeof t=="function"?t:null)}var Sx={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ax=Object.assign,Ex={};function Kc(t,e,n){this.props=t,this.context=e,this.refs=Ex,this.updater=n||Sx}Kc.prototype.isReactComponent={};Kc.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Kc.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Ix(){}Ix.prototype=Kc.prototype;function vy(t,e,n){this.props=t,this.context=e,this.refs=Ex,this.updater=n||Sx}var wy=vy.prototype=new Ix;wy.constructor=vy;Ax(wy,Kc.prototype);wy.isPureReactComponent=!0;var vw=Array.isArray,Tx=Object.prototype.hasOwnProperty,_y={current:null},Cx={key:!0,ref:!0,__self:!0,__source:!0};function Nx(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)Tx.call(e,r)&&!Cx.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:$f,type:t,key:s,ref:o,props:i,_owner:_y.current}}function TC(t,e){return{$$typeof:$f,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function by(t){return typeof t=="object"&&t!==null&&t.$$typeof===$f}function CC(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var ww=/\/+/g;function t1(t,e){return typeof t=="object"&&t!==null&&t.key!=null?CC(""+t.key):e.toString(36)}function fp(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case $f:case yC:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+t1(o,0):r,vw(i)?(n="",t!=null&&(n=t.replace(ww,"$&/")+"/"),fp(i,e,n,"",function(u){return u})):i!=null&&(by(i)&&(i=TC(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(ww,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",vw(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+t1(s,a);o+=fp(s,e,n,l,i)}else if(l=IC(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+t1(s,a++),o+=fp(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Nd(t,e,n){if(t==null)return t;var r=[],i=0;return fp(t,r,"","",function(s){return e.call(n,s,i++)}),r}function NC(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var fi={current:null},dp={transition:null},PC={ReactCurrentDispatcher:fi,ReactCurrentBatchConfig:dp,ReactCurrentOwner:_y};function Px(){throw Error("act(...) is not supported in production builds of React.")}Bt.Children={map:Nd,forEach:function(t,e,n){Nd(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Nd(t,function(){e++}),e},toArray:function(t){return Nd(t,function(e){return e})||[]},only:function(t){if(!by(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Bt.Component=Kc;Bt.Fragment=vC;Bt.Profiler=_C;Bt.PureComponent=vy;Bt.StrictMode=wC;Bt.Suspense=SC;Bt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=PC;Bt.act=Px;Bt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Ax({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=_y.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Tx.call(e,l)&&!Cx.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:$f,type:t.type,key:i,ref:s,props:r,_owner:o}};Bt.createContext=function(t){return t={$$typeof:xC,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:bC,_context:t},t.Consumer=t};Bt.createElement=Nx;Bt.createFactory=function(t){var e=Nx.bind(null,t);return e.type=t,e};Bt.createRef=function(){return{current:null}};Bt.forwardRef=function(t){return{$$typeof:kC,render:t}};Bt.isValidElement=by;Bt.lazy=function(t){return{$$typeof:EC,_payload:{_status:-1,_result:t},_init:NC}};Bt.memo=function(t,e){return{$$typeof:AC,type:t,compare:e===void 0?null:e}};Bt.startTransition=function(t){var e=dp.transition;dp.transition={};try{t()}finally{dp.transition=e}};Bt.unstable_act=Px;Bt.useCallback=function(t,e){return fi.current.useCallback(t,e)};Bt.useContext=function(t){return fi.current.useContext(t)};Bt.useDebugValue=function(){};Bt.useDeferredValue=function(t){return fi.current.useDeferredValue(t)};Bt.useEffect=function(t,e){return fi.current.useEffect(t,e)};Bt.useId=function(){return fi.current.useId()};Bt.useImperativeHandle=function(t,e,n){return fi.current.useImperativeHandle(t,e,n)};Bt.useInsertionEffect=function(t,e){return fi.current.useInsertionEffect(t,e)};Bt.useLayoutEffect=function(t,e){return fi.current.useLayoutEffect(t,e)};Bt.useMemo=function(t,e){return fi.current.useMemo(t,e)};Bt.useReducer=function(t,e,n){return fi.current.useReducer(t,e,n)};Bt.useRef=function(t){return fi.current.useRef(t)};Bt.useState=function(t){return fi.current.useState(t)};Bt.useSyncExternalStore=function(t,e,n){return fi.current.useSyncExternalStore(t,e,n)};Bt.useTransition=function(){return fi.current.useTransition()};Bt.version="18.3.1";kx.exports=Bt;var jt=kx.exports;const LC=yy(jt);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RC=jt,DC=Symbol.for("react.element"),OC=Symbol.for("react.fragment"),MC=Object.prototype.hasOwnProperty,FC=RC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,jC={key:!0,ref:!0,__self:!0,__source:!0};function Lx(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)MC.call(e,r)&&!jC.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:DC,type:t,key:s,ref:o,props:i,_owner:FC.current}}qm.Fragment=OC;qm.jsx=Lx;qm.jsxs=Lx;xx.exports=qm;var oe=xx.exports,E0={},Rx={exports:{}},ns={},Dx={exports:{}},Ox={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(ee,ue){var z=ee.length;ee.push(ue);e:for(;0<z;){var _e=z-1>>>1,j=ee[_e];if(0<i(j,ue))ee[_e]=ue,ee[z]=j,z=_e;else break e}}function n(ee){return ee.length===0?null:ee[0]}function r(ee){if(ee.length===0)return null;var ue=ee[0],z=ee.pop();if(z!==ue){ee[0]=z;e:for(var _e=0,j=ee.length,R=j>>>1;_e<R;){var Z=2*(_e+1)-1,ne=ee[Z],re=Z+1,ce=ee[re];if(0>i(ne,z))re<j&&0>i(ce,ne)?(ee[_e]=ce,ee[re]=z,_e=re):(ee[_e]=ne,ee[Z]=z,_e=Z);else if(re<j&&0>i(ce,z))ee[_e]=ce,ee[re]=z,_e=re;else break e}}return ue}function i(ee,ue){var z=ee.sortIndex-ue.sortIndex;return z!==0?z:ee.id-ue.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,d=null,g=3,p=!1,_=!1,k=!1,D=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function L(ee){for(var ue=n(u);ue!==null;){if(ue.callback===null)r(u);else if(ue.startTime<=ee)r(u),ue.sortIndex=ue.expirationTime,e(l,ue);else break;ue=n(u)}}function V(ee){if(k=!1,L(ee),!_)if(n(l)!==null)_=!0,ye(X);else{var ue=n(u);ue!==null&&ve(V,ue.startTime-ee)}}function X(ee,ue){_=!1,k&&(k=!1,w(A),A=-1),p=!0;var z=g;try{for(L(ue),d=n(l);d!==null&&(!(d.expirationTime>ue)||ee&&!x());){var _e=d.callback;if(typeof _e=="function"){d.callback=null,g=d.priorityLevel;var j=_e(d.expirationTime<=ue);ue=t.unstable_now(),typeof j=="function"?d.callback=j:d===n(l)&&r(l),L(ue)}else r(l);d=n(l)}if(d!==null)var R=!0;else{var Z=n(u);Z!==null&&ve(V,Z.startTime-ue),R=!1}return R}finally{d=null,g=z,p=!1}}var W=!1,F=null,A=-1,E=5,I=-1;function x(){return!(t.unstable_now()-I<E)}function T(){if(F!==null){var ee=t.unstable_now();I=ee;var ue=!0;try{ue=F(!0,ee)}finally{ue?N():(W=!1,F=null)}}else W=!1}var N;if(typeof C=="function")N=function(){C(T)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,ae=J.port2;J.port1.onmessage=T,N=function(){ae.postMessage(null)}}else N=function(){D(T,0)};function ye(ee){F=ee,W||(W=!0,N())}function ve(ee,ue){A=D(function(){ee(t.unstable_now())},ue)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ee){ee.callback=null},t.unstable_continueExecution=function(){_||p||(_=!0,ye(X))},t.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<ee?Math.floor(1e3/ee):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(ee){switch(g){case 1:case 2:case 3:var ue=3;break;default:ue=g}var z=g;g=ue;try{return ee()}finally{g=z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(ee,ue){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var z=g;g=ee;try{return ue()}finally{g=z}},t.unstable_scheduleCallback=function(ee,ue,z){var _e=t.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?_e+z:_e):z=_e,ee){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=z+j,ee={id:c++,callback:ue,priorityLevel:ee,startTime:z,expirationTime:j,sortIndex:-1},z>_e?(ee.sortIndex=z,e(u,ee),n(l)===null&&ee===n(u)&&(k?(w(A),A=-1):k=!0,ve(V,z-_e))):(ee.sortIndex=j,e(l,ee),_||p||(_=!0,ye(X))),ee},t.unstable_shouldYield=x,t.unstable_wrapCallback=function(ee){var ue=g;return function(){var z=g;g=ue;try{return ee.apply(this,arguments)}finally{g=z}}}})(Ox);Dx.exports=Ox;var VC=Dx.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BC=jt,ts=VC;function Me(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Mx=new Set,pf={};function xu(t,e){Rc(t,e),Rc(t+"Capture",e)}function Rc(t,e){for(pf[t]=e,t=0;t<e.length;t++)Mx.add(e[t])}var aa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),I0=Object.prototype.hasOwnProperty,UC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_w={},bw={};function zC(t){return I0.call(bw,t)?!0:I0.call(_w,t)?!1:UC.test(t)?bw[t]=!0:(_w[t]=!0,!1)}function qC(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function $C(t,e,n,r){if(e===null||typeof e>"u"||qC(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function di(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Nr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Nr[t]=new di(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Nr[e]=new di(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Nr[t]=new di(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Nr[t]=new di(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Nr[t]=new di(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Nr[t]=new di(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Nr[t]=new di(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Nr[t]=new di(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Nr[t]=new di(t,5,!1,t.toLowerCase(),null,!1,!1)});var xy=/[\-:]([a-z])/g;function ky(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(xy,ky);Nr[e]=new di(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(xy,ky);Nr[e]=new di(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(xy,ky);Nr[e]=new di(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Nr[t]=new di(t,1,!1,t.toLowerCase(),null,!1,!1)});Nr.xlinkHref=new di("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Nr[t]=new di(t,1,!1,t.toLowerCase(),null,!0,!0)});function Sy(t,e,n,r){var i=Nr.hasOwnProperty(e)?Nr[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&($C(e,n,i,r)&&(n=null),r||i===null?zC(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ma=BC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Pd=Symbol.for("react.element"),nc=Symbol.for("react.portal"),rc=Symbol.for("react.fragment"),Ay=Symbol.for("react.strict_mode"),T0=Symbol.for("react.profiler"),Fx=Symbol.for("react.provider"),jx=Symbol.for("react.context"),Ey=Symbol.for("react.forward_ref"),C0=Symbol.for("react.suspense"),N0=Symbol.for("react.suspense_list"),Iy=Symbol.for("react.memo"),$a=Symbol.for("react.lazy"),Vx=Symbol.for("react.offscreen"),xw=Symbol.iterator;function Ih(t){return t===null||typeof t!="object"?null:(t=xw&&t[xw]||t["@@iterator"],typeof t=="function"?t:null)}var Vn=Object.assign,n1;function Vh(t){if(n1===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);n1=e&&e[1]||""}return`
`+n1+t}var r1=!1;function i1(t,e){if(!t||r1)return"";r1=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{r1=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Vh(t):""}function HC(t){switch(t.tag){case 5:return Vh(t.type);case 16:return Vh("Lazy");case 13:return Vh("Suspense");case 19:return Vh("SuspenseList");case 0:case 2:case 15:return t=i1(t.type,!1),t;case 11:return t=i1(t.type.render,!1),t;case 1:return t=i1(t.type,!0),t;default:return""}}function P0(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case rc:return"Fragment";case nc:return"Portal";case T0:return"Profiler";case Ay:return"StrictMode";case C0:return"Suspense";case N0:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case jx:return(t.displayName||"Context")+".Consumer";case Fx:return(t._context.displayName||"Context")+".Provider";case Ey:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Iy:return e=t.displayName||null,e!==null?e:P0(t.type)||"Memo";case $a:e=t._payload,t=t._init;try{return P0(t(e))}catch{}}return null}function WC(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return P0(e);case 8:return e===Ay?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function pl(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Bx(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function GC(t){var e=Bx(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ld(t){t._valueTracker||(t._valueTracker=GC(t))}function Ux(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Bx(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function qp(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function L0(t,e){var n=e.checked;return Vn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function kw(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=pl(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function zx(t,e){e=e.checked,e!=null&&Sy(t,"checked",e,!1)}function R0(t,e){zx(t,e);var n=pl(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?D0(t,e.type,n):e.hasOwnProperty("defaultValue")&&D0(t,e.type,pl(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Sw(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function D0(t,e,n){(e!=="number"||qp(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Bh=Array.isArray;function gc(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+pl(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function O0(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Me(91));return Vn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Aw(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Me(92));if(Bh(n)){if(1<n.length)throw Error(Me(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:pl(n)}}function qx(t,e){var n=pl(e.value),r=pl(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Ew(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function $x(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function M0(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?$x(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Rd,Hx=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Rd=Rd||document.createElement("div"),Rd.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Rd.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function mf(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Gh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},KC=["Webkit","ms","Moz","O"];Object.keys(Gh).forEach(function(t){KC.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Gh[e]=Gh[t]})});function Wx(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Gh.hasOwnProperty(t)&&Gh[t]?(""+e).trim():e+"px"}function Gx(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Wx(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var QC=Vn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function F0(t,e){if(e){if(QC[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Me(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Me(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Me(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Me(62))}}function j0(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var V0=null;function Ty(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var B0=null,yc=null,vc=null;function Iw(t){if(t=Gf(t)){if(typeof B0!="function")throw Error(Me(280));var e=t.stateNode;e&&(e=Km(e),B0(t.stateNode,t.type,e))}}function Kx(t){yc?vc?vc.push(t):vc=[t]:yc=t}function Qx(){if(yc){var t=yc,e=vc;if(vc=yc=null,Iw(t),e)for(t=0;t<e.length;t++)Iw(e[t])}}function Yx(t,e){return t(e)}function Xx(){}var s1=!1;function Jx(t,e,n){if(s1)return t(e,n);s1=!0;try{return Yx(t,e,n)}finally{s1=!1,(yc!==null||vc!==null)&&(Xx(),Qx())}}function gf(t,e){var n=t.stateNode;if(n===null)return null;var r=Km(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Me(231,e,typeof n));return n}var U0=!1;if(aa)try{var Th={};Object.defineProperty(Th,"passive",{get:function(){U0=!0}}),window.addEventListener("test",Th,Th),window.removeEventListener("test",Th,Th)}catch{U0=!1}function YC(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var Kh=!1,$p=null,Hp=!1,z0=null,XC={onError:function(t){Kh=!0,$p=t}};function JC(t,e,n,r,i,s,o,a,l){Kh=!1,$p=null,YC.apply(XC,arguments)}function ZC(t,e,n,r,i,s,o,a,l){if(JC.apply(this,arguments),Kh){if(Kh){var u=$p;Kh=!1,$p=null}else throw Error(Me(198));Hp||(Hp=!0,z0=u)}}function ku(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Zx(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Tw(t){if(ku(t)!==t)throw Error(Me(188))}function eN(t){var e=t.alternate;if(!e){if(e=ku(t),e===null)throw Error(Me(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Tw(i),t;if(s===r)return Tw(i),e;s=s.sibling}throw Error(Me(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(Me(189))}}if(n.alternate!==r)throw Error(Me(190))}if(n.tag!==3)throw Error(Me(188));return n.stateNode.current===n?t:e}function ek(t){return t=eN(t),t!==null?tk(t):null}function tk(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=tk(t);if(e!==null)return e;t=t.sibling}return null}var nk=ts.unstable_scheduleCallback,Cw=ts.unstable_cancelCallback,tN=ts.unstable_shouldYield,nN=ts.unstable_requestPaint,Xn=ts.unstable_now,rN=ts.unstable_getCurrentPriorityLevel,Cy=ts.unstable_ImmediatePriority,rk=ts.unstable_UserBlockingPriority,Wp=ts.unstable_NormalPriority,iN=ts.unstable_LowPriority,ik=ts.unstable_IdlePriority,$m=null,Ao=null;function sN(t){if(Ao&&typeof Ao.onCommitFiberRoot=="function")try{Ao.onCommitFiberRoot($m,t,void 0,(t.current.flags&128)===128)}catch{}}var Ws=Math.clz32?Math.clz32:lN,oN=Math.log,aN=Math.LN2;function lN(t){return t>>>=0,t===0?32:31-(oN(t)/aN|0)|0}var Dd=64,Od=4194304;function Uh(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Gp(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Uh(a):(s&=o,s!==0&&(r=Uh(s)))}else o=n&~i,o!==0?r=Uh(o):s!==0&&(r=Uh(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Ws(e),i=1<<n,r|=t[n],e&=~i;return r}function uN(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cN(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Ws(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=uN(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function q0(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function sk(){var t=Dd;return Dd<<=1,!(Dd&4194240)&&(Dd=64),t}function o1(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Hf(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ws(e),t[e]=n}function hN(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Ws(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Ny(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Ws(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var un=0;function ok(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var ak,Py,lk,uk,ck,$0=!1,Md=[],tl=null,nl=null,rl=null,yf=new Map,vf=new Map,Wa=[],fN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Nw(t,e){switch(t){case"focusin":case"focusout":tl=null;break;case"dragenter":case"dragleave":nl=null;break;case"mouseover":case"mouseout":rl=null;break;case"pointerover":case"pointerout":yf.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":vf.delete(e.pointerId)}}function Ch(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Gf(e),e!==null&&Py(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function dN(t,e,n,r,i){switch(e){case"focusin":return tl=Ch(tl,t,e,n,r,i),!0;case"dragenter":return nl=Ch(nl,t,e,n,r,i),!0;case"mouseover":return rl=Ch(rl,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return yf.set(s,Ch(yf.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,vf.set(s,Ch(vf.get(s)||null,t,e,n,r,i)),!0}return!1}function hk(t){var e=Jl(t.target);if(e!==null){var n=ku(e);if(n!==null){if(e=n.tag,e===13){if(e=Zx(n),e!==null){t.blockedOn=e,ck(t.priority,function(){lk(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function pp(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=H0(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);V0=r,n.target.dispatchEvent(r),V0=null}else return e=Gf(n),e!==null&&Py(e),t.blockedOn=n,!1;e.shift()}return!0}function Pw(t,e,n){pp(t)&&n.delete(e)}function pN(){$0=!1,tl!==null&&pp(tl)&&(tl=null),nl!==null&&pp(nl)&&(nl=null),rl!==null&&pp(rl)&&(rl=null),yf.forEach(Pw),vf.forEach(Pw)}function Nh(t,e){t.blockedOn===e&&(t.blockedOn=null,$0||($0=!0,ts.unstable_scheduleCallback(ts.unstable_NormalPriority,pN)))}function wf(t){function e(i){return Nh(i,t)}if(0<Md.length){Nh(Md[0],t);for(var n=1;n<Md.length;n++){var r=Md[n];r.blockedOn===t&&(r.blockedOn=null)}}for(tl!==null&&Nh(tl,t),nl!==null&&Nh(nl,t),rl!==null&&Nh(rl,t),yf.forEach(e),vf.forEach(e),n=0;n<Wa.length;n++)r=Wa[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Wa.length&&(n=Wa[0],n.blockedOn===null);)hk(n),n.blockedOn===null&&Wa.shift()}var wc=ma.ReactCurrentBatchConfig,Kp=!0;function mN(t,e,n,r){var i=un,s=wc.transition;wc.transition=null;try{un=1,Ly(t,e,n,r)}finally{un=i,wc.transition=s}}function gN(t,e,n,r){var i=un,s=wc.transition;wc.transition=null;try{un=4,Ly(t,e,n,r)}finally{un=i,wc.transition=s}}function Ly(t,e,n,r){if(Kp){var i=H0(t,e,n,r);if(i===null)g1(t,e,r,Qp,n),Nw(t,r);else if(dN(i,t,e,n,r))r.stopPropagation();else if(Nw(t,r),e&4&&-1<fN.indexOf(t)){for(;i!==null;){var s=Gf(i);if(s!==null&&ak(s),s=H0(t,e,n,r),s===null&&g1(t,e,r,Qp,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else g1(t,e,r,null,n)}}var Qp=null;function H0(t,e,n,r){if(Qp=null,t=Ty(r),t=Jl(t),t!==null)if(e=ku(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Zx(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Qp=t,null}function fk(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(rN()){case Cy:return 1;case rk:return 4;case Wp:case iN:return 16;case ik:return 536870912;default:return 16}default:return 16}}var Xa=null,Ry=null,mp=null;function dk(){if(mp)return mp;var t,e=Ry,n=e.length,r,i="value"in Xa?Xa.value:Xa.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return mp=i.slice(t,1<r?1-r:void 0)}function gp(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Fd(){return!0}function Lw(){return!1}function rs(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Fd:Lw,this.isPropagationStopped=Lw,this}return Vn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Fd)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Fd)},persist:function(){},isPersistent:Fd}),e}var Qc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Dy=rs(Qc),Wf=Vn({},Qc,{view:0,detail:0}),yN=rs(Wf),a1,l1,Ph,Hm=Vn({},Wf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Oy,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ph&&(Ph&&t.type==="mousemove"?(a1=t.screenX-Ph.screenX,l1=t.screenY-Ph.screenY):l1=a1=0,Ph=t),a1)},movementY:function(t){return"movementY"in t?t.movementY:l1}}),Rw=rs(Hm),vN=Vn({},Hm,{dataTransfer:0}),wN=rs(vN),_N=Vn({},Wf,{relatedTarget:0}),u1=rs(_N),bN=Vn({},Qc,{animationName:0,elapsedTime:0,pseudoElement:0}),xN=rs(bN),kN=Vn({},Qc,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),SN=rs(kN),AN=Vn({},Qc,{data:0}),Dw=rs(AN),EN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},IN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},TN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function CN(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=TN[t])?!!e[t]:!1}function Oy(){return CN}var NN=Vn({},Wf,{key:function(t){if(t.key){var e=EN[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=gp(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?IN[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Oy,charCode:function(t){return t.type==="keypress"?gp(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?gp(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),PN=rs(NN),LN=Vn({},Hm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ow=rs(LN),RN=Vn({},Wf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Oy}),DN=rs(RN),ON=Vn({},Qc,{propertyName:0,elapsedTime:0,pseudoElement:0}),MN=rs(ON),FN=Vn({},Hm,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),jN=rs(FN),VN=[9,13,27,32],My=aa&&"CompositionEvent"in window,Qh=null;aa&&"documentMode"in document&&(Qh=document.documentMode);var BN=aa&&"TextEvent"in window&&!Qh,pk=aa&&(!My||Qh&&8<Qh&&11>=Qh),Mw=" ",Fw=!1;function mk(t,e){switch(t){case"keyup":return VN.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gk(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ic=!1;function UN(t,e){switch(t){case"compositionend":return gk(e);case"keypress":return e.which!==32?null:(Fw=!0,Mw);case"textInput":return t=e.data,t===Mw&&Fw?null:t;default:return null}}function zN(t,e){if(ic)return t==="compositionend"||!My&&mk(t,e)?(t=dk(),mp=Ry=Xa=null,ic=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return pk&&e.locale!=="ko"?null:e.data;default:return null}}var qN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!qN[t.type]:e==="textarea"}function yk(t,e,n,r){Kx(r),e=Yp(e,"onChange"),0<e.length&&(n=new Dy("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Yh=null,_f=null;function $N(t){Tk(t,0)}function Wm(t){var e=ac(t);if(Ux(e))return t}function HN(t,e){if(t==="change")return e}var vk=!1;if(aa){var c1;if(aa){var h1="oninput"in document;if(!h1){var Vw=document.createElement("div");Vw.setAttribute("oninput","return;"),h1=typeof Vw.oninput=="function"}c1=h1}else c1=!1;vk=c1&&(!document.documentMode||9<document.documentMode)}function Bw(){Yh&&(Yh.detachEvent("onpropertychange",wk),_f=Yh=null)}function wk(t){if(t.propertyName==="value"&&Wm(_f)){var e=[];yk(e,_f,t,Ty(t)),Jx($N,e)}}function WN(t,e,n){t==="focusin"?(Bw(),Yh=e,_f=n,Yh.attachEvent("onpropertychange",wk)):t==="focusout"&&Bw()}function GN(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Wm(_f)}function KN(t,e){if(t==="click")return Wm(e)}function QN(t,e){if(t==="input"||t==="change")return Wm(e)}function YN(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ys=typeof Object.is=="function"?Object.is:YN;function bf(t,e){if(Ys(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!I0.call(e,i)||!Ys(t[i],e[i]))return!1}return!0}function Uw(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function zw(t,e){var n=Uw(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Uw(n)}}function _k(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?_k(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function bk(){for(var t=window,e=qp();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=qp(t.document)}return e}function Fy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function XN(t){var e=bk(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&_k(n.ownerDocument.documentElement,n)){if(r!==null&&Fy(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=zw(n,s);var o=zw(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var JN=aa&&"documentMode"in document&&11>=document.documentMode,sc=null,W0=null,Xh=null,G0=!1;function qw(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;G0||sc==null||sc!==qp(r)||(r=sc,"selectionStart"in r&&Fy(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Xh&&bf(Xh,r)||(Xh=r,r=Yp(W0,"onSelect"),0<r.length&&(e=new Dy("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=sc)))}function jd(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var oc={animationend:jd("Animation","AnimationEnd"),animationiteration:jd("Animation","AnimationIteration"),animationstart:jd("Animation","AnimationStart"),transitionend:jd("Transition","TransitionEnd")},f1={},xk={};aa&&(xk=document.createElement("div").style,"AnimationEvent"in window||(delete oc.animationend.animation,delete oc.animationiteration.animation,delete oc.animationstart.animation),"TransitionEvent"in window||delete oc.transitionend.transition);function Gm(t){if(f1[t])return f1[t];if(!oc[t])return t;var e=oc[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in xk)return f1[t]=e[n];return t}var kk=Gm("animationend"),Sk=Gm("animationiteration"),Ak=Gm("animationstart"),Ek=Gm("transitionend"),Ik=new Map,$w="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Al(t,e){Ik.set(t,e),xu(e,[t])}for(var d1=0;d1<$w.length;d1++){var p1=$w[d1],ZN=p1.toLowerCase(),eP=p1[0].toUpperCase()+p1.slice(1);Al(ZN,"on"+eP)}Al(kk,"onAnimationEnd");Al(Sk,"onAnimationIteration");Al(Ak,"onAnimationStart");Al("dblclick","onDoubleClick");Al("focusin","onFocus");Al("focusout","onBlur");Al(Ek,"onTransitionEnd");Rc("onMouseEnter",["mouseout","mouseover"]);Rc("onMouseLeave",["mouseout","mouseover"]);Rc("onPointerEnter",["pointerout","pointerover"]);Rc("onPointerLeave",["pointerout","pointerover"]);xu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));xu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));xu("onBeforeInput",["compositionend","keypress","textInput","paste"]);xu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));xu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));xu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tP=new Set("cancel close invalid load scroll toggle".split(" ").concat(zh));function Hw(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,ZC(r,e,void 0,t),t.currentTarget=null}function Tk(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Hw(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Hw(i,a,u),s=l}}}if(Hp)throw t=z0,Hp=!1,z0=null,t}function Nn(t,e){var n=e[J0];n===void 0&&(n=e[J0]=new Set);var r=t+"__bubble";n.has(r)||(Ck(e,t,2,!1),n.add(r))}function m1(t,e,n){var r=0;e&&(r|=4),Ck(n,t,r,e)}var Vd="_reactListening"+Math.random().toString(36).slice(2);function xf(t){if(!t[Vd]){t[Vd]=!0,Mx.forEach(function(n){n!=="selectionchange"&&(tP.has(n)||m1(n,!1,t),m1(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Vd]||(e[Vd]=!0,m1("selectionchange",!1,e))}}function Ck(t,e,n,r){switch(fk(e)){case 1:var i=mN;break;case 4:i=gN;break;default:i=Ly}n=i.bind(null,e,n,t),i=void 0,!U0||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function g1(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Jl(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}Jx(function(){var u=s,c=Ty(n),d=[];e:{var g=Ik.get(t);if(g!==void 0){var p=Dy,_=t;switch(t){case"keypress":if(gp(n)===0)break e;case"keydown":case"keyup":p=PN;break;case"focusin":_="focus",p=u1;break;case"focusout":_="blur",p=u1;break;case"beforeblur":case"afterblur":p=u1;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Rw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=wN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=DN;break;case kk:case Sk:case Ak:p=xN;break;case Ek:p=MN;break;case"scroll":p=yN;break;case"wheel":p=jN;break;case"copy":case"cut":case"paste":p=SN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Ow}var k=(e&4)!==0,D=!k&&t==="scroll",w=k?g!==null?g+"Capture":null:g;k=[];for(var C=u,L;C!==null;){L=C;var V=L.stateNode;if(L.tag===5&&V!==null&&(L=V,w!==null&&(V=gf(C,w),V!=null&&k.push(kf(C,V,L)))),D)break;C=C.return}0<k.length&&(g=new p(g,_,null,n,c),d.push({event:g,listeners:k}))}}if(!(e&7)){e:{if(g=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",g&&n!==V0&&(_=n.relatedTarget||n.fromElement)&&(Jl(_)||_[la]))break e;if((p||g)&&(g=c.window===c?c:(g=c.ownerDocument)?g.defaultView||g.parentWindow:window,p?(_=n.relatedTarget||n.toElement,p=u,_=_?Jl(_):null,_!==null&&(D=ku(_),_!==D||_.tag!==5&&_.tag!==6)&&(_=null)):(p=null,_=u),p!==_)){if(k=Rw,V="onMouseLeave",w="onMouseEnter",C="mouse",(t==="pointerout"||t==="pointerover")&&(k=Ow,V="onPointerLeave",w="onPointerEnter",C="pointer"),D=p==null?g:ac(p),L=_==null?g:ac(_),g=new k(V,C+"leave",p,n,c),g.target=D,g.relatedTarget=L,V=null,Jl(c)===u&&(k=new k(w,C+"enter",_,n,c),k.target=L,k.relatedTarget=D,V=k),D=V,p&&_)t:{for(k=p,w=_,C=0,L=k;L;L=$u(L))C++;for(L=0,V=w;V;V=$u(V))L++;for(;0<C-L;)k=$u(k),C--;for(;0<L-C;)w=$u(w),L--;for(;C--;){if(k===w||w!==null&&k===w.alternate)break t;k=$u(k),w=$u(w)}k=null}else k=null;p!==null&&Ww(d,g,p,k,!1),_!==null&&D!==null&&Ww(d,D,_,k,!0)}}e:{if(g=u?ac(u):window,p=g.nodeName&&g.nodeName.toLowerCase(),p==="select"||p==="input"&&g.type==="file")var X=HN;else if(jw(g))if(vk)X=QN;else{X=GN;var W=WN}else(p=g.nodeName)&&p.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(X=KN);if(X&&(X=X(t,u))){yk(d,X,n,c);break e}W&&W(t,g,u),t==="focusout"&&(W=g._wrapperState)&&W.controlled&&g.type==="number"&&D0(g,"number",g.value)}switch(W=u?ac(u):window,t){case"focusin":(jw(W)||W.contentEditable==="true")&&(sc=W,W0=u,Xh=null);break;case"focusout":Xh=W0=sc=null;break;case"mousedown":G0=!0;break;case"contextmenu":case"mouseup":case"dragend":G0=!1,qw(d,n,c);break;case"selectionchange":if(JN)break;case"keydown":case"keyup":qw(d,n,c)}var F;if(My)e:{switch(t){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else ic?mk(t,n)&&(A="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&(pk&&n.locale!=="ko"&&(ic||A!=="onCompositionStart"?A==="onCompositionEnd"&&ic&&(F=dk()):(Xa=c,Ry="value"in Xa?Xa.value:Xa.textContent,ic=!0)),W=Yp(u,A),0<W.length&&(A=new Dw(A,t,null,n,c),d.push({event:A,listeners:W}),F?A.data=F:(F=gk(n),F!==null&&(A.data=F)))),(F=BN?UN(t,n):zN(t,n))&&(u=Yp(u,"onBeforeInput"),0<u.length&&(c=new Dw("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=F))}Tk(d,e)})}function kf(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Yp(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=gf(t,n),s!=null&&r.unshift(kf(t,s,i)),s=gf(t,e),s!=null&&r.push(kf(t,s,i))),t=t.return}return r}function $u(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Ww(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=gf(n,s),l!=null&&o.unshift(kf(n,l,a))):i||(l=gf(n,s),l!=null&&o.push(kf(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var nP=/\r\n?/g,rP=/\u0000|\uFFFD/g;function Gw(t){return(typeof t=="string"?t:""+t).replace(nP,`
`).replace(rP,"")}function Bd(t,e,n){if(e=Gw(e),Gw(t)!==e&&n)throw Error(Me(425))}function Xp(){}var K0=null,Q0=null;function Y0(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var X0=typeof setTimeout=="function"?setTimeout:void 0,iP=typeof clearTimeout=="function"?clearTimeout:void 0,Kw=typeof Promise=="function"?Promise:void 0,sP=typeof queueMicrotask=="function"?queueMicrotask:typeof Kw<"u"?function(t){return Kw.resolve(null).then(t).catch(oP)}:X0;function oP(t){setTimeout(function(){throw t})}function y1(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),wf(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);wf(e)}function il(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Qw(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Yc=Math.random().toString(36).slice(2),ko="__reactFiber$"+Yc,Sf="__reactProps$"+Yc,la="__reactContainer$"+Yc,J0="__reactEvents$"+Yc,aP="__reactListeners$"+Yc,lP="__reactHandles$"+Yc;function Jl(t){var e=t[ko];if(e)return e;for(var n=t.parentNode;n;){if(e=n[la]||n[ko]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Qw(t);t!==null;){if(n=t[ko])return n;t=Qw(t)}return e}t=n,n=t.parentNode}return null}function Gf(t){return t=t[ko]||t[la],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ac(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Me(33))}function Km(t){return t[Sf]||null}var Z0=[],lc=-1;function El(t){return{current:t}}function Rn(t){0>lc||(t.current=Z0[lc],Z0[lc]=null,lc--)}function En(t,e){lc++,Z0[lc]=t.current,t.current=e}var ml={},Gr=El(ml),Pi=El(!1),uu=ml;function Dc(t,e){var n=t.type.contextTypes;if(!n)return ml;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Li(t){return t=t.childContextTypes,t!=null}function Jp(){Rn(Pi),Rn(Gr)}function Yw(t,e,n){if(Gr.current!==ml)throw Error(Me(168));En(Gr,e),En(Pi,n)}function Nk(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Me(108,WC(t)||"Unknown",i));return Vn({},n,r)}function Zp(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ml,uu=Gr.current,En(Gr,t),En(Pi,Pi.current),!0}function Xw(t,e,n){var r=t.stateNode;if(!r)throw Error(Me(169));n?(t=Nk(t,e,uu),r.__reactInternalMemoizedMergedChildContext=t,Rn(Pi),Rn(Gr),En(Gr,t)):Rn(Pi),En(Pi,n)}var Zo=null,Qm=!1,v1=!1;function Pk(t){Zo===null?Zo=[t]:Zo.push(t)}function uP(t){Qm=!0,Pk(t)}function Il(){if(!v1&&Zo!==null){v1=!0;var t=0,e=un;try{var n=Zo;for(un=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Zo=null,Qm=!1}catch(i){throw Zo!==null&&(Zo=Zo.slice(t+1)),nk(Cy,Il),i}finally{un=e,v1=!1}}return null}var uc=[],cc=0,em=null,tm=0,ys=[],vs=0,cu=null,na=1,ra="";function Wl(t,e){uc[cc++]=tm,uc[cc++]=em,em=t,tm=e}function Lk(t,e,n){ys[vs++]=na,ys[vs++]=ra,ys[vs++]=cu,cu=t;var r=na;t=ra;var i=32-Ws(r)-1;r&=~(1<<i),n+=1;var s=32-Ws(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,na=1<<32-Ws(e)+i|n<<i|r,ra=s+t}else na=1<<s|n<<i|r,ra=t}function jy(t){t.return!==null&&(Wl(t,1),Lk(t,1,0))}function Vy(t){for(;t===em;)em=uc[--cc],uc[cc]=null,tm=uc[--cc],uc[cc]=null;for(;t===cu;)cu=ys[--vs],ys[vs]=null,ra=ys[--vs],ys[vs]=null,na=ys[--vs],ys[vs]=null}var Ji=null,Qi=null,Mn=!1,qs=null;function Rk(t,e){var n=bs(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Jw(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ji=t,Qi=il(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ji=t,Qi=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=cu!==null?{id:na,overflow:ra}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=bs(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Ji=t,Qi=null,!0):!1;default:return!1}}function e2(t){return(t.mode&1)!==0&&(t.flags&128)===0}function t2(t){if(Mn){var e=Qi;if(e){var n=e;if(!Jw(t,e)){if(e2(t))throw Error(Me(418));e=il(n.nextSibling);var r=Ji;e&&Jw(t,e)?Rk(r,n):(t.flags=t.flags&-4097|2,Mn=!1,Ji=t)}}else{if(e2(t))throw Error(Me(418));t.flags=t.flags&-4097|2,Mn=!1,Ji=t}}}function Zw(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ji=t}function Ud(t){if(t!==Ji)return!1;if(!Mn)return Zw(t),Mn=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Y0(t.type,t.memoizedProps)),e&&(e=Qi)){if(e2(t))throw Dk(),Error(Me(418));for(;e;)Rk(t,e),e=il(e.nextSibling)}if(Zw(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Me(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Qi=il(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Qi=null}}else Qi=Ji?il(t.stateNode.nextSibling):null;return!0}function Dk(){for(var t=Qi;t;)t=il(t.nextSibling)}function Oc(){Qi=Ji=null,Mn=!1}function By(t){qs===null?qs=[t]:qs.push(t)}var cP=ma.ReactCurrentBatchConfig;function Lh(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Me(309));var r=n.stateNode}if(!r)throw Error(Me(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(Me(284));if(!n._owner)throw Error(Me(290,t))}return t}function zd(t,e){throw t=Object.prototype.toString.call(e),Error(Me(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function e_(t){var e=t._init;return e(t._payload)}function Ok(t){function e(w,C){if(t){var L=w.deletions;L===null?(w.deletions=[C],w.flags|=16):L.push(C)}}function n(w,C){if(!t)return null;for(;C!==null;)e(w,C),C=C.sibling;return null}function r(w,C){for(w=new Map;C!==null;)C.key!==null?w.set(C.key,C):w.set(C.index,C),C=C.sibling;return w}function i(w,C){return w=ll(w,C),w.index=0,w.sibling=null,w}function s(w,C,L){return w.index=L,t?(L=w.alternate,L!==null?(L=L.index,L<C?(w.flags|=2,C):L):(w.flags|=2,C)):(w.flags|=1048576,C)}function o(w){return t&&w.alternate===null&&(w.flags|=2),w}function a(w,C,L,V){return C===null||C.tag!==6?(C=A1(L,w.mode,V),C.return=w,C):(C=i(C,L),C.return=w,C)}function l(w,C,L,V){var X=L.type;return X===rc?c(w,C,L.props.children,V,L.key):C!==null&&(C.elementType===X||typeof X=="object"&&X!==null&&X.$$typeof===$a&&e_(X)===C.type)?(V=i(C,L.props),V.ref=Lh(w,C,L),V.return=w,V):(V=kp(L.type,L.key,L.props,null,w.mode,V),V.ref=Lh(w,C,L),V.return=w,V)}function u(w,C,L,V){return C===null||C.tag!==4||C.stateNode.containerInfo!==L.containerInfo||C.stateNode.implementation!==L.implementation?(C=E1(L,w.mode,V),C.return=w,C):(C=i(C,L.children||[]),C.return=w,C)}function c(w,C,L,V,X){return C===null||C.tag!==7?(C=su(L,w.mode,V,X),C.return=w,C):(C=i(C,L),C.return=w,C)}function d(w,C,L){if(typeof C=="string"&&C!==""||typeof C=="number")return C=A1(""+C,w.mode,L),C.return=w,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Pd:return L=kp(C.type,C.key,C.props,null,w.mode,L),L.ref=Lh(w,null,C),L.return=w,L;case nc:return C=E1(C,w.mode,L),C.return=w,C;case $a:var V=C._init;return d(w,V(C._payload),L)}if(Bh(C)||Ih(C))return C=su(C,w.mode,L,null),C.return=w,C;zd(w,C)}return null}function g(w,C,L,V){var X=C!==null?C.key:null;if(typeof L=="string"&&L!==""||typeof L=="number")return X!==null?null:a(w,C,""+L,V);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case Pd:return L.key===X?l(w,C,L,V):null;case nc:return L.key===X?u(w,C,L,V):null;case $a:return X=L._init,g(w,C,X(L._payload),V)}if(Bh(L)||Ih(L))return X!==null?null:c(w,C,L,V,null);zd(w,L)}return null}function p(w,C,L,V,X){if(typeof V=="string"&&V!==""||typeof V=="number")return w=w.get(L)||null,a(C,w,""+V,X);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case Pd:return w=w.get(V.key===null?L:V.key)||null,l(C,w,V,X);case nc:return w=w.get(V.key===null?L:V.key)||null,u(C,w,V,X);case $a:var W=V._init;return p(w,C,L,W(V._payload),X)}if(Bh(V)||Ih(V))return w=w.get(L)||null,c(C,w,V,X,null);zd(C,V)}return null}function _(w,C,L,V){for(var X=null,W=null,F=C,A=C=0,E=null;F!==null&&A<L.length;A++){F.index>A?(E=F,F=null):E=F.sibling;var I=g(w,F,L[A],V);if(I===null){F===null&&(F=E);break}t&&F&&I.alternate===null&&e(w,F),C=s(I,C,A),W===null?X=I:W.sibling=I,W=I,F=E}if(A===L.length)return n(w,F),Mn&&Wl(w,A),X;if(F===null){for(;A<L.length;A++)F=d(w,L[A],V),F!==null&&(C=s(F,C,A),W===null?X=F:W.sibling=F,W=F);return Mn&&Wl(w,A),X}for(F=r(w,F);A<L.length;A++)E=p(F,w,A,L[A],V),E!==null&&(t&&E.alternate!==null&&F.delete(E.key===null?A:E.key),C=s(E,C,A),W===null?X=E:W.sibling=E,W=E);return t&&F.forEach(function(x){return e(w,x)}),Mn&&Wl(w,A),X}function k(w,C,L,V){var X=Ih(L);if(typeof X!="function")throw Error(Me(150));if(L=X.call(L),L==null)throw Error(Me(151));for(var W=X=null,F=C,A=C=0,E=null,I=L.next();F!==null&&!I.done;A++,I=L.next()){F.index>A?(E=F,F=null):E=F.sibling;var x=g(w,F,I.value,V);if(x===null){F===null&&(F=E);break}t&&F&&x.alternate===null&&e(w,F),C=s(x,C,A),W===null?X=x:W.sibling=x,W=x,F=E}if(I.done)return n(w,F),Mn&&Wl(w,A),X;if(F===null){for(;!I.done;A++,I=L.next())I=d(w,I.value,V),I!==null&&(C=s(I,C,A),W===null?X=I:W.sibling=I,W=I);return Mn&&Wl(w,A),X}for(F=r(w,F);!I.done;A++,I=L.next())I=p(F,w,A,I.value,V),I!==null&&(t&&I.alternate!==null&&F.delete(I.key===null?A:I.key),C=s(I,C,A),W===null?X=I:W.sibling=I,W=I);return t&&F.forEach(function(T){return e(w,T)}),Mn&&Wl(w,A),X}function D(w,C,L,V){if(typeof L=="object"&&L!==null&&L.type===rc&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case Pd:e:{for(var X=L.key,W=C;W!==null;){if(W.key===X){if(X=L.type,X===rc){if(W.tag===7){n(w,W.sibling),C=i(W,L.props.children),C.return=w,w=C;break e}}else if(W.elementType===X||typeof X=="object"&&X!==null&&X.$$typeof===$a&&e_(X)===W.type){n(w,W.sibling),C=i(W,L.props),C.ref=Lh(w,W,L),C.return=w,w=C;break e}n(w,W);break}else e(w,W);W=W.sibling}L.type===rc?(C=su(L.props.children,w.mode,V,L.key),C.return=w,w=C):(V=kp(L.type,L.key,L.props,null,w.mode,V),V.ref=Lh(w,C,L),V.return=w,w=V)}return o(w);case nc:e:{for(W=L.key;C!==null;){if(C.key===W)if(C.tag===4&&C.stateNode.containerInfo===L.containerInfo&&C.stateNode.implementation===L.implementation){n(w,C.sibling),C=i(C,L.children||[]),C.return=w,w=C;break e}else{n(w,C);break}else e(w,C);C=C.sibling}C=E1(L,w.mode,V),C.return=w,w=C}return o(w);case $a:return W=L._init,D(w,C,W(L._payload),V)}if(Bh(L))return _(w,C,L,V);if(Ih(L))return k(w,C,L,V);zd(w,L)}return typeof L=="string"&&L!==""||typeof L=="number"?(L=""+L,C!==null&&C.tag===6?(n(w,C.sibling),C=i(C,L),C.return=w,w=C):(n(w,C),C=A1(L,w.mode,V),C.return=w,w=C),o(w)):n(w,C)}return D}var Mc=Ok(!0),Mk=Ok(!1),nm=El(null),rm=null,hc=null,Uy=null;function zy(){Uy=hc=rm=null}function qy(t){var e=nm.current;Rn(nm),t._currentValue=e}function n2(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function _c(t,e){rm=t,Uy=hc=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ni=!0),t.firstContext=null)}function Es(t){var e=t._currentValue;if(Uy!==t)if(t={context:t,memoizedValue:e,next:null},hc===null){if(rm===null)throw Error(Me(308));hc=t,rm.dependencies={lanes:0,firstContext:t}}else hc=hc.next=t;return e}var Zl=null;function $y(t){Zl===null?Zl=[t]:Zl.push(t)}function Fk(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,$y(e)):(n.next=i.next,i.next=n),e.interleaved=n,ua(t,r)}function ua(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ha=!1;function Hy(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function jk(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function oa(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function sl(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Zt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,ua(t,n)}return i=r.interleaved,i===null?(e.next=e,$y(r)):(e.next=i.next,i.next=e),r.interleaved=e,ua(t,n)}function yp(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ny(t,n)}}function t_(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function im(t,e,n,r){var i=t.updateQueue;Ha=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,c=u=l=null,a=s;do{var g=a.lane,p=a.eventTime;if((r&g)===g){c!==null&&(c=c.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var _=t,k=a;switch(g=e,p=n,k.tag){case 1:if(_=k.payload,typeof _=="function"){d=_.call(p,d,g);break e}d=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=k.payload,g=typeof _=="function"?_.call(p,d,g):_,g==null)break e;d=Vn({},d,g);break e;case 2:Ha=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,g=i.effects,g===null?i.effects=[a]:g.push(a))}else p={eventTime:p,lane:g,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=p,l=d):c=c.next=p,o|=g;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;g=a,a=g.next,g.next=null,i.lastBaseUpdate=g,i.shared.pending=null}}while(!0);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);fu|=o,t.lanes=o,t.memoizedState=d}}function n_(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Me(191,i));i.call(r)}}}var Kf={},Eo=El(Kf),Af=El(Kf),Ef=El(Kf);function eu(t){if(t===Kf)throw Error(Me(174));return t}function Wy(t,e){switch(En(Ef,e),En(Af,t),En(Eo,Kf),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:M0(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=M0(e,t)}Rn(Eo),En(Eo,e)}function Fc(){Rn(Eo),Rn(Af),Rn(Ef)}function Vk(t){eu(Ef.current);var e=eu(Eo.current),n=M0(e,t.type);e!==n&&(En(Af,t),En(Eo,n))}function Gy(t){Af.current===t&&(Rn(Eo),Rn(Af))}var Fn=El(0);function sm(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var w1=[];function Ky(){for(var t=0;t<w1.length;t++)w1[t]._workInProgressVersionPrimary=null;w1.length=0}var vp=ma.ReactCurrentDispatcher,_1=ma.ReactCurrentBatchConfig,hu=0,jn=null,fr=null,wr=null,om=!1,Jh=!1,If=0,hP=0;function Mr(){throw Error(Me(321))}function Qy(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ys(t[n],e[n]))return!1;return!0}function Yy(t,e,n,r,i,s){if(hu=s,jn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,vp.current=t===null||t.memoizedState===null?mP:gP,t=n(r,i),Jh){s=0;do{if(Jh=!1,If=0,25<=s)throw Error(Me(301));s+=1,wr=fr=null,e.updateQueue=null,vp.current=yP,t=n(r,i)}while(Jh)}if(vp.current=am,e=fr!==null&&fr.next!==null,hu=0,wr=fr=jn=null,om=!1,e)throw Error(Me(300));return t}function Xy(){var t=If!==0;return If=0,t}function _o(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wr===null?jn.memoizedState=wr=t:wr=wr.next=t,wr}function Is(){if(fr===null){var t=jn.alternate;t=t!==null?t.memoizedState:null}else t=fr.next;var e=wr===null?jn.memoizedState:wr.next;if(e!==null)wr=e,fr=t;else{if(t===null)throw Error(Me(310));fr=t,t={memoizedState:fr.memoizedState,baseState:fr.baseState,baseQueue:fr.baseQueue,queue:fr.queue,next:null},wr===null?jn.memoizedState=wr=t:wr=wr.next=t}return wr}function Tf(t,e){return typeof e=="function"?e(t):e}function b1(t){var e=Is(),n=e.queue;if(n===null)throw Error(Me(311));n.lastRenderedReducer=t;var r=fr,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((hu&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,jn.lanes|=c,fu|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,Ys(r,e.memoizedState)||(Ni=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,jn.lanes|=s,fu|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function x1(t){var e=Is(),n=e.queue;if(n===null)throw Error(Me(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Ys(s,e.memoizedState)||(Ni=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function Bk(){}function Uk(t,e){var n=jn,r=Is(),i=e(),s=!Ys(r.memoizedState,i);if(s&&(r.memoizedState=i,Ni=!0),r=r.queue,Jy($k.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||wr!==null&&wr.memoizedState.tag&1){if(n.flags|=2048,Cf(9,qk.bind(null,n,r,i,e),void 0,null),br===null)throw Error(Me(349));hu&30||zk(n,e,i)}return i}function zk(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=jn.updateQueue,e===null?(e={lastEffect:null,stores:null},jn.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function qk(t,e,n,r){e.value=n,e.getSnapshot=r,Hk(e)&&Wk(t)}function $k(t,e,n){return n(function(){Hk(e)&&Wk(t)})}function Hk(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ys(t,n)}catch{return!0}}function Wk(t){var e=ua(t,1);e!==null&&Gs(e,t,1,-1)}function r_(t){var e=_o();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Tf,lastRenderedState:t},e.queue=t,t=t.dispatch=pP.bind(null,jn,t),[e.memoizedState,t]}function Cf(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=jn.updateQueue,e===null?(e={lastEffect:null,stores:null},jn.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Gk(){return Is().memoizedState}function wp(t,e,n,r){var i=_o();jn.flags|=t,i.memoizedState=Cf(1|e,n,void 0,r===void 0?null:r)}function Ym(t,e,n,r){var i=Is();r=r===void 0?null:r;var s=void 0;if(fr!==null){var o=fr.memoizedState;if(s=o.destroy,r!==null&&Qy(r,o.deps)){i.memoizedState=Cf(e,n,s,r);return}}jn.flags|=t,i.memoizedState=Cf(1|e,n,s,r)}function i_(t,e){return wp(8390656,8,t,e)}function Jy(t,e){return Ym(2048,8,t,e)}function Kk(t,e){return Ym(4,2,t,e)}function Qk(t,e){return Ym(4,4,t,e)}function Yk(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Xk(t,e,n){return n=n!=null?n.concat([t]):null,Ym(4,4,Yk.bind(null,e,t),n)}function Zy(){}function Jk(t,e){var n=Is();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Qy(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Zk(t,e){var n=Is();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Qy(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function eS(t,e,n){return hu&21?(Ys(n,e)||(n=sk(),jn.lanes|=n,fu|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ni=!0),t.memoizedState=n)}function fP(t,e){var n=un;un=n!==0&&4>n?n:4,t(!0);var r=_1.transition;_1.transition={};try{t(!1),e()}finally{un=n,_1.transition=r}}function tS(){return Is().memoizedState}function dP(t,e,n){var r=al(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},nS(t))rS(e,n);else if(n=Fk(t,e,n,r),n!==null){var i=ci();Gs(n,t,r,i),iS(n,e,r)}}function pP(t,e,n){var r=al(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(nS(t))rS(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Ys(a,o)){var l=e.interleaved;l===null?(i.next=i,$y(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=Fk(t,e,i,r),n!==null&&(i=ci(),Gs(n,t,r,i),iS(n,e,r))}}function nS(t){var e=t.alternate;return t===jn||e!==null&&e===jn}function rS(t,e){Jh=om=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function iS(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ny(t,n)}}var am={readContext:Es,useCallback:Mr,useContext:Mr,useEffect:Mr,useImperativeHandle:Mr,useInsertionEffect:Mr,useLayoutEffect:Mr,useMemo:Mr,useReducer:Mr,useRef:Mr,useState:Mr,useDebugValue:Mr,useDeferredValue:Mr,useTransition:Mr,useMutableSource:Mr,useSyncExternalStore:Mr,useId:Mr,unstable_isNewReconciler:!1},mP={readContext:Es,useCallback:function(t,e){return _o().memoizedState=[t,e===void 0?null:e],t},useContext:Es,useEffect:i_,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,wp(4194308,4,Yk.bind(null,e,t),n)},useLayoutEffect:function(t,e){return wp(4194308,4,t,e)},useInsertionEffect:function(t,e){return wp(4,2,t,e)},useMemo:function(t,e){var n=_o();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=_o();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=dP.bind(null,jn,t),[r.memoizedState,t]},useRef:function(t){var e=_o();return t={current:t},e.memoizedState=t},useState:r_,useDebugValue:Zy,useDeferredValue:function(t){return _o().memoizedState=t},useTransition:function(){var t=r_(!1),e=t[0];return t=fP.bind(null,t[1]),_o().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=jn,i=_o();if(Mn){if(n===void 0)throw Error(Me(407));n=n()}else{if(n=e(),br===null)throw Error(Me(349));hu&30||zk(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,i_($k.bind(null,r,s,t),[t]),r.flags|=2048,Cf(9,qk.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=_o(),e=br.identifierPrefix;if(Mn){var n=ra,r=na;n=(r&~(1<<32-Ws(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=If++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=hP++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},gP={readContext:Es,useCallback:Jk,useContext:Es,useEffect:Jy,useImperativeHandle:Xk,useInsertionEffect:Kk,useLayoutEffect:Qk,useMemo:Zk,useReducer:b1,useRef:Gk,useState:function(){return b1(Tf)},useDebugValue:Zy,useDeferredValue:function(t){var e=Is();return eS(e,fr.memoizedState,t)},useTransition:function(){var t=b1(Tf)[0],e=Is().memoizedState;return[t,e]},useMutableSource:Bk,useSyncExternalStore:Uk,useId:tS,unstable_isNewReconciler:!1},yP={readContext:Es,useCallback:Jk,useContext:Es,useEffect:Jy,useImperativeHandle:Xk,useInsertionEffect:Kk,useLayoutEffect:Qk,useMemo:Zk,useReducer:x1,useRef:Gk,useState:function(){return x1(Tf)},useDebugValue:Zy,useDeferredValue:function(t){var e=Is();return fr===null?e.memoizedState=t:eS(e,fr.memoizedState,t)},useTransition:function(){var t=x1(Tf)[0],e=Is().memoizedState;return[t,e]},useMutableSource:Bk,useSyncExternalStore:Uk,useId:tS,unstable_isNewReconciler:!1};function Us(t,e){if(t&&t.defaultProps){e=Vn({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function r2(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Vn({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Xm={isMounted:function(t){return(t=t._reactInternals)?ku(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=ci(),i=al(t),s=oa(r,i);s.payload=e,n!=null&&(s.callback=n),e=sl(t,s,i),e!==null&&(Gs(e,t,i,r),yp(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=ci(),i=al(t),s=oa(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=sl(t,s,i),e!==null&&(Gs(e,t,i,r),yp(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ci(),r=al(t),i=oa(n,r);i.tag=2,e!=null&&(i.callback=e),e=sl(t,i,r),e!==null&&(Gs(e,t,r,n),yp(e,t,r))}};function s_(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!bf(n,r)||!bf(i,s):!0}function sS(t,e,n){var r=!1,i=ml,s=e.contextType;return typeof s=="object"&&s!==null?s=Es(s):(i=Li(e)?uu:Gr.current,r=e.contextTypes,s=(r=r!=null)?Dc(t,i):ml),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Xm,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function o_(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Xm.enqueueReplaceState(e,e.state,null)}function i2(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Hy(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Es(s):(s=Li(e)?uu:Gr.current,i.context=Dc(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(r2(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Xm.enqueueReplaceState(i,i.state,null),im(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function jc(t,e){try{var n="",r=e;do n+=HC(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function k1(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function s2(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var vP=typeof WeakMap=="function"?WeakMap:Map;function oS(t,e,n){n=oa(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){um||(um=!0,m2=r),s2(t,e)},n}function aS(t,e,n){n=oa(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){s2(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){s2(t,e),typeof r!="function"&&(ol===null?ol=new Set([this]):ol.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function a_(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new vP;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=LP.bind(null,t,e,n),e.then(t,t))}function l_(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function u_(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=oa(-1,1),e.tag=2,sl(n,e,1))),n.lanes|=1),t)}var wP=ma.ReactCurrentOwner,Ni=!1;function li(t,e,n,r){e.child=t===null?Mk(e,null,n,r):Mc(e,t.child,n,r)}function c_(t,e,n,r,i){n=n.render;var s=e.ref;return _c(e,i),r=Yy(t,e,n,r,s,i),n=Xy(),t!==null&&!Ni?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ca(t,e,i)):(Mn&&n&&jy(e),e.flags|=1,li(t,e,r,i),e.child)}function h_(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!a5(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,lS(t,e,s,r,i)):(t=kp(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:bf,n(o,r)&&t.ref===e.ref)return ca(t,e,i)}return e.flags|=1,t=ll(s,r),t.ref=e.ref,t.return=e,e.child=t}function lS(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(bf(s,r)&&t.ref===e.ref)if(Ni=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Ni=!0);else return e.lanes=t.lanes,ca(t,e,i)}return o2(t,e,n,r,i)}function uS(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},En(dc,Ki),Ki|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,En(dc,Ki),Ki|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,En(dc,Ki),Ki|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,En(dc,Ki),Ki|=r;return li(t,e,i,n),e.child}function cS(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function o2(t,e,n,r,i){var s=Li(n)?uu:Gr.current;return s=Dc(e,s),_c(e,i),n=Yy(t,e,n,r,s,i),r=Xy(),t!==null&&!Ni?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ca(t,e,i)):(Mn&&r&&jy(e),e.flags|=1,li(t,e,n,i),e.child)}function f_(t,e,n,r,i){if(Li(n)){var s=!0;Zp(e)}else s=!1;if(_c(e,i),e.stateNode===null)_p(t,e),sS(e,n,r),i2(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Es(u):(u=Li(n)?uu:Gr.current,u=Dc(e,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&o_(e,o,r,u),Ha=!1;var g=e.memoizedState;o.state=g,im(e,r,o,i),l=e.memoizedState,a!==r||g!==l||Pi.current||Ha?(typeof c=="function"&&(r2(e,n,c,r),l=e.memoizedState),(a=Ha||s_(e,n,a,r,g,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,jk(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Us(e.type,a),o.props=u,d=e.pendingProps,g=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Es(l):(l=Li(n)?uu:Gr.current,l=Dc(e,l));var p=n.getDerivedStateFromProps;(c=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||g!==l)&&o_(e,o,r,l),Ha=!1,g=e.memoizedState,o.state=g,im(e,r,o,i);var _=e.memoizedState;a!==d||g!==_||Pi.current||Ha?(typeof p=="function"&&(r2(e,n,p,r),_=e.memoizedState),(u=Ha||s_(e,n,u,r,g,_,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,_,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,_,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=_),o.props=r,o.state=_,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),r=!1)}return a2(t,e,n,r,s,i)}function a2(t,e,n,r,i,s){cS(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&Xw(e,n,!1),ca(t,e,s);r=e.stateNode,wP.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Mc(e,t.child,null,s),e.child=Mc(e,null,a,s)):li(t,e,a,s),e.memoizedState=r.state,i&&Xw(e,n,!0),e.child}function hS(t){var e=t.stateNode;e.pendingContext?Yw(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Yw(t,e.context,!1),Wy(t,e.containerInfo)}function d_(t,e,n,r,i){return Oc(),By(i),e.flags|=256,li(t,e,n,r),e.child}var l2={dehydrated:null,treeContext:null,retryLane:0};function u2(t){return{baseLanes:t,cachePool:null,transitions:null}}function fS(t,e,n){var r=e.pendingProps,i=Fn.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),En(Fn,i&1),t===null)return t2(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=eg(o,r,0,null),t=su(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=u2(n),e.memoizedState=l2,t):e5(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return _P(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=ll(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=ll(a,s):(s=su(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?u2(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=l2,r}return s=t.child,t=s.sibling,r=ll(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function e5(t,e){return e=eg({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function qd(t,e,n,r){return r!==null&&By(r),Mc(e,t.child,null,n),t=e5(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function _P(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=k1(Error(Me(422))),qd(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=eg({mode:"visible",children:r.children},i,0,null),s=su(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Mc(e,t.child,null,o),e.child.memoizedState=u2(o),e.memoizedState=l2,s);if(!(e.mode&1))return qd(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(Me(419)),r=k1(s,r,void 0),qd(t,e,o,r)}if(a=(o&t.childLanes)!==0,Ni||a){if(r=br,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,ua(t,i),Gs(r,t,i,-1))}return o5(),r=k1(Error(Me(421))),qd(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=RP.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Qi=il(i.nextSibling),Ji=e,Mn=!0,qs=null,t!==null&&(ys[vs++]=na,ys[vs++]=ra,ys[vs++]=cu,na=t.id,ra=t.overflow,cu=e),e=e5(e,r.children),e.flags|=4096,e)}function p_(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),n2(t.return,e,n)}function S1(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function dS(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(li(t,e,r.children,n),r=Fn.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&p_(t,n,e);else if(t.tag===19)p_(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(En(Fn,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&sm(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),S1(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&sm(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}S1(e,!0,n,null,s);break;case"together":S1(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function _p(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ca(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),fu|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Me(153));if(e.child!==null){for(t=e.child,n=ll(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ll(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function bP(t,e,n){switch(e.tag){case 3:hS(e),Oc();break;case 5:Vk(e);break;case 1:Li(e.type)&&Zp(e);break;case 4:Wy(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;En(nm,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(En(Fn,Fn.current&1),e.flags|=128,null):n&e.child.childLanes?fS(t,e,n):(En(Fn,Fn.current&1),t=ca(t,e,n),t!==null?t.sibling:null);En(Fn,Fn.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return dS(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),En(Fn,Fn.current),r)break;return null;case 22:case 23:return e.lanes=0,uS(t,e,n)}return ca(t,e,n)}var pS,c2,mS,gS;pS=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};c2=function(){};mS=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,eu(Eo.current);var s=null;switch(n){case"input":i=L0(t,i),r=L0(t,r),s=[];break;case"select":i=Vn({},i,{value:void 0}),r=Vn({},r,{value:void 0}),s=[];break;case"textarea":i=O0(t,i),r=O0(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Xp)}F0(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(pf.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(pf.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Nn("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};gS=function(t,e,n,r){n!==r&&(e.flags|=4)};function Rh(t,e){if(!Mn)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Fr(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function xP(t,e,n){var r=e.pendingProps;switch(Vy(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Fr(e),null;case 1:return Li(e.type)&&Jp(),Fr(e),null;case 3:return r=e.stateNode,Fc(),Rn(Pi),Rn(Gr),Ky(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ud(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,qs!==null&&(v2(qs),qs=null))),c2(t,e),Fr(e),null;case 5:Gy(e);var i=eu(Ef.current);if(n=e.type,t!==null&&e.stateNode!=null)mS(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Me(166));return Fr(e),null}if(t=eu(Eo.current),Ud(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[ko]=e,r[Sf]=s,t=(e.mode&1)!==0,n){case"dialog":Nn("cancel",r),Nn("close",r);break;case"iframe":case"object":case"embed":Nn("load",r);break;case"video":case"audio":for(i=0;i<zh.length;i++)Nn(zh[i],r);break;case"source":Nn("error",r);break;case"img":case"image":case"link":Nn("error",r),Nn("load",r);break;case"details":Nn("toggle",r);break;case"input":kw(r,s),Nn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Nn("invalid",r);break;case"textarea":Aw(r,s),Nn("invalid",r)}F0(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Bd(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Bd(r.textContent,a,t),i=["children",""+a]):pf.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Nn("scroll",r)}switch(n){case"input":Ld(r),Sw(r,s,!0);break;case"textarea":Ld(r),Ew(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Xp)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=$x(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[ko]=e,t[Sf]=r,pS(t,e,!1,!1),e.stateNode=t;e:{switch(o=j0(n,r),n){case"dialog":Nn("cancel",t),Nn("close",t),i=r;break;case"iframe":case"object":case"embed":Nn("load",t),i=r;break;case"video":case"audio":for(i=0;i<zh.length;i++)Nn(zh[i],t);i=r;break;case"source":Nn("error",t),i=r;break;case"img":case"image":case"link":Nn("error",t),Nn("load",t),i=r;break;case"details":Nn("toggle",t),i=r;break;case"input":kw(t,r),i=L0(t,r),Nn("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Vn({},r,{value:void 0}),Nn("invalid",t);break;case"textarea":Aw(t,r),i=O0(t,r),Nn("invalid",t);break;default:i=r}F0(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?Gx(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Hx(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&mf(t,l):typeof l=="number"&&mf(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(pf.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Nn("scroll",t):l!=null&&Sy(t,s,l,o))}switch(n){case"input":Ld(t),Sw(t,r,!1);break;case"textarea":Ld(t),Ew(t);break;case"option":r.value!=null&&t.setAttribute("value",""+pl(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?gc(t,!!r.multiple,s,!1):r.defaultValue!=null&&gc(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Xp)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Fr(e),null;case 6:if(t&&e.stateNode!=null)gS(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Me(166));if(n=eu(Ef.current),eu(Eo.current),Ud(e)){if(r=e.stateNode,n=e.memoizedProps,r[ko]=e,(s=r.nodeValue!==n)&&(t=Ji,t!==null))switch(t.tag){case 3:Bd(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Bd(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ko]=e,e.stateNode=r}return Fr(e),null;case 13:if(Rn(Fn),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Mn&&Qi!==null&&e.mode&1&&!(e.flags&128))Dk(),Oc(),e.flags|=98560,s=!1;else if(s=Ud(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(Me(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Me(317));s[ko]=e}else Oc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Fr(e),s=!1}else qs!==null&&(v2(qs),qs=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Fn.current&1?dr===0&&(dr=3):o5())),e.updateQueue!==null&&(e.flags|=4),Fr(e),null);case 4:return Fc(),c2(t,e),t===null&&xf(e.stateNode.containerInfo),Fr(e),null;case 10:return qy(e.type._context),Fr(e),null;case 17:return Li(e.type)&&Jp(),Fr(e),null;case 19:if(Rn(Fn),s=e.memoizedState,s===null)return Fr(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Rh(s,!1);else{if(dr!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=sm(t),o!==null){for(e.flags|=128,Rh(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return En(Fn,Fn.current&1|2),e.child}t=t.sibling}s.tail!==null&&Xn()>Vc&&(e.flags|=128,r=!0,Rh(s,!1),e.lanes=4194304)}else{if(!r)if(t=sm(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Rh(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Mn)return Fr(e),null}else 2*Xn()-s.renderingStartTime>Vc&&n!==1073741824&&(e.flags|=128,r=!0,Rh(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Xn(),e.sibling=null,n=Fn.current,En(Fn,r?n&1|2:n&1),e):(Fr(e),null);case 22:case 23:return s5(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ki&1073741824&&(Fr(e),e.subtreeFlags&6&&(e.flags|=8192)):Fr(e),null;case 24:return null;case 25:return null}throw Error(Me(156,e.tag))}function kP(t,e){switch(Vy(e),e.tag){case 1:return Li(e.type)&&Jp(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Fc(),Rn(Pi),Rn(Gr),Ky(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Gy(e),null;case 13:if(Rn(Fn),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Me(340));Oc()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Rn(Fn),null;case 4:return Fc(),null;case 10:return qy(e.type._context),null;case 22:case 23:return s5(),null;case 24:return null;default:return null}}var $d=!1,$r=!1,SP=typeof WeakSet=="function"?WeakSet:Set,Xe=null;function fc(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){$n(t,e,r)}else n.current=null}function h2(t,e,n){try{n()}catch(r){$n(t,e,r)}}var m_=!1;function AP(t,e){if(K0=Kp,t=bk(),Fy(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,d=t,g=null;t:for(;;){for(var p;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(p=d.firstChild)!==null;)g=d,d=p;for(;;){if(d===t)break t;if(g===n&&++u===i&&(a=o),g===s&&++c===r&&(l=o),(p=d.nextSibling)!==null)break;d=g,g=d.parentNode}d=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Q0={focusedElem:t,selectionRange:n},Kp=!1,Xe=e;Xe!==null;)if(e=Xe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Xe=t;else for(;Xe!==null;){e=Xe;try{var _=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var k=_.memoizedProps,D=_.memoizedState,w=e.stateNode,C=w.getSnapshotBeforeUpdate(e.elementType===e.type?k:Us(e.type,k),D);w.__reactInternalSnapshotBeforeUpdate=C}break;case 3:var L=e.stateNode.containerInfo;L.nodeType===1?L.textContent="":L.nodeType===9&&L.documentElement&&L.removeChild(L.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Me(163))}}catch(V){$n(e,e.return,V)}if(t=e.sibling,t!==null){t.return=e.return,Xe=t;break}Xe=e.return}return _=m_,m_=!1,_}function Zh(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&h2(e,n,s)}i=i.next}while(i!==r)}}function Jm(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function f2(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function yS(t){var e=t.alternate;e!==null&&(t.alternate=null,yS(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ko],delete e[Sf],delete e[J0],delete e[aP],delete e[lP])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function vS(t){return t.tag===5||t.tag===3||t.tag===4}function g_(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||vS(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function d2(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Xp));else if(r!==4&&(t=t.child,t!==null))for(d2(t,e,n),t=t.sibling;t!==null;)d2(t,e,n),t=t.sibling}function p2(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(p2(t,e,n),t=t.sibling;t!==null;)p2(t,e,n),t=t.sibling}var Er=null,zs=!1;function Va(t,e,n){for(n=n.child;n!==null;)wS(t,e,n),n=n.sibling}function wS(t,e,n){if(Ao&&typeof Ao.onCommitFiberUnmount=="function")try{Ao.onCommitFiberUnmount($m,n)}catch{}switch(n.tag){case 5:$r||fc(n,e);case 6:var r=Er,i=zs;Er=null,Va(t,e,n),Er=r,zs=i,Er!==null&&(zs?(t=Er,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Er.removeChild(n.stateNode));break;case 18:Er!==null&&(zs?(t=Er,n=n.stateNode,t.nodeType===8?y1(t.parentNode,n):t.nodeType===1&&y1(t,n),wf(t)):y1(Er,n.stateNode));break;case 4:r=Er,i=zs,Er=n.stateNode.containerInfo,zs=!0,Va(t,e,n),Er=r,zs=i;break;case 0:case 11:case 14:case 15:if(!$r&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&h2(n,e,o),i=i.next}while(i!==r)}Va(t,e,n);break;case 1:if(!$r&&(fc(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){$n(n,e,a)}Va(t,e,n);break;case 21:Va(t,e,n);break;case 22:n.mode&1?($r=(r=$r)||n.memoizedState!==null,Va(t,e,n),$r=r):Va(t,e,n);break;default:Va(t,e,n)}}function y_(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new SP),e.forEach(function(r){var i=DP.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Vs(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Er=a.stateNode,zs=!1;break e;case 3:Er=a.stateNode.containerInfo,zs=!0;break e;case 4:Er=a.stateNode.containerInfo,zs=!0;break e}a=a.return}if(Er===null)throw Error(Me(160));wS(s,o,i),Er=null,zs=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){$n(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)_S(e,t),e=e.sibling}function _S(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Vs(e,t),yo(t),r&4){try{Zh(3,t,t.return),Jm(3,t)}catch(k){$n(t,t.return,k)}try{Zh(5,t,t.return)}catch(k){$n(t,t.return,k)}}break;case 1:Vs(e,t),yo(t),r&512&&n!==null&&fc(n,n.return);break;case 5:if(Vs(e,t),yo(t),r&512&&n!==null&&fc(n,n.return),t.flags&32){var i=t.stateNode;try{mf(i,"")}catch(k){$n(t,t.return,k)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&zx(i,s),j0(a,o);var u=j0(a,s);for(o=0;o<l.length;o+=2){var c=l[o],d=l[o+1];c==="style"?Gx(i,d):c==="dangerouslySetInnerHTML"?Hx(i,d):c==="children"?mf(i,d):Sy(i,c,d,u)}switch(a){case"input":R0(i,s);break;case"textarea":qx(i,s);break;case"select":var g=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?gc(i,!!s.multiple,p,!1):g!==!!s.multiple&&(s.defaultValue!=null?gc(i,!!s.multiple,s.defaultValue,!0):gc(i,!!s.multiple,s.multiple?[]:"",!1))}i[Sf]=s}catch(k){$n(t,t.return,k)}}break;case 6:if(Vs(e,t),yo(t),r&4){if(t.stateNode===null)throw Error(Me(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(k){$n(t,t.return,k)}}break;case 3:if(Vs(e,t),yo(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{wf(e.containerInfo)}catch(k){$n(t,t.return,k)}break;case 4:Vs(e,t),yo(t);break;case 13:Vs(e,t),yo(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(r5=Xn())),r&4&&y_(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?($r=(u=$r)||c,Vs(e,t),$r=u):Vs(e,t),yo(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(Xe=t,c=t.child;c!==null;){for(d=Xe=c;Xe!==null;){switch(g=Xe,p=g.child,g.tag){case 0:case 11:case 14:case 15:Zh(4,g,g.return);break;case 1:fc(g,g.return);var _=g.stateNode;if(typeof _.componentWillUnmount=="function"){r=g,n=g.return;try{e=r,_.props=e.memoizedProps,_.state=e.memoizedState,_.componentWillUnmount()}catch(k){$n(r,n,k)}}break;case 5:fc(g,g.return);break;case 22:if(g.memoizedState!==null){w_(d);continue}}p!==null?(p.return=g,Xe=p):w_(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Wx("display",o))}catch(k){$n(t,t.return,k)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(k){$n(t,t.return,k)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Vs(e,t),yo(t),r&4&&y_(t);break;case 21:break;default:Vs(e,t),yo(t)}}function yo(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(vS(n)){var r=n;break e}n=n.return}throw Error(Me(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(mf(i,""),r.flags&=-33);var s=g_(t);p2(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=g_(t);d2(t,a,o);break;default:throw Error(Me(161))}}catch(l){$n(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function EP(t,e,n){Xe=t,bS(t)}function bS(t,e,n){for(var r=(t.mode&1)!==0;Xe!==null;){var i=Xe,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||$d;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||$r;a=$d;var u=$r;if($d=o,($r=l)&&!u)for(Xe=i;Xe!==null;)o=Xe,l=o.child,o.tag===22&&o.memoizedState!==null?__(i):l!==null?(l.return=o,Xe=l):__(i);for(;s!==null;)Xe=s,bS(s),s=s.sibling;Xe=i,$d=a,$r=u}v_(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Xe=s):v_(t)}}function v_(t){for(;Xe!==null;){var e=Xe;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:$r||Jm(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!$r)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Us(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&n_(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}n_(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&wf(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Me(163))}$r||e.flags&512&&f2(e)}catch(g){$n(e,e.return,g)}}if(e===t){Xe=null;break}if(n=e.sibling,n!==null){n.return=e.return,Xe=n;break}Xe=e.return}}function w_(t){for(;Xe!==null;){var e=Xe;if(e===t){Xe=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Xe=n;break}Xe=e.return}}function __(t){for(;Xe!==null;){var e=Xe;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Jm(4,e)}catch(l){$n(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){$n(e,i,l)}}var s=e.return;try{f2(e)}catch(l){$n(e,s,l)}break;case 5:var o=e.return;try{f2(e)}catch(l){$n(e,o,l)}}}catch(l){$n(e,e.return,l)}if(e===t){Xe=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Xe=a;break}Xe=e.return}}var IP=Math.ceil,lm=ma.ReactCurrentDispatcher,t5=ma.ReactCurrentOwner,xs=ma.ReactCurrentBatchConfig,Zt=0,br=null,ir=null,Cr=0,Ki=0,dc=El(0),dr=0,Nf=null,fu=0,Zm=0,n5=0,ef=null,Ti=null,r5=0,Vc=1/0,Jo=null,um=!1,m2=null,ol=null,Hd=!1,Ja=null,cm=0,tf=0,g2=null,bp=-1,xp=0;function ci(){return Zt&6?Xn():bp!==-1?bp:bp=Xn()}function al(t){return t.mode&1?Zt&2&&Cr!==0?Cr&-Cr:cP.transition!==null?(xp===0&&(xp=sk()),xp):(t=un,t!==0||(t=window.event,t=t===void 0?16:fk(t.type)),t):1}function Gs(t,e,n,r){if(50<tf)throw tf=0,g2=null,Error(Me(185));Hf(t,n,r),(!(Zt&2)||t!==br)&&(t===br&&(!(Zt&2)&&(Zm|=n),dr===4&&Ga(t,Cr)),Ri(t,r),n===1&&Zt===0&&!(e.mode&1)&&(Vc=Xn()+500,Qm&&Il()))}function Ri(t,e){var n=t.callbackNode;cN(t,e);var r=Gp(t,t===br?Cr:0);if(r===0)n!==null&&Cw(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Cw(n),e===1)t.tag===0?uP(b_.bind(null,t)):Pk(b_.bind(null,t)),sP(function(){!(Zt&6)&&Il()}),n=null;else{switch(ok(r)){case 1:n=Cy;break;case 4:n=rk;break;case 16:n=Wp;break;case 536870912:n=ik;break;default:n=Wp}n=CS(n,xS.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function xS(t,e){if(bp=-1,xp=0,Zt&6)throw Error(Me(327));var n=t.callbackNode;if(bc()&&t.callbackNode!==n)return null;var r=Gp(t,t===br?Cr:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=hm(t,r);else{e=r;var i=Zt;Zt|=2;var s=SS();(br!==t||Cr!==e)&&(Jo=null,Vc=Xn()+500,iu(t,e));do try{NP();break}catch(a){kS(t,a)}while(!0);zy(),lm.current=s,Zt=i,ir!==null?e=0:(br=null,Cr=0,e=dr)}if(e!==0){if(e===2&&(i=q0(t),i!==0&&(r=i,e=y2(t,i))),e===1)throw n=Nf,iu(t,0),Ga(t,r),Ri(t,Xn()),n;if(e===6)Ga(t,r);else{if(i=t.current.alternate,!(r&30)&&!TP(i)&&(e=hm(t,r),e===2&&(s=q0(t),s!==0&&(r=s,e=y2(t,s))),e===1))throw n=Nf,iu(t,0),Ga(t,r),Ri(t,Xn()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Me(345));case 2:Gl(t,Ti,Jo);break;case 3:if(Ga(t,r),(r&130023424)===r&&(e=r5+500-Xn(),10<e)){if(Gp(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){ci(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=X0(Gl.bind(null,t,Ti,Jo),e);break}Gl(t,Ti,Jo);break;case 4:if(Ga(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Ws(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Xn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*IP(r/1960))-r,10<r){t.timeoutHandle=X0(Gl.bind(null,t,Ti,Jo),r);break}Gl(t,Ti,Jo);break;case 5:Gl(t,Ti,Jo);break;default:throw Error(Me(329))}}}return Ri(t,Xn()),t.callbackNode===n?xS.bind(null,t):null}function y2(t,e){var n=ef;return t.current.memoizedState.isDehydrated&&(iu(t,e).flags|=256),t=hm(t,e),t!==2&&(e=Ti,Ti=n,e!==null&&v2(e)),t}function v2(t){Ti===null?Ti=t:Ti.push.apply(Ti,t)}function TP(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Ys(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ga(t,e){for(e&=~n5,e&=~Zm,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ws(e),r=1<<n;t[n]=-1,e&=~r}}function b_(t){if(Zt&6)throw Error(Me(327));bc();var e=Gp(t,0);if(!(e&1))return Ri(t,Xn()),null;var n=hm(t,e);if(t.tag!==0&&n===2){var r=q0(t);r!==0&&(e=r,n=y2(t,r))}if(n===1)throw n=Nf,iu(t,0),Ga(t,e),Ri(t,Xn()),n;if(n===6)throw Error(Me(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Gl(t,Ti,Jo),Ri(t,Xn()),null}function i5(t,e){var n=Zt;Zt|=1;try{return t(e)}finally{Zt=n,Zt===0&&(Vc=Xn()+500,Qm&&Il())}}function du(t){Ja!==null&&Ja.tag===0&&!(Zt&6)&&bc();var e=Zt;Zt|=1;var n=xs.transition,r=un;try{if(xs.transition=null,un=1,t)return t()}finally{un=r,xs.transition=n,Zt=e,!(Zt&6)&&Il()}}function s5(){Ki=dc.current,Rn(dc)}function iu(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,iP(n)),ir!==null)for(n=ir.return;n!==null;){var r=n;switch(Vy(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Jp();break;case 3:Fc(),Rn(Pi),Rn(Gr),Ky();break;case 5:Gy(r);break;case 4:Fc();break;case 13:Rn(Fn);break;case 19:Rn(Fn);break;case 10:qy(r.type._context);break;case 22:case 23:s5()}n=n.return}if(br=t,ir=t=ll(t.current,null),Cr=Ki=e,dr=0,Nf=null,n5=Zm=fu=0,Ti=ef=null,Zl!==null){for(e=0;e<Zl.length;e++)if(n=Zl[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Zl=null}return t}function kS(t,e){do{var n=ir;try{if(zy(),vp.current=am,om){for(var r=jn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}om=!1}if(hu=0,wr=fr=jn=null,Jh=!1,If=0,t5.current=null,n===null||n.return===null){dr=1,Nf=e,ir=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Cr,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var g=c.alternate;g?(c.updateQueue=g.updateQueue,c.memoizedState=g.memoizedState,c.lanes=g.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=l_(o);if(p!==null){p.flags&=-257,u_(p,o,a,s,e),p.mode&1&&a_(s,u,e),e=p,l=u;var _=e.updateQueue;if(_===null){var k=new Set;k.add(l),e.updateQueue=k}else _.add(l);break e}else{if(!(e&1)){a_(s,u,e),o5();break e}l=Error(Me(426))}}else if(Mn&&a.mode&1){var D=l_(o);if(D!==null){!(D.flags&65536)&&(D.flags|=256),u_(D,o,a,s,e),By(jc(l,a));break e}}s=l=jc(l,a),dr!==4&&(dr=2),ef===null?ef=[s]:ef.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var w=oS(s,l,e);t_(s,w);break e;case 1:a=l;var C=s.type,L=s.stateNode;if(!(s.flags&128)&&(typeof C.getDerivedStateFromError=="function"||L!==null&&typeof L.componentDidCatch=="function"&&(ol===null||!ol.has(L)))){s.flags|=65536,e&=-e,s.lanes|=e;var V=aS(s,a,e);t_(s,V);break e}}s=s.return}while(s!==null)}ES(n)}catch(X){e=X,ir===n&&n!==null&&(ir=n=n.return);continue}break}while(!0)}function SS(){var t=lm.current;return lm.current=am,t===null?am:t}function o5(){(dr===0||dr===3||dr===2)&&(dr=4),br===null||!(fu&268435455)&&!(Zm&268435455)||Ga(br,Cr)}function hm(t,e){var n=Zt;Zt|=2;var r=SS();(br!==t||Cr!==e)&&(Jo=null,iu(t,e));do try{CP();break}catch(i){kS(t,i)}while(!0);if(zy(),Zt=n,lm.current=r,ir!==null)throw Error(Me(261));return br=null,Cr=0,dr}function CP(){for(;ir!==null;)AS(ir)}function NP(){for(;ir!==null&&!tN();)AS(ir)}function AS(t){var e=TS(t.alternate,t,Ki);t.memoizedProps=t.pendingProps,e===null?ES(t):ir=e,t5.current=null}function ES(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=kP(n,e),n!==null){n.flags&=32767,ir=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{dr=6,ir=null;return}}else if(n=xP(n,e,Ki),n!==null){ir=n;return}if(e=e.sibling,e!==null){ir=e;return}ir=e=t}while(e!==null);dr===0&&(dr=5)}function Gl(t,e,n){var r=un,i=xs.transition;try{xs.transition=null,un=1,PP(t,e,n,r)}finally{xs.transition=i,un=r}return null}function PP(t,e,n,r){do bc();while(Ja!==null);if(Zt&6)throw Error(Me(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Me(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(hN(t,s),t===br&&(ir=br=null,Cr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Hd||(Hd=!0,CS(Wp,function(){return bc(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=xs.transition,xs.transition=null;var o=un;un=1;var a=Zt;Zt|=4,t5.current=null,AP(t,n),_S(n,t),XN(Q0),Kp=!!K0,Q0=K0=null,t.current=n,EP(n),nN(),Zt=a,un=o,xs.transition=s}else t.current=n;if(Hd&&(Hd=!1,Ja=t,cm=i),s=t.pendingLanes,s===0&&(ol=null),sN(n.stateNode),Ri(t,Xn()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(um)throw um=!1,t=m2,m2=null,t;return cm&1&&t.tag!==0&&bc(),s=t.pendingLanes,s&1?t===g2?tf++:(tf=0,g2=t):tf=0,Il(),null}function bc(){if(Ja!==null){var t=ok(cm),e=xs.transition,n=un;try{if(xs.transition=null,un=16>t?16:t,Ja===null)var r=!1;else{if(t=Ja,Ja=null,cm=0,Zt&6)throw Error(Me(331));var i=Zt;for(Zt|=4,Xe=t.current;Xe!==null;){var s=Xe,o=s.child;if(Xe.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(Xe=u;Xe!==null;){var c=Xe;switch(c.tag){case 0:case 11:case 15:Zh(8,c,s)}var d=c.child;if(d!==null)d.return=c,Xe=d;else for(;Xe!==null;){c=Xe;var g=c.sibling,p=c.return;if(yS(c),c===u){Xe=null;break}if(g!==null){g.return=p,Xe=g;break}Xe=p}}}var _=s.alternate;if(_!==null){var k=_.child;if(k!==null){_.child=null;do{var D=k.sibling;k.sibling=null,k=D}while(k!==null)}}Xe=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Xe=o;else e:for(;Xe!==null;){if(s=Xe,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Zh(9,s,s.return)}var w=s.sibling;if(w!==null){w.return=s.return,Xe=w;break e}Xe=s.return}}var C=t.current;for(Xe=C;Xe!==null;){o=Xe;var L=o.child;if(o.subtreeFlags&2064&&L!==null)L.return=o,Xe=L;else e:for(o=C;Xe!==null;){if(a=Xe,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Jm(9,a)}}catch(X){$n(a,a.return,X)}if(a===o){Xe=null;break e}var V=a.sibling;if(V!==null){V.return=a.return,Xe=V;break e}Xe=a.return}}if(Zt=i,Il(),Ao&&typeof Ao.onPostCommitFiberRoot=="function")try{Ao.onPostCommitFiberRoot($m,t)}catch{}r=!0}return r}finally{un=n,xs.transition=e}}return!1}function x_(t,e,n){e=jc(n,e),e=oS(t,e,1),t=sl(t,e,1),e=ci(),t!==null&&(Hf(t,1,e),Ri(t,e))}function $n(t,e,n){if(t.tag===3)x_(t,t,n);else for(;e!==null;){if(e.tag===3){x_(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ol===null||!ol.has(r))){t=jc(n,t),t=aS(e,t,1),e=sl(e,t,1),t=ci(),e!==null&&(Hf(e,1,t),Ri(e,t));break}}e=e.return}}function LP(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=ci(),t.pingedLanes|=t.suspendedLanes&n,br===t&&(Cr&n)===n&&(dr===4||dr===3&&(Cr&130023424)===Cr&&500>Xn()-r5?iu(t,0):n5|=n),Ri(t,e)}function IS(t,e){e===0&&(t.mode&1?(e=Od,Od<<=1,!(Od&130023424)&&(Od=4194304)):e=1);var n=ci();t=ua(t,e),t!==null&&(Hf(t,e,n),Ri(t,n))}function RP(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),IS(t,n)}function DP(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Me(314))}r!==null&&r.delete(e),IS(t,n)}var TS;TS=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Pi.current)Ni=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ni=!1,bP(t,e,n);Ni=!!(t.flags&131072)}else Ni=!1,Mn&&e.flags&1048576&&Lk(e,tm,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;_p(t,e),t=e.pendingProps;var i=Dc(e,Gr.current);_c(e,n),i=Yy(null,e,r,t,i,n);var s=Xy();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Li(r)?(s=!0,Zp(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Hy(e),i.updater=Xm,e.stateNode=i,i._reactInternals=e,i2(e,r,t,n),e=a2(null,e,r,!0,s,n)):(e.tag=0,Mn&&s&&jy(e),li(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(_p(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=MP(r),t=Us(r,t),i){case 0:e=o2(null,e,r,t,n);break e;case 1:e=f_(null,e,r,t,n);break e;case 11:e=c_(null,e,r,t,n);break e;case 14:e=h_(null,e,r,Us(r.type,t),n);break e}throw Error(Me(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Us(r,i),o2(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Us(r,i),f_(t,e,r,i,n);case 3:e:{if(hS(e),t===null)throw Error(Me(387));r=e.pendingProps,s=e.memoizedState,i=s.element,jk(t,e),im(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=jc(Error(Me(423)),e),e=d_(t,e,r,n,i);break e}else if(r!==i){i=jc(Error(Me(424)),e),e=d_(t,e,r,n,i);break e}else for(Qi=il(e.stateNode.containerInfo.firstChild),Ji=e,Mn=!0,qs=null,n=Mk(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Oc(),r===i){e=ca(t,e,n);break e}li(t,e,r,n)}e=e.child}return e;case 5:return Vk(e),t===null&&t2(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Y0(r,i)?o=null:s!==null&&Y0(r,s)&&(e.flags|=32),cS(t,e),li(t,e,o,n),e.child;case 6:return t===null&&t2(e),null;case 13:return fS(t,e,n);case 4:return Wy(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Mc(e,null,r,n):li(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Us(r,i),c_(t,e,r,i,n);case 7:return li(t,e,e.pendingProps,n),e.child;case 8:return li(t,e,e.pendingProps.children,n),e.child;case 12:return li(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,En(nm,r._currentValue),r._currentValue=o,s!==null)if(Ys(s.value,o)){if(s.children===i.children&&!Pi.current){e=ca(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=oa(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),n2(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Me(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),n2(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}li(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,_c(e,n),i=Es(i),r=r(i),e.flags|=1,li(t,e,r,n),e.child;case 14:return r=e.type,i=Us(r,e.pendingProps),i=Us(r.type,i),h_(t,e,r,i,n);case 15:return lS(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Us(r,i),_p(t,e),e.tag=1,Li(r)?(t=!0,Zp(e)):t=!1,_c(e,n),sS(e,r,i),i2(e,r,i,n),a2(null,e,r,!0,t,n);case 19:return dS(t,e,n);case 22:return uS(t,e,n)}throw Error(Me(156,e.tag))};function CS(t,e){return nk(t,e)}function OP(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bs(t,e,n,r){return new OP(t,e,n,r)}function a5(t){return t=t.prototype,!(!t||!t.isReactComponent)}function MP(t){if(typeof t=="function")return a5(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Ey)return 11;if(t===Iy)return 14}return 2}function ll(t,e){var n=t.alternate;return n===null?(n=bs(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function kp(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")a5(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case rc:return su(n.children,i,s,e);case Ay:o=8,i|=8;break;case T0:return t=bs(12,n,e,i|2),t.elementType=T0,t.lanes=s,t;case C0:return t=bs(13,n,e,i),t.elementType=C0,t.lanes=s,t;case N0:return t=bs(19,n,e,i),t.elementType=N0,t.lanes=s,t;case Vx:return eg(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Fx:o=10;break e;case jx:o=9;break e;case Ey:o=11;break e;case Iy:o=14;break e;case $a:o=16,r=null;break e}throw Error(Me(130,t==null?t:typeof t,""))}return e=bs(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function su(t,e,n,r){return t=bs(7,t,r,e),t.lanes=n,t}function eg(t,e,n,r){return t=bs(22,t,r,e),t.elementType=Vx,t.lanes=n,t.stateNode={isHidden:!1},t}function A1(t,e,n){return t=bs(6,t,null,e),t.lanes=n,t}function E1(t,e,n){return e=bs(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function FP(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=o1(0),this.expirationTimes=o1(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=o1(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function l5(t,e,n,r,i,s,o,a,l){return t=new FP(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=bs(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Hy(s),t}function jP(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:nc,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function NS(t){if(!t)return ml;t=t._reactInternals;e:{if(ku(t)!==t||t.tag!==1)throw Error(Me(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Li(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Me(171))}if(t.tag===1){var n=t.type;if(Li(n))return Nk(t,n,e)}return e}function PS(t,e,n,r,i,s,o,a,l){return t=l5(n,r,!0,t,i,s,o,a,l),t.context=NS(null),n=t.current,r=ci(),i=al(n),s=oa(r,i),s.callback=e??null,sl(n,s,i),t.current.lanes=i,Hf(t,i,r),Ri(t,r),t}function tg(t,e,n,r){var i=e.current,s=ci(),o=al(i);return n=NS(n),e.context===null?e.context=n:e.pendingContext=n,e=oa(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=sl(i,e,o),t!==null&&(Gs(t,i,o,s),yp(t,i,o)),o}function fm(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function k_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function u5(t,e){k_(t,e),(t=t.alternate)&&k_(t,e)}function VP(){return null}var LS=typeof reportError=="function"?reportError:function(t){console.error(t)};function c5(t){this._internalRoot=t}ng.prototype.render=c5.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Me(409));tg(t,e,null,null)};ng.prototype.unmount=c5.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;du(function(){tg(null,t,null,null)}),e[la]=null}};function ng(t){this._internalRoot=t}ng.prototype.unstable_scheduleHydration=function(t){if(t){var e=uk();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Wa.length&&e!==0&&e<Wa[n].priority;n++);Wa.splice(n,0,t),n===0&&hk(t)}};function h5(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function rg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function S_(){}function BP(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=fm(o);s.call(u)}}var o=PS(e,r,t,0,null,!1,!1,"",S_);return t._reactRootContainer=o,t[la]=o.current,xf(t.nodeType===8?t.parentNode:t),du(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=fm(l);a.call(u)}}var l=l5(t,0,!1,null,null,!1,!1,"",S_);return t._reactRootContainer=l,t[la]=l.current,xf(t.nodeType===8?t.parentNode:t),du(function(){tg(e,l,n,r)}),l}function ig(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=fm(o);a.call(l)}}tg(e,o,t,i)}else o=BP(n,e,t,i,r);return fm(o)}ak=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Uh(e.pendingLanes);n!==0&&(Ny(e,n|1),Ri(e,Xn()),!(Zt&6)&&(Vc=Xn()+500,Il()))}break;case 13:du(function(){var r=ua(t,1);if(r!==null){var i=ci();Gs(r,t,1,i)}}),u5(t,1)}};Py=function(t){if(t.tag===13){var e=ua(t,134217728);if(e!==null){var n=ci();Gs(e,t,134217728,n)}u5(t,134217728)}};lk=function(t){if(t.tag===13){var e=al(t),n=ua(t,e);if(n!==null){var r=ci();Gs(n,t,e,r)}u5(t,e)}};uk=function(){return un};ck=function(t,e){var n=un;try{return un=t,e()}finally{un=n}};B0=function(t,e,n){switch(e){case"input":if(R0(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Km(r);if(!i)throw Error(Me(90));Ux(r),R0(r,i)}}}break;case"textarea":qx(t,n);break;case"select":e=n.value,e!=null&&gc(t,!!n.multiple,e,!1)}};Yx=i5;Xx=du;var UP={usingClientEntryPoint:!1,Events:[Gf,ac,Km,Kx,Qx,i5]},Dh={findFiberByHostInstance:Jl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},zP={bundleType:Dh.bundleType,version:Dh.version,rendererPackageName:Dh.rendererPackageName,rendererConfig:Dh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ma.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=ek(t),t===null?null:t.stateNode},findFiberByHostInstance:Dh.findFiberByHostInstance||VP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wd.isDisabled&&Wd.supportsFiber)try{$m=Wd.inject(zP),Ao=Wd}catch{}}ns.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=UP;ns.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h5(e))throw Error(Me(200));return jP(t,e,null,n)};ns.createRoot=function(t,e){if(!h5(t))throw Error(Me(299));var n=!1,r="",i=LS;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=l5(t,1,!1,null,null,n,!1,r,i),t[la]=e.current,xf(t.nodeType===8?t.parentNode:t),new c5(e)};ns.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Me(188)):(t=Object.keys(t).join(","),Error(Me(268,t)));return t=ek(e),t=t===null?null:t.stateNode,t};ns.flushSync=function(t){return du(t)};ns.hydrate=function(t,e,n){if(!rg(e))throw Error(Me(200));return ig(null,t,e,!0,n)};ns.hydrateRoot=function(t,e,n){if(!h5(t))throw Error(Me(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=LS;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=PS(e,null,t,1,n??null,i,!1,s,o),t[la]=e.current,xf(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new ng(e)};ns.render=function(t,e,n){if(!rg(e))throw Error(Me(200));return ig(null,t,e,!1,n)};ns.unmountComponentAtNode=function(t){if(!rg(t))throw Error(Me(40));return t._reactRootContainer?(du(function(){ig(null,null,t,!1,function(){t._reactRootContainer=null,t[la]=null})}),!0):!1};ns.unstable_batchedUpdates=i5;ns.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!rg(n))throw Error(Me(200));if(t==null||t._reactInternals===void 0)throw Error(Me(38));return ig(t,e,n,!1,r)};ns.version="18.3.1-next-f1338f8080-20240426";function RS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(RS)}catch(t){console.error(t)}}RS(),Rx.exports=ns;var qP=Rx.exports,A_=qP;E0.createRoot=A_.createRoot,E0.hydrateRoot=A_.hydrateRoot;/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $P=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),HP=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),E_=t=>{const e=HP(t);return e.charAt(0).toUpperCase()+e.slice(1)},DS=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),WP=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var GP={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KP=jt.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...a},l)=>jt.createElement("svg",{ref:l,...GP,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:DS("lucide",i),...!s&&!WP(a)&&{"aria-hidden":"true"},...a},[...o.map(([u,c])=>jt.createElement(u,c)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const In=(t,e)=>{const n=jt.forwardRef(({className:r,...i},s)=>jt.createElement(KP,{ref:s,iconNode:e,className:DS(`lucide-${$P(E_(t))}`,`lucide-${t}`,r),...i}));return n.displayName=E_(t),n};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QP=[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]],YP=In("bold",QP);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XP=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],OS=In("calendar",XP);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JP=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],ZP=In("clock",JP);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eL=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],tL=In("code",eL);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nL=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],rL=In("eye-off",nL);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iL=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],sL=In("eye",iL);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oL=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]],I_=In("file-down",oL);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aL=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],lL=In("file-text",aL);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uL=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],cL=In("folder",uL);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hL=[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]],fL=In("italic",hL);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dL=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],pL=In("layout-grid",dL);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mL=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],gL=In("list",mL);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yL=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],vL=In("loader-circle",yL);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wL=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],_L=In("log-in",wL);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bL=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],xL=In("log-out",bL);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kL=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],SL=In("moon",kL);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AL=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],MS=In("plus",AL);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EL=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],IL=In("save",EL);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TL=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],CL=In("search",TL);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NL=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],PL=In("settings",NL);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LL=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],FS=In("square-check-big",LL);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RL=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],jS=In("star",RL);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DL=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],OL=In("sun",DL);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ML=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],FL=In("tag",ML);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jL=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],VS=In("trash-2",jL);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VL=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],w2=In("x",VL),BL=()=>{};var T_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BS=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},UL=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},US={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=s>>2,d=(s&3)<<4|a>>4;let g=(a&15)<<2|u>>6,p=u&63;l||(p=64,o||(g=64)),r.push(n[c],n[d],n[g],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(BS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):UL(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||d==null)throw new zL;const g=s<<2|a>>4;if(r.push(g),u!==64){const p=a<<4&240|u>>2;if(r.push(p),d!==64){const _=u<<6&192|d;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class zL extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const qL=function(t){const e=BS(t);return US.encodeByteArray(e,!0)},dm=function(t){return qL(t).replace(/\./g,"")},zS=function(t){try{return US.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $L(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HL=()=>$L().__FIREBASE_DEFAULTS__,WL=()=>{if(typeof process>"u"||typeof T_>"u")return;const t=T_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},GL=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&zS(t[1]);return e&&JSON.parse(e)},sg=()=>{try{return BL()||HL()||WL()||GL()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},qS=t=>{var e,n;return(n=(e=sg())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},KL=t=>{const e=qS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},$S=()=>{var t;return(t=sg())==null?void 0:t.config},HS=t=>{var e;return(e=sg())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QL{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xc(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function WS(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YL(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[dm(JSON.stringify(n)),dm(JSON.stringify(o)),""].join(".")}const nf={};function XL(){const t={prod:[],emulator:[]};for(const e of Object.keys(nf))nf[e]?t.emulator.push(e):t.prod.push(e);return t}function JL(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let C_=!1;function GS(t,e){if(typeof window>"u"||typeof document>"u"||!Xc(window.location.host)||nf[t]===e||nf[t]||C_)return;nf[t]=e;function n(g){return`__firebase__banner__${g}`}const r="__firebase__banner",s=XL().prod.length>0;function o(){const g=document.getElementById(r);g&&g.remove()}function a(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function l(g,p){g.setAttribute("width","24"),g.setAttribute("id",p),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function u(){const g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{C_=!0,o()},g}function c(g,p){g.setAttribute("id",p),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function d(){const g=JL(r),p=n("text"),_=document.getElementById(p)||document.createElement("span"),k=n("learnmore"),D=document.getElementById(k)||document.createElement("a"),w=n("preprendIcon"),C=document.getElementById(w)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){const L=g.element;a(L),c(D,k);const V=u();l(C,w),L.append(C,_,D,V),document.body.appendChild(L)}s?(_.innerText="Preview backend disconnected.",C.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(C.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,_.innerText="Preview backend running in this workspace."),_.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",d):d()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ZL(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Kr())}function eR(){var e;const t=(e=sg())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function tR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function KS(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function nR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function rR(){const t=Kr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function iR(){return!eR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function QS(){try{return typeof indexedDB=="object"}catch{return!1}}function YS(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)==null?void 0:s.message)||"")}}catch(n){e(n)}})}function sR(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oR="FirebaseError";class eo extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=oR,Object.setPrototypeOf(this,eo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Su.prototype.create)}}class Su{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?aR(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new eo(i,a,r)}}function aR(t,e){return t.replace(lR,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const lR=/\{\$([^}]+)}/g;function uR(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function gl(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(N_(s)&&N_(o)){if(!gl(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function N_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qf(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function cR(t,e){const n=new hR(t,e);return n.subscribe.bind(n)}class hR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");fR(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=I1),i.error===void 0&&(i.error=I1),i.complete===void 0&&(i.complete=I1);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function fR(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function I1(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dR=1e3,pR=2,mR=4*60*60*1e3,gR=.5;function P_(t,e=dR,n=pR){const r=e*Math.pow(n,t),i=Math.round(gR*r*(Math.random()-.5)*2);return Math.min(mR,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tr(t){return t&&t._delegate?t._delegate:t}class Xs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new QL;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(wR(e))try{this.getOrInitializeService({instanceIdentifier:Kl})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Kl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Kl){return this.instances.has(e)}getOptions(e=Kl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:vR(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Kl){return this.component?this.component.multipleInstances?e:Kl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function vR(t){return t===Kl?void 0:t}function wR(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new yR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $t;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})($t||($t={}));const bR={debug:$t.DEBUG,verbose:$t.VERBOSE,info:$t.INFO,warn:$t.WARN,error:$t.ERROR,silent:$t.SILENT},xR=$t.INFO,kR={[$t.DEBUG]:"log",[$t.VERBOSE]:"log",[$t.INFO]:"info",[$t.WARN]:"warn",[$t.ERROR]:"error"},SR=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=kR[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class og{constructor(e){this.name=e,this._logLevel=xR,this._logHandler=SR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in $t))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?bR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,$t.DEBUG,...e),this._logHandler(this,$t.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,$t.VERBOSE,...e),this._logHandler(this,$t.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,$t.INFO,...e),this._logHandler(this,$t.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,$t.WARN,...e),this._logHandler(this,$t.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,$t.ERROR,...e),this._logHandler(this,$t.ERROR,...e)}}const AR=(t,e)=>e.some(n=>t instanceof n);let L_,R_;function ER(){return L_||(L_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function IR(){return R_||(R_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const XS=new WeakMap,_2=new WeakMap,JS=new WeakMap,T1=new WeakMap,f5=new WeakMap;function TR(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(ul(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&XS.set(n,t)}).catch(()=>{}),f5.set(e,t),e}function CR(t){if(_2.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});_2.set(t,e)}let b2={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return _2.get(t);if(e==="objectStoreNames")return t.objectStoreNames||JS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ul(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function NR(t){b2=t(b2)}function PR(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(C1(this),e,...n);return JS.set(r,e.sort?e.sort():[e]),ul(r)}:IR().includes(t)?function(...e){return t.apply(C1(this),e),ul(XS.get(this))}:function(...e){return ul(t.apply(C1(this),e))}}function LR(t){return typeof t=="function"?PR(t):(t instanceof IDBTransaction&&CR(t),AR(t,ER())?new Proxy(t,b2):t)}function ul(t){if(t instanceof IDBRequest)return TR(t);if(T1.has(t))return T1.get(t);const e=LR(t);return e!==t&&(T1.set(t,e),f5.set(e,t)),e}const C1=t=>f5.get(t);function ZS(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=ul(o);return r&&o.addEventListener("upgradeneeded",l=>{r(ul(o.result),l.oldVersion,l.newVersion,ul(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const RR=["get","getKey","getAll","getAllKeys","count"],DR=["put","add","delete","clear"],N1=new Map;function D_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(N1.get(e))return N1.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=DR.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||RR.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return N1.set(e,s),s}NR(t=>({...t,get:(e,n,r)=>D_(e,n)||t.get(e,n,r),has:(e,n)=>!!D_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(MR(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function MR(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const x2="@firebase/app",O_="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ha=new og("@firebase/app"),FR="@firebase/app-compat",jR="@firebase/analytics-compat",VR="@firebase/analytics",BR="@firebase/app-check-compat",UR="@firebase/app-check",zR="@firebase/auth",qR="@firebase/auth-compat",$R="@firebase/database",HR="@firebase/data-connect",WR="@firebase/database-compat",GR="@firebase/functions",KR="@firebase/functions-compat",QR="@firebase/installations",YR="@firebase/installations-compat",XR="@firebase/messaging",JR="@firebase/messaging-compat",ZR="@firebase/performance",e8="@firebase/performance-compat",t8="@firebase/remote-config",n8="@firebase/remote-config-compat",r8="@firebase/storage",i8="@firebase/storage-compat",s8="@firebase/firestore",o8="@firebase/ai",a8="@firebase/firestore-compat",l8="firebase",u8="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k2="[DEFAULT]",c8={[x2]:"fire-core",[FR]:"fire-core-compat",[VR]:"fire-analytics",[jR]:"fire-analytics-compat",[UR]:"fire-app-check",[BR]:"fire-app-check-compat",[zR]:"fire-auth",[qR]:"fire-auth-compat",[$R]:"fire-rtdb",[HR]:"fire-data-connect",[WR]:"fire-rtdb-compat",[GR]:"fire-fn",[KR]:"fire-fn-compat",[QR]:"fire-iid",[YR]:"fire-iid-compat",[XR]:"fire-fcm",[JR]:"fire-fcm-compat",[ZR]:"fire-perf",[e8]:"fire-perf-compat",[t8]:"fire-rc",[n8]:"fire-rc-compat",[r8]:"fire-gcs",[i8]:"fire-gcs-compat",[s8]:"fire-fst",[a8]:"fire-fst-compat",[o8]:"fire-vertex","fire-js":"fire-js",[l8]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pm=new Map,h8=new Map,S2=new Map;function M_(t,e){try{t.container.addComponent(e)}catch(n){ha.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Lo(t){const e=t.name;if(S2.has(e))return ha.debug(`There were multiple attempts to register component ${e}.`),!1;S2.set(e,t);for(const n of pm.values())M_(n,t);for(const n of h8.values())M_(n,t);return!0}function Au(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function $s(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f8={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},cl=new Su("app","Firebase",f8);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d8{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Xs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw cl.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jc=u8;function eA(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:k2,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw cl.create("bad-app-name",{appName:String(i)});if(n||(n=$S()),!n)throw cl.create("no-options");const s=pm.get(i);if(s){if(gl(n,s.options)&&gl(r,s.config))return s;throw cl.create("duplicate-app",{appName:i})}const o=new _R(i);for(const l of S2.values())o.addComponent(l);const a=new d8(n,r,o);return pm.set(i,a),a}function d5(t=k2){const e=pm.get(t);if(!e&&t===k2&&$S())return eA();if(!e)throw cl.create("no-app",{appName:t});return e}function ks(t,e,n){let r=c8[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const o=[`Unable to register library "${r}" with version "${e}":`];i&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&o.push("and"),s&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ha.warn(o.join(" "));return}Lo(new Xs(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p8="firebase-heartbeat-database",m8=1,Pf="firebase-heartbeat-store";let P1=null;function tA(){return P1||(P1=ZS(p8,m8,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Pf)}catch(n){console.warn(n)}}}}).catch(t=>{throw cl.create("idb-open",{originalErrorMessage:t.message})})),P1}async function g8(t){try{const n=(await tA()).transaction(Pf),r=await n.objectStore(Pf).get(nA(t));return await n.done,r}catch(e){if(e instanceof eo)ha.warn(e.message);else{const n=cl.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ha.warn(n.message)}}}async function F_(t,e){try{const r=(await tA()).transaction(Pf,"readwrite");await r.objectStore(Pf).put(e,nA(t)),await r.done}catch(n){if(n instanceof eo)ha.warn(n.message);else{const r=cl.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ha.warn(r.message)}}}function nA(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y8=1024,v8=30;class w8{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new b8(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=j_();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>v8){const o=x8(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ha.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=j_(),{heartbeatsToSend:r,unsentEntries:i}=_8(this._heartbeatsCache.heartbeats),s=dm(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return ha.warn(n),""}}}function j_(){return new Date().toISOString().substring(0,10)}function _8(t,e=y8){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),V_(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),V_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class b8{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return QS()?YS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await g8(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return F_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return F_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function V_(t){return dm(JSON.stringify({version:2,heartbeats:t})).length}function x8(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k8(t){Lo(new Xs("platform-logger",e=>new OR(e),"PRIVATE")),Lo(new Xs("heartbeat",e=>new w8(e),"PRIVATE")),ks(x2,O_,t),ks(x2,O_,"esm2020"),ks("fire-js","")}k8("");var S8="firebase",A8="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ks(S8,A8,"app");const rA="@firebase/installations",p5="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iA=1e4,sA=`w:${p5}`,oA="FIS_v2",E8="https://firebaseinstallations.googleapis.com/v1",I8=60*60*1e3,T8="installations",C8="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N8={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},pu=new Su(T8,C8,N8);function aA(t){return t instanceof eo&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lA({projectId:t}){return`${E8}/projects/${t}/installations`}function uA(t){return{token:t.token,requestStatus:2,expiresIn:L8(t.expiresIn),creationTime:Date.now()}}async function cA(t,e){const r=(await e.json()).error;return pu.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function hA({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function P8(t,{refreshToken:e}){const n=hA(t);return n.append("Authorization",R8(e)),n}async function fA(t){const e=await t();return e.status>=500&&e.status<600?t():e}function L8(t){return Number(t.replace("s","000"))}function R8(t){return`${oA} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D8({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=lA(t),i=hA(t),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={fid:n,authVersion:oA,appId:t.appId,sdkVersion:sA},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await fA(()=>fetch(r,a));if(l.ok){const u=await l.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:uA(u.authToken)}}else throw await cA("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dA(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O8(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M8=/^[cdef][\w-]{21}$/,A2="";function F8(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=j8(t);return M8.test(n)?n:A2}catch{return A2}}function j8(t){return O8(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ag(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pA=new Map;function mA(t,e){const n=ag(t);gA(n,e),V8(n,e)}function gA(t,e){const n=pA.get(t);if(n)for(const r of n)r(e)}function V8(t,e){const n=B8();n&&n.postMessage({key:t,fid:e}),U8()}let tu=null;function B8(){return!tu&&"BroadcastChannel"in self&&(tu=new BroadcastChannel("[Firebase] FID Change"),tu.onmessage=t=>{gA(t.data.key,t.data.fid)}),tu}function U8(){pA.size===0&&tu&&(tu.close(),tu=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z8="firebase-installations-database",q8=1,mu="firebase-installations-store";let L1=null;function m5(){return L1||(L1=ZS(z8,q8,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(mu)}}})),L1}async function mm(t,e){const n=ag(t),i=(await m5()).transaction(mu,"readwrite"),s=i.objectStore(mu),o=await s.get(n);return await s.put(e,n),await i.done,(!o||o.fid!==e.fid)&&mA(t,e.fid),e}async function yA(t){const e=ag(t),r=(await m5()).transaction(mu,"readwrite");await r.objectStore(mu).delete(e),await r.done}async function lg(t,e){const n=ag(t),i=(await m5()).transaction(mu,"readwrite"),s=i.objectStore(mu),o=await s.get(n),a=e(o);return a===void 0?await s.delete(n):await s.put(a,n),await i.done,a&&(!o||o.fid!==a.fid)&&mA(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g5(t){let e;const n=await lg(t.appConfig,r=>{const i=$8(r),s=H8(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===A2?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function $8(t){const e=t||{fid:F8(),registrationStatus:0};return vA(e)}function H8(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(pu.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=W8(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:G8(t)}:{installationEntry:e}}async function W8(t,e){try{const n=await D8(t,e);return mm(t.appConfig,n)}catch(n){throw aA(n)&&n.customData.serverCode===409?await yA(t.appConfig):await mm(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function G8(t){let e=await B_(t.appConfig);for(;e.registrationStatus===1;)await dA(100),e=await B_(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await g5(t);return r||n}return e}function B_(t){return lg(t,e=>{if(!e)throw pu.create("installation-not-found");return vA(e)})}function vA(t){return K8(t)?{fid:t.fid,registrationStatus:0}:t}function K8(t){return t.registrationStatus===1&&t.registrationTime+iA<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q8({appConfig:t,heartbeatServiceProvider:e},n){const r=Y8(t,n),i=P8(t,n),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={installation:{sdkVersion:sA,appId:t.appId}},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await fA(()=>fetch(r,a));if(l.ok){const u=await l.json();return uA(u)}else throw await cA("Generate Auth Token",l)}function Y8(t,{fid:e}){return`${lA(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y5(t,e=!1){let n;const r=await lg(t.appConfig,s=>{if(!wA(s))throw pu.create("not-registered");const o=s.authToken;if(!e&&Z8(o))return s;if(o.requestStatus===1)return n=X8(t,e),s;{if(!navigator.onLine)throw pu.create("app-offline");const a=t7(s);return n=J8(t,a),a}});return n?await n:r.authToken}async function X8(t,e){let n=await U_(t.appConfig);for(;n.authToken.requestStatus===1;)await dA(100),n=await U_(t.appConfig);const r=n.authToken;return r.requestStatus===0?y5(t,e):r}function U_(t){return lg(t,e=>{if(!wA(e))throw pu.create("not-registered");const n=e.authToken;return n7(n)?{...e,authToken:{requestStatus:0}}:e})}async function J8(t,e){try{const n=await Q8(t,e),r={...e,authToken:n};return await mm(t.appConfig,r),n}catch(n){if(aA(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await yA(t.appConfig);else{const r={...e,authToken:{requestStatus:0}};await mm(t.appConfig,r)}throw n}}function wA(t){return t!==void 0&&t.registrationStatus===2}function Z8(t){return t.requestStatus===2&&!e7(t)}function e7(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+I8}function t7(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function n7(t){return t.requestStatus===1&&t.requestTime+iA<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r7(t){const e=t,{installationEntry:n,registrationPromise:r}=await g5(e);return r?r.catch(console.error):y5(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i7(t,e=!1){const n=t;return await s7(n),(await y5(n,e)).token}async function s7(t){const{registrationPromise:e}=await g5(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o7(t){if(!t||!t.options)throw R1("App Configuration");if(!t.name)throw R1("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw R1(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function R1(t){return pu.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _A="installations",a7="installations-internal",l7=t=>{const e=t.getProvider("app").getImmediate(),n=o7(e),r=Au(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},u7=t=>{const e=t.getProvider("app").getImmediate(),n=Au(e,_A).getImmediate();return{getId:()=>r7(n),getToken:i=>i7(n,i)}};function c7(){Lo(new Xs(_A,l7,"PUBLIC")),Lo(new Xs(a7,u7,"PRIVATE"))}c7();ks(rA,p5);ks(rA,p5,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gm="analytics",h7="firebase_id",f7="origin",d7=60*1e3,p7="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",v5="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hi=new og("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m7={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Zi=new Su("analytics","Analytics",m7);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g7(t){if(!t.startsWith(v5)){const e=Zi.create("invalid-gtag-resource",{gtagURL:t});return hi.warn(e.message),""}return t}function bA(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function y7(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function v7(t,e){const n=y7("firebase-js-sdk-policy",{createScriptURL:g7}),r=document.createElement("script"),i=`${v5}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function w7(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function _7(t,e,n,r,i,s){const o=r[i];try{if(o)await e[o];else{const l=(await bA(n)).find(u=>u.measurementId===i);l&&await e[l.appId]}}catch(a){hi.error(a)}t("config",i,s)}async function b7(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=await bA(n);for(const l of o){const u=a.find(d=>d.measurementId===l),c=u&&e[u.appId];if(c)s.push(c);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),t("event",r,i||{})}catch(s){hi.error(s)}}function x7(t,e,n,r){async function i(s,...o){try{if(s==="event"){const[a,l]=o;await b7(t,e,n,a,l)}else if(s==="config"){const[a,l]=o;await _7(t,e,n,r,a,l)}else if(s==="consent"){const[a,l]=o;t("consent",a,l)}else if(s==="get"){const[a,l,u]=o;t("get",a,l,u)}else if(s==="set"){const[a]=o;t("set",a)}else t(s,...o)}catch(a){hi.error(a)}}return i}function k7(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=x7(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}function S7(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(v5)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A7=30,E7=1e3;class I7{constructor(e={},n=E7){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const xA=new I7;function T7(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function C7(t){var o;const{appId:e,apiKey:n}=t,r={method:"GET",headers:T7(n)},i=p7.replace("{app-id}",e),s=await fetch(i,r);if(s.status!==200&&s.status!==304){let a="";try{const l=await s.json();(o=l.error)!=null&&o.message&&(a=l.error.message)}catch{}throw Zi.create("config-fetch-failed",{httpStatus:s.status,responseMessage:a})}return s.json()}async function N7(t,e=xA,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw Zi.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw Zi.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new R7;return setTimeout(async()=>{a.abort()},d7),kA({appId:r,apiKey:i,measurementId:s},o,a,e)}async function kA(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=xA){var a;const{appId:s,measurementId:o}=t;try{await P7(r,e)}catch(l){if(o)return hi.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:s,measurementId:o};throw l}try{const l=await C7(t);return i.deleteThrottleMetadata(s),l}catch(l){const u=l;if(!L7(u)){if(i.deleteThrottleMetadata(s),o)return hi.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:s,measurementId:o};throw l}const c=Number((a=u==null?void 0:u.customData)==null?void 0:a.httpStatus)===503?P_(n,i.intervalMillis,A7):P_(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+c,backoffCount:n+1};return i.setThrottleMetadata(s,d),hi.debug(`Calling attemptFetch again in ${c} millis`),kA(t,d,r,i)}}function P7(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(Zi.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function L7(t){if(!(t instanceof eo)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class R7{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function D7(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const s=await e,o={...r,send_to:s};t("event",n,o)}}async function O7(t,e,n,r){if(r&&r.global){const i={};for(const s of Object.keys(n))i[`user_properties.${s}`]=n[s];return t("set",i),Promise.resolve()}else{const i=await e;t("config",i,{update:!0,user_properties:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M7(){if(QS())try{await YS()}catch(t){return hi.warn(Zi.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return hi.warn(Zi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function F7(t,e,n,r,i,s,o){const a=N7(t);a.then(g=>{n[g.measurementId]=g.appId,t.options.measurementId&&g.measurementId!==t.options.measurementId&&hi.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${g.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(g=>hi.error(g)),e.push(a);const l=M7().then(g=>{if(g)return r.getId()}),[u,c]=await Promise.all([a,l]);S7(s)||v7(s,u.measurementId),i("js",new Date);const d=(o==null?void 0:o.config)??{};return d[f7]="firebase",d.update=!0,c!=null&&(d[h7]=c),i("config",u.measurementId,d),u.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j7{constructor(e){this.app=e}_delete(){return delete xc[this.app.options.appId],Promise.resolve()}}let xc={},z_=[];const q_={};let D1="dataLayer",V7="gtag",$_,w5,H_=!1;function B7(){const t=[];if(KS()&&t.push("This is a browser extension environment."),sR()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Zi.create("invalid-analytics-context",{errorInfo:e});hi.warn(n.message)}}function U7(t,e,n){B7();const r=t.options.appId;if(!r)throw Zi.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)hi.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Zi.create("no-api-key");if(xc[r]!=null)throw Zi.create("already-exists",{id:r});if(!H_){w7(D1);const{wrappedGtag:s,gtagCore:o}=k7(xc,z_,q_,D1,V7);w5=s,$_=o,H_=!0}return xc[r]=F7(t,z_,q_,e,$_,D1,n),new j7(t)}function z7(t=d5()){t=tr(t);const e=Au(t,gm);return e.isInitialized()?e.getImmediate():q7(t)}function q7(t,e={}){const n=Au(t,gm);if(n.isInitialized()){const i=n.getImmediate();if(gl(e,n.getOptions()))return i;throw Zi.create("already-initialized")}return n.initialize({options:e})}function $7(t,e,n){t=tr(t),O7(w5,xc[t.app.options.appId],e,n).catch(r=>hi.error(r))}function H7(t,e,n,r){t=tr(t),D7(w5,xc[t.app.options.appId],e,n,r).catch(i=>hi.error(i))}const W_="@firebase/analytics",G_="0.10.19";function W7(){Lo(new Xs(gm,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return U7(r,i,n)},"PUBLIC")),Lo(new Xs("analytics-internal",t,"PRIVATE")),ks(W_,G_),ks(W_,G_,"esm2020");function t(e){try{const n=e.getProvider(gm).getImmediate();return{logEvent:(r,i,s)=>H7(n,r,i,s),setUserProperties:(r,i)=>$7(n,r,i)}}catch(n){throw Zi.create("interop-component-reg-failed",{reason:n})}}}W7();function SA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const G7=SA,AA=new Su("auth","Firebase",SA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ym=new og("@firebase/auth");function K7(t,...e){ym.logLevel<=$t.WARN&&ym.warn(`Auth (${Jc}): ${t}`,...e)}function Sp(t,...e){ym.logLevel<=$t.ERROR&&ym.error(`Auth (${Jc}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ro(t,...e){throw b5(t,...e)}function Ks(t,...e){return b5(t,...e)}function _5(t,e,n){const r={...G7(),[e]:n};return new Su("auth","Firebase",r).create(e,{appName:t.name})}function ou(t){return _5(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Q7(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Ro(t,"argument-error"),_5(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function b5(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return AA.create(t,...e)}function Et(t,e,...n){if(!t)throw b5(e,...n)}function ia(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Sp(e),new Error(e)}function fa(t,e){t||ia(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E2(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function Y7(){return K_()==="http:"||K_()==="https:"}function K_(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X7(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Y7()||KS()||"connection"in navigator)?navigator.onLine:!0}function J7(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yf{constructor(e,n){this.shortDelay=e,this.longDelay=n,fa(n>e,"Short delay should be less than long delay!"),this.isMobile=ZL()||nR()}get(){return X7()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x5(t,e){fa(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EA{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ia("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ia("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ia("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z7={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eD=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],tD=new Yf(3e4,6e4);function k5(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Zc(t,e,n,r,i={}){return IA(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Qf({key:t.config.apiKey,...o}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:l,...s};return tR()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&Xc(t.emulatorConfig.host)&&(u.credentials="include"),EA.fetch()(await TA(t,t.config.apiHost,n,a),u)})}async function IA(t,e,n){t._canInitEmulator=!1;const r={...Z7,...e};try{const i=new rD(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Gd(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Gd(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Gd(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Gd(t,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw _5(t,c,u);Ro(t,c)}}catch(i){if(i instanceof eo)throw i;Ro(t,"network-request-failed",{message:String(i)})}}async function nD(t,e,n,r,i={}){const s=await Zc(t,e,n,r,i);return"mfaPendingCredential"in s&&Ro(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function TA(t,e,n,r){const i=`${e}${n}?${r}`,s=t,o=s.config.emulator?x5(t.config,i):`${t.config.apiScheme}://${i}`;return eD.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}class rD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ks(this.auth,"network-request-failed")),tD.get())})}}function Gd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Ks(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iD(t,e){return Zc(t,"POST","/v1/accounts:delete",e)}async function vm(t,e){return Zc(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rf(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function sD(t,e=!1){const n=tr(t),r=await n.getIdToken(e),i=S5(r);Et(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:rf(O1(i.auth_time)),issuedAtTime:rf(O1(i.iat)),expirationTime:rf(O1(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function O1(t){return Number(t)*1e3}function S5(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Sp("JWT malformed, contained fewer than 3 sections"),null;try{const i=zS(n);return i?JSON.parse(i):(Sp("Failed to decode base64 JWT payload"),null)}catch(i){return Sp("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Q_(t){const e=S5(t);return Et(e,"internal-error"),Et(typeof e.exp<"u","internal-error"),Et(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lf(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof eo&&oD(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function oD({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=rf(this.lastLoginAt),this.creationTime=rf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wm(t){var d;const e=t.auth,n=await t.getIdToken(),r=await Lf(t,vm(e,{idToken:n}));Et(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const s=(d=i.providerUserInfo)!=null&&d.length?CA(i.providerUserInfo):[],o=uD(t.providerData,s),a=t.isAnonymous,l=!(t.email&&i.passwordHash)&&!(o!=null&&o.length),u=a?l:!1,c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new I2(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(t,c)}async function lD(t){const e=tr(t);await wm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function uD(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function CA(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cD(t,e){const n=await IA(t,{},async()=>{const r=Qf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=await TA(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return t.emulatorConfig&&Xc(t.emulatorConfig.host)&&(l.credentials="include"),EA.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function hD(t,e){return Zc(t,"POST","/v2/accounts:revokeToken",k5(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Et(e.idToken,"internal-error"),Et(typeof e.idToken<"u","internal-error"),Et(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Q_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Et(e.length!==0,"internal-error");const n=Q_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Et(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await cD(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new kc;return r&&(Et(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Et(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(Et(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new kc,this.toJSON())}_performRefresh(){return ia("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ba(t,e){Et(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Hs{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new aD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new I2(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Lf(this,this.stsTokenManager.getToken(this.auth,e));return Et(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return sD(this,e)}reload(){return lD(this)}_assign(e){this!==e&&(Et(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Hs({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Et(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await wm(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if($s(this.auth.app))return Promise.reject(ou(this.auth));const e=await this.getIdToken();return await Lf(this,iD(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,s=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,l=n._redirectEventId??void 0,u=n.createdAt??void 0,c=n.lastLoginAt??void 0,{uid:d,emailVerified:g,isAnonymous:p,providerData:_,stsTokenManager:k}=n;Et(d&&k,e,"internal-error");const D=kc.fromJSON(this.name,k);Et(typeof d=="string",e,"internal-error"),Ba(r,e.name),Ba(i,e.name),Et(typeof g=="boolean",e,"internal-error"),Et(typeof p=="boolean",e,"internal-error"),Ba(s,e.name),Ba(o,e.name),Ba(a,e.name),Ba(l,e.name),Ba(u,e.name),Ba(c,e.name);const w=new Hs({uid:d,auth:e,email:i,emailVerified:g,displayName:r,isAnonymous:p,photoURL:o,phoneNumber:s,tenantId:a,stsTokenManager:D,createdAt:u,lastLoginAt:c});return _&&Array.isArray(_)&&(w.providerData=_.map(C=>({...C}))),l&&(w._redirectEventId=l),w}static async _fromIdTokenResponse(e,n,r=!1){const i=new kc;i.updateFromServerResponse(n);const s=new Hs({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await wm(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Et(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?CA(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new kc;a.updateFromIdToken(r);const l=new Hs({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new I2(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y_=new Map;function sa(t){fa(t instanceof Function,"Expected a class definition");let e=Y_.get(t);return e?(fa(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Y_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}NA.type="NONE";const X_=NA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ap(t,e,n){return`firebase:${t}:${e}:${n}`}class Sc{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Ap(this.userKey,i.apiKey,s),this.fullPersistenceKey=Ap("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await vm(this.auth,{idToken:e}).catch(()=>{});return n?Hs._fromGetAccountInfoResponse(this.auth,n,e):null}return Hs._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Sc(sa(X_),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||sa(X_);const o=Ap(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(o);if(c){let d;if(typeof c=="string"){const g=await vm(e,{idToken:c}).catch(()=>{});if(!g)break;d=await Hs._fromGetAccountInfoResponse(e,g,c)}else d=Hs._fromJSON(e,c);u!==s&&(a=d),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Sc(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new Sc(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(DA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(PA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(MA(e))return"Blackberry";if(FA(e))return"Webos";if(LA(e))return"Safari";if((e.includes("chrome/")||RA(e))&&!e.includes("edge/"))return"Chrome";if(OA(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function PA(t=Kr()){return/firefox\//i.test(t)}function LA(t=Kr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function RA(t=Kr()){return/crios\//i.test(t)}function DA(t=Kr()){return/iemobile/i.test(t)}function OA(t=Kr()){return/android/i.test(t)}function MA(t=Kr()){return/blackberry/i.test(t)}function FA(t=Kr()){return/webos/i.test(t)}function A5(t=Kr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function fD(t=Kr()){var e;return A5(t)&&!!((e=window.navigator)!=null&&e.standalone)}function dD(){return rR()&&document.documentMode===10}function jA(t=Kr()){return A5(t)||OA(t)||FA(t)||MA(t)||/windows phone/i.test(t)||DA(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VA(t,e=[]){let n;switch(t){case"Browser":n=J_(Kr());break;case"Worker":n=`${J_(Kr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Jc}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mD(t,e={}){return Zc(t,"GET","/v2/passwordPolicy",k5(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gD=6;class yD{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??gD,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Z_(this),this.idTokenSubscription=new Z_(this),this.beforeStateQueue=new pD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=AA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=sa(n)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await Sc.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)==null?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await vm(this,{idToken:e}),r=await Hs._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var s;if($s(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(s=this.redirectUser)==null?void 0:s._redirectEventId,a=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(r=l.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Et(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await wm(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=J7()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if($s(this.app))return Promise.reject(ou(this));const n=e?tr(e):null;return n&&Et(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Et(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return $s(this.app)?Promise.reject(ou(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return $s(this.app)?Promise.reject(ou(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(sa(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await mD(this),n=new yD(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Su("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await hD(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&sa(e)||this._popupRedirectResolver;Et(n,this,"argument-error"),this.redirectPersistenceManager=await Sc.create(this,[sa(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Et(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Et(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=VA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if($s(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&K7(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function ug(t){return tr(t)}class Z_{constructor(e){this.auth=e,this.observer=null,this.addObserver=cR(n=>this.observer=n)}get next(){return Et(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let E5={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function wD(t){E5=t}function _D(t){return E5.loadJS(t)}function bD(){return E5.gapiScript}function xD(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kD(t,e){const n=Au(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(gl(s,e??{}))return i;Ro(i,"already-initialized")}return n.initialize({options:e})}function SD(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(sa);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function AD(t,e,n){const r=ug(t);Et(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=BA(e),{host:o,port:a}=ED(e),l=a===null?"":`:${a}`,u={url:`${s}//${o}${l}/`},c=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Et(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Et(gl(u,r.config.emulator)&&gl(c,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=c,r.settings.appVerificationDisabledForTesting=!0,Xc(o)?(WS(`${s}//${o}${l}`),GS("Auth",!0)):ID()}function BA(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function ED(t){const e=BA(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:eb(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:eb(o)}}}function eb(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function ID(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ia("not implemented")}_getIdTokenResponse(e){return ia("not implemented")}_linkToIdToken(e,n){return ia("not implemented")}_getReauthenticationResolver(e){return ia("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ac(t,e){return nD(t,"POST","/v1/accounts:signInWithIdp",k5(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TD="http://localhost";class gu extends UA{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new gu(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ro("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...s}=n;if(!r||!i)return null;const o=new gu(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Ac(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ac(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ac(e,n)}buildRequest(){const e={requestUri:TD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Qf(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I5{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xf extends I5{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka extends Xf{constructor(){super("facebook.com")}static credential(e){return gu._fromParams({providerId:Ka.PROVIDER_ID,signInMethod:Ka.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ka.credentialFromTaggedObject(e)}static credentialFromError(e){return Ka.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ka.credential(e.oauthAccessToken)}catch{return null}}}Ka.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ka.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta extends Xf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return gu._fromParams({providerId:ta.PROVIDER_ID,signInMethod:ta.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ta.credentialFromTaggedObject(e)}static credentialFromError(e){return ta.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ta.credential(n,r)}catch{return null}}}ta.GOOGLE_SIGN_IN_METHOD="google.com";ta.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa extends Xf{constructor(){super("github.com")}static credential(e){return gu._fromParams({providerId:Qa.PROVIDER_ID,signInMethod:Qa.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qa.credentialFromTaggedObject(e)}static credentialFromError(e){return Qa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Qa.credential(e.oauthAccessToken)}catch{return null}}}Qa.GITHUB_SIGN_IN_METHOD="github.com";Qa.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya extends Xf{constructor(){super("twitter.com")}static credential(e,n){return gu._fromParams({providerId:Ya.PROVIDER_ID,signInMethod:Ya.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ya.credentialFromTaggedObject(e)}static credentialFromError(e){return Ya.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ya.credential(n,r)}catch{return null}}}Ya.TWITTER_SIGN_IN_METHOD="twitter.com";Ya.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Hs._fromIdTokenResponse(e,r,i),o=tb(r);return new Bc({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=tb(r);return new Bc({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function tb(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m extends eo{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,_m.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new _m(e,n,r,i)}}function zA(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?_m._fromErrorAndOperation(t,s,e,r):s})}async function CD(t,e,n=!1){const r=await Lf(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Bc._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ND(t,e,n=!1){const{auth:r}=t;if($s(r.app))return Promise.reject(ou(r));const i="reauthenticate";try{const s=await Lf(t,zA(r,i,e,t),n);Et(s.idToken,r,"internal-error");const o=S5(s.idToken);Et(o,r,"internal-error");const{sub:a}=o;return Et(t.uid===a,r,"user-mismatch"),Bc._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Ro(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PD(t,e,n=!1){if($s(t.app))return Promise.reject(ou(t));const r="signIn",i=await zA(t,r,e),s=await Bc._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}function LD(t,e,n,r){return tr(t).onIdTokenChanged(e,n,r)}function RD(t,e,n){return tr(t).beforeAuthStateChanged(e,n)}function DD(t,e,n,r){return tr(t).onAuthStateChanged(e,n,r)}function OD(t){return tr(t).signOut()}const bm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(bm,"1"),this.storage.removeItem(bm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MD=1e3,FD=10;class $A extends qA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=jA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);dD()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,FD):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},MD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}$A.type="LOCAL";const jD=$A;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HA extends qA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}HA.type="SESSION";const WA=HA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VD(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new cg(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await VD(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}cg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T5(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=T5("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const g=d;if(g.data.eventId===u)switch(g.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(g.data.response);break;default:clearTimeout(c),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Io(){return window}function UD(t){Io().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GA(){return typeof Io().WorkerGlobalScope<"u"&&typeof Io().importScripts=="function"}async function zD(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function qD(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function $D(){return GA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KA="firebaseLocalStorageDb",HD=1,xm="firebaseLocalStorage",QA="fbase_key";class Jf{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function hg(t,e){return t.transaction([xm],e?"readwrite":"readonly").objectStore(xm)}function WD(){const t=indexedDB.deleteDatabase(KA);return new Jf(t).toPromise()}function T2(){const t=indexedDB.open(KA,HD);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(xm,{keyPath:QA})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(xm)?e(r):(r.close(),await WD(),e(await T2()))})})}async function nb(t,e,n){const r=hg(t,!0).put({[QA]:e,value:n});return new Jf(r).toPromise()}async function GD(t,e){const n=hg(t,!1).get(e),r=await new Jf(n).toPromise();return r===void 0?null:r.value}function rb(t,e){const n=hg(t,!0).delete(e);return new Jf(n).toPromise()}const KD=800,QD=3;class YA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await T2(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>QD)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return GA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=cg._getInstance($D()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await zD(),!this.activeServiceWorker)return;this.sender=new BD(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||qD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await T2();return await nb(e,bm,"1"),await rb(e,bm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>nb(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>GD(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>rb(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=hg(i,!1).getAll();return new Jf(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),KD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}YA.type="LOCAL";const YD=YA;new Yf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XA(t,e){return e?sa(e):(Et(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C5 extends UA{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ac(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ac(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ac(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function XD(t){return PD(t.auth,new C5(t),t.bypassAuthState)}function JD(t){const{auth:e,user:n}=t;return Et(n,e,"internal-error"),ND(n,new C5(t),t.bypassAuthState)}async function ZD(t){const{auth:e,user:n}=t;return Et(n,e,"internal-error"),CD(n,new C5(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return XD;case"linkViaPopup":case"linkViaRedirect":return ZD;case"reauthViaPopup":case"reauthViaRedirect":return JD;default:Ro(this.auth,"internal-error")}}resolve(e){fa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){fa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eO=new Yf(2e3,1e4);async function tO(t,e,n){if($s(t.app))return Promise.reject(Ks(t,"operation-not-supported-in-this-environment"));const r=ug(t);Q7(t,e,I5);const i=XA(r,n);return new nu(r,"signInViaPopup",e,i).executeNotNull()}class nu extends JA{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,nu.currentPopupAction&&nu.currentPopupAction.cancel(),nu.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Et(e,this.auth,"internal-error"),e}async onExecution(){fa(this.filter.length===1,"Popup operations only handle one event");const e=T5();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ks(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Ks(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,nu.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ks(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,eO.get())};e()}}nu.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nO="pendingRedirect",Ep=new Map;class rO extends JA{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Ep.get(this.auth._key());if(!e){try{const r=await iO(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Ep.set(this.auth._key(),e)}return this.bypassAuthState||Ep.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function iO(t,e){const n=aO(e),r=oO(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function sO(t,e){Ep.set(t._key(),e)}function oO(t){return sa(t._redirectPersistence)}function aO(t){return Ap(nO,t.config.apiKey,t.name)}async function lO(t,e,n=!1){if($s(t.app))return Promise.reject(ou(t));const r=ug(t),i=XA(r,e),o=await new rO(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uO=10*60*1e3;class cO{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!hO(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!ZA(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ks(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=uO&&this.cachedEventUids.clear(),this.cachedEventUids.has(ib(e))}saveEventToCache(e){this.cachedEventUids.add(ib(e)),this.lastProcessedEventTime=Date.now()}}function ib(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function ZA({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function hO(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ZA(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fO(t,e={}){return Zc(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,pO=/^https?/;async function mO(t){if(t.config.emulator)return;const{authorizedDomains:e}=await fO(t);for(const n of e)try{if(gO(n))return}catch{}Ro(t,"unauthorized-domain")}function gO(t){const e=E2(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!pO.test(n))return!1;if(dO.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yO=new Yf(3e4,6e4);function sb(){const t=Io().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function vO(t){return new Promise((e,n)=>{var i,s,o;function r(){sb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{sb(),n(Ks(t,"network-request-failed"))},timeout:yO.get()})}if((s=(i=Io().gapi)==null?void 0:i.iframes)!=null&&s.Iframe)e(gapi.iframes.getContext());else if((o=Io().gapi)!=null&&o.load)r();else{const a=xD("iframefcb");return Io()[a]=()=>{gapi.load?r():n(Ks(t,"network-request-failed"))},_D(`${bD()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Ip=null,e})}let Ip=null;function wO(t){return Ip=Ip||vO(t),Ip}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _O=new Yf(5e3,15e3),bO="__/auth/iframe",xO="emulator/auth/iframe",kO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},SO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function AO(t){const e=t.config;Et(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?x5(e,xO):`https://${t.config.authDomain}/${bO}`,r={apiKey:e.apiKey,appName:t.name,v:Jc},i=SO.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Qf(r).slice(1)}`}async function EO(t){const e=await wO(t),n=Io().gapi;return Et(n,t,"internal-error"),e.open({where:document.body,url:AO(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:kO,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Ks(t,"network-request-failed"),a=Io().setTimeout(()=>{s(o)},_O.get());function l(){Io().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},TO=500,CO=600,NO="_blank",PO="http://localhost";class ob{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function LO(t,e,n,r=TO,i=CO){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l={...IO,width:r.toString(),height:i.toString(),top:s,left:o},u=Kr().toLowerCase();n&&(a=RA(u)?NO:n),PA(u)&&(e=e||PO,l.scrollbars="yes");const c=Object.entries(l).reduce((g,[p,_])=>`${g}${p}=${_},`,"");if(fD(u)&&a!=="_self")return RO(e||"",a),new ob(null);const d=window.open(e||"",a,c);Et(d,t,"popup-blocked");try{d.focus()}catch{}return new ob(d)}function RO(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DO="__/auth/handler",OO="emulator/auth/handler",MO=encodeURIComponent("fac");async function ab(t,e,n,r,i,s){Et(t.config.authDomain,t,"auth-domain-config-required"),Et(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Jc,eventId:i};if(e instanceof I5){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",uR(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,d]of Object.entries({}))o[c]=d}if(e instanceof Xf){const c=e.getScopes().filter(d=>d!=="");c.length>0&&(o.scopes=c.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await t._getAppCheckToken(),u=l?`#${MO}=${encodeURIComponent(l)}`:"";return`${FO(t)}?${Qf(a).slice(1)}${u}`}function FO({config:t}){return t.emulator?x5(t,OO):`https://${t.authDomain}/${DO}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M1="webStorageSupport";class jO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=WA,this._completeRedirectFn=lO,this._overrideRedirectResult=sO}async _openPopup(e,n,r,i){var o;fa((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await ab(e,n,r,E2(),i);return LO(e,s,T5())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await ab(e,n,r,E2(),i);return UD(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(fa(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await EO(e),r=new cO(e);return n.register("authEvent",i=>(Et(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(M1,{type:M1},i=>{var o;const s=(o=i==null?void 0:i[0])==null?void 0:o[M1];s!==void 0&&n(!!s),Ro(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=mO(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return jA()||LA()||A5()}}const VO=jO;var lb="@firebase/auth",ub="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BO{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Et(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UO(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function zO(t){Lo(new Xs("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Et(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:VA(t)},u=new vD(r,i,s,l);return SD(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Lo(new Xs("auth-internal",e=>{const n=ug(e.getProvider("auth").getImmediate());return(r=>new BO(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ks(lb,ub,UO(t)),ks(lb,ub,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qO=5*60,$O=HS("authIdTokenMaxAge")||qO;let cb=null;const HO=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>$O)return;const i=n==null?void 0:n.token;cb!==i&&(cb=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function WO(t=d5()){const e=Au(t,"auth");if(e.isInitialized())return e.getImmediate();const n=kD(t,{popupRedirectResolver:VO,persistence:[YD,jD,WA]}),r=HS("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=HO(s.toString());RD(n,o,()=>o(n.currentUser)),LD(n,a=>o(a))}}const i=qS("auth");return i&&AD(n,`http://${i}`),n}function GO(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}wD({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Ks("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",GO().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});zO("Browser");var hb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var hl,eE;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(F,A){function E(){}E.prototype=A.prototype,F.F=A.prototype,F.prototype=new E,F.prototype.constructor=F,F.D=function(I,x,T){for(var N=Array(arguments.length-2),J=2;J<arguments.length;J++)N[J-2]=arguments[J];return A.prototype[x].apply(I,N)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(F,A,E){E||(E=0);const I=Array(16);if(typeof A=="string")for(var x=0;x<16;++x)I[x]=A.charCodeAt(E++)|A.charCodeAt(E++)<<8|A.charCodeAt(E++)<<16|A.charCodeAt(E++)<<24;else for(x=0;x<16;++x)I[x]=A[E++]|A[E++]<<8|A[E++]<<16|A[E++]<<24;A=F.g[0],E=F.g[1],x=F.g[2];let T=F.g[3],N;N=A+(T^E&(x^T))+I[0]+3614090360&4294967295,A=E+(N<<7&4294967295|N>>>25),N=T+(x^A&(E^x))+I[1]+3905402710&4294967295,T=A+(N<<12&4294967295|N>>>20),N=x+(E^T&(A^E))+I[2]+606105819&4294967295,x=T+(N<<17&4294967295|N>>>15),N=E+(A^x&(T^A))+I[3]+3250441966&4294967295,E=x+(N<<22&4294967295|N>>>10),N=A+(T^E&(x^T))+I[4]+4118548399&4294967295,A=E+(N<<7&4294967295|N>>>25),N=T+(x^A&(E^x))+I[5]+1200080426&4294967295,T=A+(N<<12&4294967295|N>>>20),N=x+(E^T&(A^E))+I[6]+2821735955&4294967295,x=T+(N<<17&4294967295|N>>>15),N=E+(A^x&(T^A))+I[7]+4249261313&4294967295,E=x+(N<<22&4294967295|N>>>10),N=A+(T^E&(x^T))+I[8]+1770035416&4294967295,A=E+(N<<7&4294967295|N>>>25),N=T+(x^A&(E^x))+I[9]+2336552879&4294967295,T=A+(N<<12&4294967295|N>>>20),N=x+(E^T&(A^E))+I[10]+4294925233&4294967295,x=T+(N<<17&4294967295|N>>>15),N=E+(A^x&(T^A))+I[11]+2304563134&4294967295,E=x+(N<<22&4294967295|N>>>10),N=A+(T^E&(x^T))+I[12]+1804603682&4294967295,A=E+(N<<7&4294967295|N>>>25),N=T+(x^A&(E^x))+I[13]+4254626195&4294967295,T=A+(N<<12&4294967295|N>>>20),N=x+(E^T&(A^E))+I[14]+2792965006&4294967295,x=T+(N<<17&4294967295|N>>>15),N=E+(A^x&(T^A))+I[15]+1236535329&4294967295,E=x+(N<<22&4294967295|N>>>10),N=A+(x^T&(E^x))+I[1]+4129170786&4294967295,A=E+(N<<5&4294967295|N>>>27),N=T+(E^x&(A^E))+I[6]+3225465664&4294967295,T=A+(N<<9&4294967295|N>>>23),N=x+(A^E&(T^A))+I[11]+643717713&4294967295,x=T+(N<<14&4294967295|N>>>18),N=E+(T^A&(x^T))+I[0]+3921069994&4294967295,E=x+(N<<20&4294967295|N>>>12),N=A+(x^T&(E^x))+I[5]+3593408605&4294967295,A=E+(N<<5&4294967295|N>>>27),N=T+(E^x&(A^E))+I[10]+38016083&4294967295,T=A+(N<<9&4294967295|N>>>23),N=x+(A^E&(T^A))+I[15]+3634488961&4294967295,x=T+(N<<14&4294967295|N>>>18),N=E+(T^A&(x^T))+I[4]+3889429448&4294967295,E=x+(N<<20&4294967295|N>>>12),N=A+(x^T&(E^x))+I[9]+568446438&4294967295,A=E+(N<<5&4294967295|N>>>27),N=T+(E^x&(A^E))+I[14]+3275163606&4294967295,T=A+(N<<9&4294967295|N>>>23),N=x+(A^E&(T^A))+I[3]+4107603335&4294967295,x=T+(N<<14&4294967295|N>>>18),N=E+(T^A&(x^T))+I[8]+1163531501&4294967295,E=x+(N<<20&4294967295|N>>>12),N=A+(x^T&(E^x))+I[13]+2850285829&4294967295,A=E+(N<<5&4294967295|N>>>27),N=T+(E^x&(A^E))+I[2]+4243563512&4294967295,T=A+(N<<9&4294967295|N>>>23),N=x+(A^E&(T^A))+I[7]+1735328473&4294967295,x=T+(N<<14&4294967295|N>>>18),N=E+(T^A&(x^T))+I[12]+2368359562&4294967295,E=x+(N<<20&4294967295|N>>>12),N=A+(E^x^T)+I[5]+4294588738&4294967295,A=E+(N<<4&4294967295|N>>>28),N=T+(A^E^x)+I[8]+2272392833&4294967295,T=A+(N<<11&4294967295|N>>>21),N=x+(T^A^E)+I[11]+1839030562&4294967295,x=T+(N<<16&4294967295|N>>>16),N=E+(x^T^A)+I[14]+4259657740&4294967295,E=x+(N<<23&4294967295|N>>>9),N=A+(E^x^T)+I[1]+2763975236&4294967295,A=E+(N<<4&4294967295|N>>>28),N=T+(A^E^x)+I[4]+1272893353&4294967295,T=A+(N<<11&4294967295|N>>>21),N=x+(T^A^E)+I[7]+4139469664&4294967295,x=T+(N<<16&4294967295|N>>>16),N=E+(x^T^A)+I[10]+3200236656&4294967295,E=x+(N<<23&4294967295|N>>>9),N=A+(E^x^T)+I[13]+681279174&4294967295,A=E+(N<<4&4294967295|N>>>28),N=T+(A^E^x)+I[0]+3936430074&4294967295,T=A+(N<<11&4294967295|N>>>21),N=x+(T^A^E)+I[3]+3572445317&4294967295,x=T+(N<<16&4294967295|N>>>16),N=E+(x^T^A)+I[6]+76029189&4294967295,E=x+(N<<23&4294967295|N>>>9),N=A+(E^x^T)+I[9]+3654602809&4294967295,A=E+(N<<4&4294967295|N>>>28),N=T+(A^E^x)+I[12]+3873151461&4294967295,T=A+(N<<11&4294967295|N>>>21),N=x+(T^A^E)+I[15]+530742520&4294967295,x=T+(N<<16&4294967295|N>>>16),N=E+(x^T^A)+I[2]+3299628645&4294967295,E=x+(N<<23&4294967295|N>>>9),N=A+(x^(E|~T))+I[0]+4096336452&4294967295,A=E+(N<<6&4294967295|N>>>26),N=T+(E^(A|~x))+I[7]+1126891415&4294967295,T=A+(N<<10&4294967295|N>>>22),N=x+(A^(T|~E))+I[14]+2878612391&4294967295,x=T+(N<<15&4294967295|N>>>17),N=E+(T^(x|~A))+I[5]+4237533241&4294967295,E=x+(N<<21&4294967295|N>>>11),N=A+(x^(E|~T))+I[12]+1700485571&4294967295,A=E+(N<<6&4294967295|N>>>26),N=T+(E^(A|~x))+I[3]+2399980690&4294967295,T=A+(N<<10&4294967295|N>>>22),N=x+(A^(T|~E))+I[10]+4293915773&4294967295,x=T+(N<<15&4294967295|N>>>17),N=E+(T^(x|~A))+I[1]+2240044497&4294967295,E=x+(N<<21&4294967295|N>>>11),N=A+(x^(E|~T))+I[8]+1873313359&4294967295,A=E+(N<<6&4294967295|N>>>26),N=T+(E^(A|~x))+I[15]+4264355552&4294967295,T=A+(N<<10&4294967295|N>>>22),N=x+(A^(T|~E))+I[6]+2734768916&4294967295,x=T+(N<<15&4294967295|N>>>17),N=E+(T^(x|~A))+I[13]+1309151649&4294967295,E=x+(N<<21&4294967295|N>>>11),N=A+(x^(E|~T))+I[4]+4149444226&4294967295,A=E+(N<<6&4294967295|N>>>26),N=T+(E^(A|~x))+I[11]+3174756917&4294967295,T=A+(N<<10&4294967295|N>>>22),N=x+(A^(T|~E))+I[2]+718787259&4294967295,x=T+(N<<15&4294967295|N>>>17),N=E+(T^(x|~A))+I[9]+3951481745&4294967295,F.g[0]=F.g[0]+A&4294967295,F.g[1]=F.g[1]+(x+(N<<21&4294967295|N>>>11))&4294967295,F.g[2]=F.g[2]+x&4294967295,F.g[3]=F.g[3]+T&4294967295}r.prototype.v=function(F,A){A===void 0&&(A=F.length);const E=A-this.blockSize,I=this.C;let x=this.h,T=0;for(;T<A;){if(x==0)for(;T<=E;)i(this,F,T),T+=this.blockSize;if(typeof F=="string"){for(;T<A;)if(I[x++]=F.charCodeAt(T++),x==this.blockSize){i(this,I),x=0;break}}else for(;T<A;)if(I[x++]=F[T++],x==this.blockSize){i(this,I),x=0;break}}this.h=x,this.o+=A},r.prototype.A=function(){var F=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);F[0]=128;for(var A=1;A<F.length-8;++A)F[A]=0;A=this.o*8;for(var E=F.length-8;E<F.length;++E)F[E]=A&255,A/=256;for(this.v(F),F=Array(16),A=0,E=0;E<4;++E)for(let I=0;I<32;I+=8)F[A++]=this.g[E]>>>I&255;return F};function s(F,A){var E=a;return Object.prototype.hasOwnProperty.call(E,F)?E[F]:E[F]=A(F)}function o(F,A){this.h=A;const E=[];let I=!0;for(let x=F.length-1;x>=0;x--){const T=F[x]|0;I&&T==A||(E[x]=T,I=!1)}this.g=E}var a={};function l(F){return-128<=F&&F<128?s(F,function(A){return new o([A|0],A<0?-1:0)}):new o([F|0],F<0?-1:0)}function u(F){if(isNaN(F)||!isFinite(F))return d;if(F<0)return D(u(-F));const A=[];let E=1;for(let I=0;F>=E;I++)A[I]=F/E|0,E*=4294967296;return new o(A,0)}function c(F,A){if(F.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(F.charAt(0)=="-")return D(c(F.substring(1),A));if(F.indexOf("-")>=0)throw Error('number format error: interior "-" character');const E=u(Math.pow(A,8));let I=d;for(let T=0;T<F.length;T+=8){var x=Math.min(8,F.length-T);const N=parseInt(F.substring(T,T+x),A);x<8?(x=u(Math.pow(A,x)),I=I.j(x).add(u(N))):(I=I.j(E),I=I.add(u(N)))}return I}var d=l(0),g=l(1),p=l(16777216);t=o.prototype,t.m=function(){if(k(this))return-D(this).m();let F=0,A=1;for(let E=0;E<this.g.length;E++){const I=this.i(E);F+=(I>=0?I:4294967296+I)*A,A*=4294967296}return F},t.toString=function(F){if(F=F||10,F<2||36<F)throw Error("radix out of range: "+F);if(_(this))return"0";if(k(this))return"-"+D(this).toString(F);const A=u(Math.pow(F,6));var E=this;let I="";for(;;){const x=V(E,A).g;E=w(E,x.j(A));let T=((E.g.length>0?E.g[0]:E.h)>>>0).toString(F);if(E=x,_(E))return T+I;for(;T.length<6;)T="0"+T;I=T+I}},t.i=function(F){return F<0?0:F<this.g.length?this.g[F]:this.h};function _(F){if(F.h!=0)return!1;for(let A=0;A<F.g.length;A++)if(F.g[A]!=0)return!1;return!0}function k(F){return F.h==-1}t.l=function(F){return F=w(this,F),k(F)?-1:_(F)?0:1};function D(F){const A=F.g.length,E=[];for(let I=0;I<A;I++)E[I]=~F.g[I];return new o(E,~F.h).add(g)}t.abs=function(){return k(this)?D(this):this},t.add=function(F){const A=Math.max(this.g.length,F.g.length),E=[];let I=0;for(let x=0;x<=A;x++){let T=I+(this.i(x)&65535)+(F.i(x)&65535),N=(T>>>16)+(this.i(x)>>>16)+(F.i(x)>>>16);I=N>>>16,T&=65535,N&=65535,E[x]=N<<16|T}return new o(E,E[E.length-1]&-2147483648?-1:0)};function w(F,A){return F.add(D(A))}t.j=function(F){if(_(this)||_(F))return d;if(k(this))return k(F)?D(this).j(D(F)):D(D(this).j(F));if(k(F))return D(this.j(D(F)));if(this.l(p)<0&&F.l(p)<0)return u(this.m()*F.m());const A=this.g.length+F.g.length,E=[];for(var I=0;I<2*A;I++)E[I]=0;for(I=0;I<this.g.length;I++)for(let x=0;x<F.g.length;x++){const T=this.i(I)>>>16,N=this.i(I)&65535,J=F.i(x)>>>16,ae=F.i(x)&65535;E[2*I+2*x]+=N*ae,C(E,2*I+2*x),E[2*I+2*x+1]+=T*ae,C(E,2*I+2*x+1),E[2*I+2*x+1]+=N*J,C(E,2*I+2*x+1),E[2*I+2*x+2]+=T*J,C(E,2*I+2*x+2)}for(F=0;F<A;F++)E[F]=E[2*F+1]<<16|E[2*F];for(F=A;F<2*A;F++)E[F]=0;return new o(E,0)};function C(F,A){for(;(F[A]&65535)!=F[A];)F[A+1]+=F[A]>>>16,F[A]&=65535,A++}function L(F,A){this.g=F,this.h=A}function V(F,A){if(_(A))throw Error("division by zero");if(_(F))return new L(d,d);if(k(F))return A=V(D(F),A),new L(D(A.g),D(A.h));if(k(A))return A=V(F,D(A)),new L(D(A.g),A.h);if(F.g.length>30){if(k(F)||k(A))throw Error("slowDivide_ only works with positive integers.");for(var E=g,I=A;I.l(F)<=0;)E=X(E),I=X(I);var x=W(E,1),T=W(I,1);for(I=W(I,2),E=W(E,2);!_(I);){var N=T.add(I);N.l(F)<=0&&(x=x.add(E),T=N),I=W(I,1),E=W(E,1)}return A=w(F,x.j(A)),new L(x,A)}for(x=d;F.l(A)>=0;){for(E=Math.max(1,Math.floor(F.m()/A.m())),I=Math.ceil(Math.log(E)/Math.LN2),I=I<=48?1:Math.pow(2,I-48),T=u(E),N=T.j(A);k(N)||N.l(F)>0;)E-=I,T=u(E),N=T.j(A);_(T)&&(T=g),x=x.add(T),F=w(F,N)}return new L(x,F)}t.B=function(F){return V(this,F).h},t.and=function(F){const A=Math.max(this.g.length,F.g.length),E=[];for(let I=0;I<A;I++)E[I]=this.i(I)&F.i(I);return new o(E,this.h&F.h)},t.or=function(F){const A=Math.max(this.g.length,F.g.length),E=[];for(let I=0;I<A;I++)E[I]=this.i(I)|F.i(I);return new o(E,this.h|F.h)},t.xor=function(F){const A=Math.max(this.g.length,F.g.length),E=[];for(let I=0;I<A;I++)E[I]=this.i(I)^F.i(I);return new o(E,this.h^F.h)};function X(F){const A=F.g.length+1,E=[];for(let I=0;I<A;I++)E[I]=F.i(I)<<1|F.i(I-1)>>>31;return new o(E,F.h)}function W(F,A){const E=A>>5;A%=32;const I=F.g.length-E,x=[];for(let T=0;T<I;T++)x[T]=A>0?F.i(T+E)>>>A|F.i(T+E+1)<<32-A:F.i(T+E);return new o(x,F.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,eE=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=c,hl=o}).apply(typeof hb<"u"?hb:typeof self<"u"?self:typeof window<"u"?window:{});var Kd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var tE,qh,nE,Tp,C2,rE,iE,sE;(function(){var t,e=Object.defineProperty;function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Kd=="object"&&Kd];for(var b=0;b<f.length;++b){var P=f[b];if(P&&P.Math==Math)return P}throw Error("Cannot find global object")}var r=n(this);function i(f,b){if(b)e:{var P=r;f=f.split(".");for(var $=0;$<f.length-1;$++){var he=f[$];if(!(he in P))break e;P=P[he]}f=f[f.length-1],$=P[f],b=b($),b!=$&&b!=null&&e(P,f,{configurable:!0,writable:!0,value:b})}}i("Symbol.dispose",function(f){return f||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(f){return f||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(f){return f||function(b){var P=[],$;for($ in b)Object.prototype.hasOwnProperty.call(b,$)&&P.push([$,b[$]]);return P}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},o=this||self;function a(f){var b=typeof f;return b=="object"&&f!=null||b=="function"}function l(f,b,P){return f.call.apply(f.bind,arguments)}function u(f,b,P){return u=l,u.apply(null,arguments)}function c(f,b){var P=Array.prototype.slice.call(arguments,1);return function(){var $=P.slice();return $.push.apply($,arguments),f.apply(this,$)}}function d(f,b){function P(){}P.prototype=b.prototype,f.Z=b.prototype,f.prototype=new P,f.prototype.constructor=f,f.Ob=function($,he,ge){for(var Fe=Array(arguments.length-2),Tt=2;Tt<arguments.length;Tt++)Fe[Tt-2]=arguments[Tt];return b.prototype[he].apply($,Fe)}}var g=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?f=>f&&AsyncContext.Snapshot.wrap(f):f=>f;function p(f){const b=f.length;if(b>0){const P=Array(b);for(let $=0;$<b;$++)P[$]=f[$];return P}return[]}function _(f,b){for(let $=1;$<arguments.length;$++){const he=arguments[$];var P=typeof he;if(P=P!="object"?P:he?Array.isArray(he)?"array":P:"null",P=="array"||P=="object"&&typeof he.length=="number"){P=f.length||0;const ge=he.length||0;f.length=P+ge;for(let Fe=0;Fe<ge;Fe++)f[P+Fe]=he[Fe]}else f.push(he)}}class k{constructor(b,P){this.i=b,this.j=P,this.h=0,this.g=null}get(){let b;return this.h>0?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function D(f){o.setTimeout(()=>{throw f},0)}function w(){var f=F;let b=null;return f.g&&(b=f.g,f.g=f.g.next,f.g||(f.h=null),b.next=null),b}class C{constructor(){this.h=this.g=null}add(b,P){const $=L.get();$.set(b,P),this.h?this.h.next=$:this.g=$,this.h=$}}var L=new k(()=>new V,f=>f.reset());class V{constructor(){this.next=this.g=this.h=null}set(b,P){this.h=b,this.g=P,this.next=null}reset(){this.next=this.g=this.h=null}}let X,W=!1,F=new C,A=()=>{const f=Promise.resolve(void 0);X=()=>{f.then(E)}};function E(){for(var f;f=w();){try{f.h.call(f.g)}catch(P){D(P)}var b=L;b.j(f),b.h<100&&(b.h++,f.next=b.g,b.g=f)}W=!1}function I(){this.u=this.u,this.C=this.C}I.prototype.u=!1,I.prototype.dispose=function(){this.u||(this.u=!0,this.N())},I.prototype[Symbol.dispose]=function(){this.dispose()},I.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function x(f,b){this.type=f,this.g=this.target=b,this.defaultPrevented=!1}x.prototype.h=function(){this.defaultPrevented=!0};var T=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var f=!1,b=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const P=()=>{};o.addEventListener("test",P,b),o.removeEventListener("test",P,b)}catch{}return f}();function N(f){return/^[\s\xa0]*$/.test(f)}function J(f,b){x.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f&&this.init(f,b)}d(J,x),J.prototype.init=function(f,b){const P=this.type=f.type,$=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;this.target=f.target||f.srcElement,this.g=b,b=f.relatedTarget,b||(P=="mouseover"?b=f.fromElement:P=="mouseout"&&(b=f.toElement)),this.relatedTarget=b,$?(this.clientX=$.clientX!==void 0?$.clientX:$.pageX,this.clientY=$.clientY!==void 0?$.clientY:$.pageY,this.screenX=$.screenX||0,this.screenY=$.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=f.pointerType,this.state=f.state,this.i=f,f.defaultPrevented&&J.Z.h.call(this)},J.prototype.h=function(){J.Z.h.call(this);const f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var ae="closure_listenable_"+(Math.random()*1e6|0),ye=0;function ve(f,b,P,$,he){this.listener=f,this.proxy=null,this.src=b,this.type=P,this.capture=!!$,this.ha=he,this.key=++ye,this.da=this.fa=!1}function ee(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function ue(f,b,P){for(const $ in f)b.call(P,f[$],$,f)}function z(f,b){for(const P in f)b.call(void 0,f[P],P,f)}function _e(f){const b={};for(const P in f)b[P]=f[P];return b}const j="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(f,b){let P,$;for(let he=1;he<arguments.length;he++){$=arguments[he];for(P in $)f[P]=$[P];for(let ge=0;ge<j.length;ge++)P=j[ge],Object.prototype.hasOwnProperty.call($,P)&&(f[P]=$[P])}}function Z(f){this.src=f,this.g={},this.h=0}Z.prototype.add=function(f,b,P,$,he){const ge=f.toString();f=this.g[ge],f||(f=this.g[ge]=[],this.h++);const Fe=re(f,b,$,he);return Fe>-1?(b=f[Fe],P||(b.fa=!1)):(b=new ve(b,this.src,ge,!!$,he),b.fa=P,f.push(b)),b};function ne(f,b){const P=b.type;if(P in f.g){var $=f.g[P],he=Array.prototype.indexOf.call($,b,void 0),ge;(ge=he>=0)&&Array.prototype.splice.call($,he,1),ge&&(ee(b),f.g[P].length==0&&(delete f.g[P],f.h--))}}function re(f,b,P,$){for(let he=0;he<f.length;++he){const ge=f[he];if(!ge.da&&ge.listener==b&&ge.capture==!!P&&ge.ha==$)return he}return-1}var ce="closure_lm_"+(Math.random()*1e6|0),we={};function be(f,b,P,$,he){if(Array.isArray(b)){for(let ge=0;ge<b.length;ge++)be(f,b[ge],P,$,he);return null}return P=lt(P),f&&f[ae]?f.J(b,P,a($)?!!$.capture:!1,he):ke(f,b,P,!1,$,he)}function ke(f,b,P,$,he,ge){if(!b)throw Error("Invalid event type");const Fe=a(he)?!!he.capture:!!he;let Tt=Be(f);if(Tt||(f[ce]=Tt=new Z(f)),P=Tt.add(b,P,$,Fe,ge),P.proxy)return P;if($=Re(),P.proxy=$,$.src=f,$.listener=P,f.addEventListener)T||(he=Fe),he===void 0&&(he=!1),f.addEventListener(b.toString(),$,he);else if(f.attachEvent)f.attachEvent(it(b.toString()),$);else if(f.addListener&&f.removeListener)f.addListener($);else throw Error("addEventListener and attachEvent are unavailable.");return P}function Re(){function f(P){return b.call(f.src,f.listener,P)}const b=G;return f}function qe(f,b,P,$,he){if(Array.isArray(b))for(var ge=0;ge<b.length;ge++)qe(f,b[ge],P,$,he);else $=a($)?!!$.capture:!!$,P=lt(P),f&&f[ae]?(f=f.i,ge=String(b).toString(),ge in f.g&&(b=f.g[ge],P=re(b,P,$,he),P>-1&&(ee(b[P]),Array.prototype.splice.call(b,P,1),b.length==0&&(delete f.g[ge],f.h--)))):f&&(f=Be(f))&&(b=f.g[b.toString()],f=-1,b&&(f=re(b,P,$,he)),(P=f>-1?b[f]:null)&&ze(P))}function ze(f){if(typeof f!="number"&&f&&!f.da){var b=f.src;if(b&&b[ae])ne(b.i,f);else{var P=f.type,$=f.proxy;b.removeEventListener?b.removeEventListener(P,$,f.capture):b.detachEvent?b.detachEvent(it(P),$):b.addListener&&b.removeListener&&b.removeListener($),(P=Be(b))?(ne(P,f),P.h==0&&(P.src=null,b[ce]=null)):ee(f)}}}function it(f){return f in we?we[f]:we[f]="on"+f}function G(f,b){if(f.da)f=!0;else{b=new J(b,this);const P=f.listener,$=f.ha||f.src;f.fa&&ze(f),f=P.call($,b)}return f}function Be(f){return f=f[ce],f instanceof Z?f:null}var St="__closure_events_fn_"+(Math.random()*1e9>>>0);function lt(f){return typeof f=="function"?f:(f[St]||(f[St]=function(b){return f.handleEvent(b)}),f[St])}function Ee(){I.call(this),this.i=new Z(this),this.M=this,this.G=null}d(Ee,I),Ee.prototype[ae]=!0,Ee.prototype.removeEventListener=function(f,b,P,$){qe(this,f,b,P,$)};function Ge(f,b){var P,$=f.G;if($)for(P=[];$;$=$.G)P.push($);if(f=f.M,$=b.type||b,typeof b=="string")b=new x(b,f);else if(b instanceof x)b.target=b.target||f;else{var he=b;b=new x($,f),R(b,he)}he=!0;let ge,Fe;if(P)for(Fe=P.length-1;Fe>=0;Fe--)ge=b.g=P[Fe],he=We(ge,$,!0,b)&&he;if(ge=b.g=f,he=We(ge,$,!0,b)&&he,he=We(ge,$,!1,b)&&he,P)for(Fe=0;Fe<P.length;Fe++)ge=b.g=P[Fe],he=We(ge,$,!1,b)&&he}Ee.prototype.N=function(){if(Ee.Z.N.call(this),this.i){var f=this.i;for(const b in f.g){const P=f.g[b];for(let $=0;$<P.length;$++)ee(P[$]);delete f.g[b],f.h--}}this.G=null},Ee.prototype.J=function(f,b,P,$){return this.i.add(String(f),b,!1,P,$)},Ee.prototype.K=function(f,b,P,$){return this.i.add(String(f),b,!0,P,$)};function We(f,b,P,$){if(b=f.i.g[String(b)],!b)return!0;b=b.concat();let he=!0;for(let ge=0;ge<b.length;++ge){const Fe=b[ge];if(Fe&&!Fe.da&&Fe.capture==P){const Tt=Fe.listener,_n=Fe.ha||Fe.src;Fe.fa&&ne(f.i,Fe),he=Tt.call(_n,$)!==!1&&he}}return he&&!$.defaultPrevented}function ut(f,b){if(typeof f!="function")if(f&&typeof f.handleEvent=="function")f=u(f.handleEvent,f);else throw Error("Invalid listener argument");return Number(b)>2147483647?-1:o.setTimeout(f,b||0)}function st(f){f.g=ut(()=>{f.g=null,f.i&&(f.i=!1,st(f))},f.l);const b=f.h;f.h=null,f.m.apply(null,b)}class Kt extends I{constructor(b,P){super(),this.m=b,this.l=P,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:st(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Nt(f){I.call(this),this.h=f,this.g={}}d(Nt,I);var de=[];function Te(f){ue(f.g,function(b,P){this.g.hasOwnProperty(P)&&ze(b)},f),f.g={}}Nt.prototype.N=function(){Nt.Z.N.call(this),Te(this)},Nt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ve=o.JSON.stringify,De=o.JSON.parse,$e=class{stringify(f){return o.JSON.stringify(f,void 0)}parse(f){return o.JSON.parse(f,void 0)}};function He(){}function en(){}var vt={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function wt(){x.call(this,"d")}d(wt,x);function _t(){x.call(this,"c")}d(_t,x);var It={},et=null;function Dt(){return et=et||new Ee}It.Ia="serverreachability";function pt(f){x.call(this,It.Ia,f)}d(pt,x);function bt(f){const b=Dt();Ge(b,new pt(b))}It.STAT_EVENT="statevent";function cn(f,b){x.call(this,It.STAT_EVENT,f),this.stat=b}d(cn,x);function ft(f){const b=Dt();Ge(b,new cn(b,f))}It.Ja="timingevent";function dt(f,b){x.call(this,It.Ja,f),this.size=b}d(dt,x);function Ut(f,b){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){f()},b)}function Mi(){this.g=!0}Mi.prototype.ua=function(){this.g=!1};function mr(f,b,P,$,he,ge){f.info(function(){if(f.g)if(ge){var Fe="",Tt=ge.split("&");for(let qt=0;qt<Tt.length;qt++){var _n=Tt[qt].split("=");if(_n.length>1){const bn=_n[0];_n=_n[1];const yr=bn.split("_");Fe=yr.length>=2&&yr[1]=="type"?Fe+(bn+"="+_n+"&"):Fe+(bn+"=redacted&")}}}else Fe=null;else Fe=ge;return"XMLHTTP REQ ("+$+") [attempt "+he+"]: "+b+`
`+P+`
`+Fe})}function Cs(f,b,P,$,he,ge,Fe){f.info(function(){return"XMLHTTP RESP ("+$+") [ attempt "+he+"]: "+b+`
`+P+`
`+ge+" "+Fe})}function xr(f,b,P,$){f.info(function(){return"XMLHTTP TEXT ("+b+"): "+Ns(f,P)+($?" "+$:"")})}function mt(f,b){f.info(function(){return"TIMEOUT: "+b})}Mi.prototype.info=function(){};function Ns(f,b){if(!f.g)return b;if(!b)return null;try{const ge=JSON.parse(b);if(ge){for(f=0;f<ge.length;f++)if(Array.isArray(ge[f])){var P=ge[f];if(!(P.length<2)){var $=P[1];if(Array.isArray($)&&!($.length<1)){var he=$[0];if(he!="noop"&&he!="stop"&&he!="close")for(let Fe=1;Fe<$.length;Fe++)$[Fe]=""}}}}return Ve(ge)}catch{return b}}var pi={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Yr={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Xr;function gn(){}d(gn,He),gn.prototype.g=function(){return new XMLHttpRequest},Xr=new gn;function Dn(f){return encodeURIComponent(String(f))}function ar(f){var b=1;f=f.split(":");const P=[];for(;b>0&&f.length;)P.push(f.shift()),b--;return f.length&&P.push(f.join(":")),P}function Lr(f,b,P,$){this.j=f,this.i=b,this.l=P,this.S=$||1,this.V=new Nt(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ps}function Ps(){this.i=null,this.g="",this.h=!1}var mi={},gi={};function Jr(f,b,P){f.M=1,f.A=Bo(wi(b)),f.u=P,f.R=!0,yi(f,null)}function yi(f,b){f.F=Date.now(),ss(f),f.B=wi(f.A);var P=f.B,$=f.S;Array.isArray($)||($=[String($)]),Ou(P.i,"t",$),f.C=0,P=f.j.L,f.h=new Ps,f.g=Ye(f.j,P?b:null,!f.u),f.P>0&&(f.O=new Kt(u(f.Y,f,f.g),f.P)),b=f.V,P=f.g,$=f.ba;var he="readystatechange";Array.isArray(he)||(he&&(de[0]=he.toString()),he=de);for(let ge=0;ge<he.length;ge++){const Fe=be(P,he[ge],$||b.handleEvent,!1,b.h||b);if(!Fe)break;b.g[Fe.key]=Fe}b=f.J?_e(f.J):{},f.u?(f.v||(f.v="POST"),b["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.B,f.v,f.u,b)):(f.v="GET",f.g.ea(f.B,f.v,null,b)),bt(),mr(f.i,f.v,f.B,f.l,f.S,f.u)}Lr.prototype.ba=function(f){f=f.target;const b=this.O;b&&ki(f)==3?b.j():this.Y(f)},Lr.prototype.Y=function(f){try{if(f==this.g)e:{const Tt=ki(this.g),_n=this.g.ya(),qt=this.g.ca();if(!(Tt<3)&&(Tt!=3||this.g&&(this.h.h||this.g.la()||ka(this.g)))){this.K||Tt!=4||_n==7||(_n==8||qt<=0?bt(3):bt(2)),io(this);var b=this.g.ca();this.X=b;var P=vi(this);if(this.o=b==200,Cs(this.i,this.v,this.B,this.l,this.S,Tt,b),this.o){if(this.U&&!this.L){t:{if(this.g){var $,he=this.g;if(($=he.g?he.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N($)){var ge=$;break t}}ge=null}if(f=ge)xr(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,jo(this,f);else{this.o=!1,this.m=3,ft(12),Ls(this),os(this);break e}}if(this.R){f=!0;let bn;for(;!this.K&&this.C<P.length;)if(bn=is(this,P),bn==gi){Tt==4&&(this.m=4,ft(14),f=!1),xr(this.i,this.l,null,"[Incomplete Response]");break}else if(bn==mi){this.m=4,ft(15),xr(this.i,this.l,P,"[Invalid Chunk]"),f=!1;break}else xr(this.i,this.l,bn,null),jo(this,bn);if(ro(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Tt!=4||P.length!=0||this.h.h||(this.m=1,ft(16),f=!1),this.o=this.o&&f,!f)xr(this.i,this.l,P,"[Invalid Chunked Response]"),Ls(this),os(this);else if(P.length>0&&!this.W){this.W=!0;var Fe=this.j;Fe.g==this&&Fe.aa&&!Fe.P&&(Fe.j.info("Great, no buffering proxy detected. Bytes received: "+P.length),Aa(Fe),Fe.P=!0,ft(11))}}else xr(this.i,this.l,P,null),jo(this,P);Tt==4&&Ls(this),this.o&&!this.K&&(Tt==4?K(this.j,this):(this.o=!1,ss(this)))}else ju(this.g),b==400&&P.indexOf("Unknown SID")>0?(this.m=3,ft(12)):(this.m=0,ft(13)),Ls(this),os(this)}}}catch{}finally{}};function vi(f){if(!ro(f))return f.g.la();const b=ka(f.g);if(b==="")return"";let P="";const $=b.length,he=ki(f.g)==4;if(!f.h.i){if(typeof TextDecoder>"u")return Ls(f),os(f),"";f.h.i=new o.TextDecoder}for(let ge=0;ge<$;ge++)f.h.h=!0,P+=f.h.i.decode(b[ge],{stream:!(he&&ge==$-1)});return b.length=0,f.h.g+=P,f.C=0,f.h.g}function ro(f){return f.g?f.v=="GET"&&f.M!=2&&f.j.Aa:!1}function is(f,b){var P=f.C,$=b.indexOf(`
`,P);return $==-1?gi:(P=Number(b.substring(P,$)),isNaN(P)?mi:($+=1,$+P>b.length?gi:(b=b.slice($,$+P),f.C=$+P,b)))}Lr.prototype.cancel=function(){this.K=!0,Ls(this)};function ss(f){f.T=Date.now()+f.H,Fo(f,f.H)}function Fo(f,b){if(f.D!=null)throw Error("WatchDog timer not null");f.D=Ut(u(f.aa,f),b)}function io(f){f.D&&(o.clearTimeout(f.D),f.D=null)}Lr.prototype.aa=function(){this.D=null;const f=Date.now();f-this.T>=0?(mt(this.i,this.B),this.M!=2&&(bt(),ft(17)),Ls(this),this.m=2,os(this)):Fo(this,this.T-f)};function os(f){f.j.I==0||f.K||K(f.j,f)}function Ls(f){io(f);var b=f.O;b&&typeof b.dispose=="function"&&b.dispose(),f.O=null,Te(f.V),f.g&&(b=f.g,f.g=null,b.abort(),b.dispose())}function jo(f,b){try{var P=f.j;if(P.I!=0&&(P.g==f||va(P.h,f))){if(!f.L&&va(P.h,f)&&P.I==3){try{var $=P.Ba.g.parse(b)}catch{$=null}if(Array.isArray($)&&$.length==3){var he=$;if(he[0]==0){e:if(!P.v){if(P.g)if(P.g.F+3e3<f.F)O(P),co(P);else break e;Os(P),ft(18)}}else P.xa=he[1],0<P.xa-P.K&&he[2]<37500&&P.F&&P.A==0&&!P.C&&(P.C=Ut(u(P.Va,P),6e3));ya(P.h)<=1&&P.ta&&(P.ta=void 0)}else le(P,11)}else if((f.L||P.g==f)&&O(P),!N(b))for(he=P.Ba.g.parse(b),b=0;b<he.length;b++){let qt=he[b];const bn=qt[0];if(!(bn<=P.K))if(P.K=bn,qt=qt[1],P.I==2)if(qt[0]=="c"){P.M=qt[1],P.ba=qt[2];const yr=qt[3];yr!=null&&(P.ka=yr,P.j.info("VER="+P.ka));const Rr=qt[4];Rr!=null&&(P.za=Rr,P.j.info("SVER="+P.za));const xn=qt[5];xn!=null&&typeof xn=="number"&&xn>0&&($=1.5*xn,P.O=$,P.j.info("backChannelRequestTimeoutMs_="+$)),$=P;const Dr=f.g;if(Dr){const fs=Dr.g?Dr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(fs){var ge=$.h;ge.g||fs.indexOf("spdy")==-1&&fs.indexOf("quic")==-1&&fs.indexOf("h2")==-1||(ge.j=ge.l,ge.g=new Set,ge.h&&(Vo(ge,ge.h),ge.h=null))}if($.G){const qo=Dr.g?Dr.g.getResponseHeader("X-HTTP-Session-Id"):null;qo&&($.wa=qo,tn($.J,$.G,qo))}}P.I=3,P.l&&P.l.ra(),P.aa&&(P.T=Date.now()-f.F,P.j.info("Handshake RTT: "+P.T+"ms")),$=P;var Fe=f;if($.na=Pe($,$.L?$.ba:null,$.W),Fe.L){Ll($.h,Fe);var Tt=Fe,_n=$.O;_n&&(Tt.H=_n),Tt.D&&(io(Tt),ss(Tt)),$.g=Fe}else Vl($);P.i.length>0&&fo(P)}else qt[0]!="stop"&&qt[0]!="close"||le(P,7);else P.I==3&&(qt[0]=="stop"||qt[0]=="close"?qt[0]=="stop"?le(P,7):uo(P):qt[0]!="noop"&&P.l&&P.l.qa(qt),P.A=0)}}bt(4)}catch{}}var Pu=class{constructor(f,b){this.g=f,this.map=b}};function Pl(f){this.l=f||10,o.PerformanceNavigationTiming?(f=o.performance.getEntriesByType("navigation"),f=f.length>0&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Zr(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function ya(f){return f.h?1:f.g?f.g.size:0}function va(f,b){return f.h?f.h==b:f.g?f.g.has(b):!1}function Vo(f,b){f.g?f.g.add(b):f.h=b}function Ll(f,b){f.h&&f.h==b?f.h=null:f.g&&f.g.has(b)&&f.g.delete(b)}Pl.prototype.cancel=function(){if(this.i=Rl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Rl(f){if(f.h!=null)return f.i.concat(f.h.G);if(f.g!=null&&f.g.size!==0){let b=f.i;for(const P of f.g.values())b=b.concat(P.G);return b}return p(f.i)}var Dl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function as(f,b){if(f){f=f.split("&");for(let P=0;P<f.length;P++){const $=f[P].indexOf("=");let he,ge=null;$>=0?(he=f[P].substring(0,$),ge=f[P].substring($+1)):he=f[P],b(he,ge?decodeURIComponent(ge.replace(/\+/g," ")):"")}}}function ei(f){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let b;f instanceof ei?(this.l=f.l,yn(this,f.j),this.o=f.o,this.g=f.g,so(this,f.u),this.h=f.h,_i(this,wa(f.i)),this.m=f.m):f&&(b=String(f).match(Dl))?(this.l=!1,yn(this,b[1]||"",!0),this.o=gr(b[2]||""),this.g=gr(b[3]||"",!0),so(this,b[4]),this.h=gr(b[5]||"",!0),_i(this,b[6]||"",!0),this.m=gr(b[7]||"")):(this.l=!1,this.i=new oo(null,this.l))}ei.prototype.toString=function(){const f=[];var b=this.j;b&&f.push(Tn(b,Ol,!0),":");var P=this.g;return(P||b=="file")&&(f.push("//"),(b=this.o)&&f.push(Tn(b,Ol,!0),"@"),f.push(Dn(P).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),P=this.u,P!=null&&f.push(":",String(P))),(P=this.h)&&(this.g&&P.charAt(0)!="/"&&f.push("/"),f.push(Tn(P,P.charAt(0)=="/"?uh:lh,!0))),(P=this.i.toString())&&f.push("?",P),(P=this.m)&&f.push("#",Tn(P,Lu)),f.join("")},ei.prototype.resolve=function(f){const b=wi(this);let P=!!f.j;P?yn(b,f.j):P=!!f.o,P?b.o=f.o:P=!!f.g,P?b.g=f.g:P=f.u!=null;var $=f.h;if(P)so(b,f.u);else if(P=!!f.h){if($.charAt(0)!="/")if(this.g&&!this.h)$="/"+$;else{var he=b.h.lastIndexOf("/");he!=-1&&($=b.h.slice(0,he+1)+$)}if(he=$,he==".."||he==".")$="";else if(he.indexOf("./")!=-1||he.indexOf("/.")!=-1){$=he.lastIndexOf("/",0)==0,he=he.split("/");const ge=[];for(let Fe=0;Fe<he.length;){const Tt=he[Fe++];Tt=="."?$&&Fe==he.length&&ge.push(""):Tt==".."?((ge.length>1||ge.length==1&&ge[0]!="")&&ge.pop(),$&&Fe==he.length&&ge.push("")):(ge.push(Tt),$=!0)}$=ge.join("/")}else $=he}return P?b.h=$:P=f.i.toString()!=="",P?_i(b,wa(f.i)):P=!!f.m,P&&(b.m=f.m),b};function wi(f){return new ei(f)}function yn(f,b,P){f.j=P?gr(b,!0):b,f.j&&(f.j=f.j.replace(/:$/,""))}function so(f,b){if(b){if(b=Number(b),isNaN(b)||b<0)throw Error("Bad port number "+b);f.u=b}else f.u=null}function _i(f,b,P){b instanceof oo?(f.i=b,Fi(f.i,f.l)):(P||(b=Tn(b,ls)),f.i=new oo(b,f.l))}function tn(f,b,P){f.i.set(b,P)}function Bo(f){return tn(f,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),f}function gr(f,b){return f?b?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Tn(f,b,P){return typeof f=="string"?(f=encodeURI(f).replace(b,Rs),P&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Rs(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var Ol=/[#\/\?@]/g,lh=/[#\?:]/g,uh=/[#\?]/g,ls=/[#\?@]/g,Lu=/#/g;function oo(f,b){this.h=this.g=null,this.i=f||null,this.j=!!b}function bi(f){f.g||(f.g=new Map,f.h=0,f.i&&as(f.i,function(b,P){f.add(decodeURIComponent(b.replace(/\+/g," ")),P)}))}t=oo.prototype,t.add=function(f,b){bi(this),this.i=null,f=Ds(this,f);let P=this.g.get(f);return P||this.g.set(f,P=[]),P.push(b),this.h+=1,this};function ao(f,b){bi(f),b=Ds(f,b),f.g.has(b)&&(f.i=null,f.h-=f.g.get(b).length,f.g.delete(b))}function Ru(f,b){return bi(f),b=Ds(f,b),f.g.has(b)}t.forEach=function(f,b){bi(this),this.g.forEach(function(P,$){P.forEach(function(he){f.call(b,he,$,this)},this)},this)};function Du(f,b){bi(f);let P=[];if(typeof b=="string")Ru(f,b)&&(P=P.concat(f.g.get(Ds(f,b))));else for(f=Array.from(f.g.values()),b=0;b<f.length;b++)P=P.concat(f[b]);return P}t.set=function(f,b){return bi(this),this.i=null,f=Ds(this,f),Ru(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[b]),this.h+=1,this},t.get=function(f,b){return f?(f=Du(this,f),f.length>0?String(f[0]):b):b};function Ou(f,b,P){ao(f,b),P.length>0&&(f.i=null,f.g.set(Ds(f,b),p(P)),f.h+=P.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],b=Array.from(this.g.keys());for(let $=0;$<b.length;$++){var P=b[$];const he=Dn(P);P=Du(this,P);for(let ge=0;ge<P.length;ge++){let Fe=he;P[ge]!==""&&(Fe+="="+Dn(P[ge])),f.push(Fe)}}return this.i=f.join("&")};function wa(f){const b=new oo;return b.i=f.i,f.g&&(b.g=new Map(f.g),b.h=f.h),b}function Ds(f,b){return b=String(b),f.j&&(b=b.toLowerCase()),b}function Fi(f,b){b&&!f.j&&(bi(f),f.i=null,f.g.forEach(function(P,$){const he=$.toLowerCase();$!=he&&(ao(this,$),Ou(this,he,P))},f)),f.j=b}function ch(f,b){const P=new Mi;if(o.Image){const $=new Image;$.onload=c(xi,P,"TestLoadImage: loaded",!0,b,$),$.onerror=c(xi,P,"TestLoadImage: error",!1,b,$),$.onabort=c(xi,P,"TestLoadImage: abort",!1,b,$),$.ontimeout=c(xi,P,"TestLoadImage: timeout",!1,b,$),o.setTimeout(function(){$.ontimeout&&$.ontimeout()},1e4),$.src=f}else b(!1)}function Uo(f,b){const P=new Mi,$=new AbortController,he=setTimeout(()=>{$.abort(),xi(P,"TestPingServer: timeout",!1,b)},1e4);fetch(f,{signal:$.signal}).then(ge=>{clearTimeout(he),ge.ok?xi(P,"TestPingServer: ok",!0,b):xi(P,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(he),xi(P,"TestPingServer: error",!1,b)})}function xi(f,b,P,$,he){try{he&&(he.onload=null,he.onerror=null,he.onabort=null,he.ontimeout=null),$(P)}catch{}}function hh(){this.g=new $e}function xt(f){this.i=f.Sb||null,this.h=f.ab||!1}d(xt,He),xt.prototype.g=function(){return new _a(this.i,this.h)};function _a(f,b){Ee.call(this),this.H=f,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}d(_a,Ee),t=_a.prototype,t.open=function(f,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=f,this.D=b,this.readyState=1,ti(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const b={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};f&&(b.body=f),(this.H||o).fetch(new Request(this.D,b)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,zo(this)),this.readyState=0},t.Pa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,ti(this)),this.g&&(this.readyState=3,ti(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Mu(this)}else f.text().then(this.Oa.bind(this),this.ga.bind(this))};function Mu(f){f.j.read().then(f.Ma.bind(f)).catch(f.ga.bind(f))}t.Ma=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var b=f.value?f.value:new Uint8Array(0);(b=this.B.decode(b,{stream:!f.done}))&&(this.response=this.responseText+=b)}f.done?zo(this):ti(this),this.readyState==3&&Mu(this)}},t.Oa=function(f){this.g&&(this.response=this.responseText=f,zo(this))},t.Na=function(f){this.g&&(this.response=f,zo(this))},t.ga=function(){this.g&&zo(this)};function zo(f){f.readyState=4,f.l=null,f.j=null,f.B=null,ti(f)}t.setRequestHeader=function(f,b){this.A.append(f,b)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],b=this.h.entries();for(var P=b.next();!P.done;)P=P.value,f.push(P[0]+": "+P[1]),P=b.next();return f.join(`\r
`)};function ti(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(_a.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function us(f){let b="";return ue(f,function(P,$){b+=$,b+=":",b+=P,b+=`\r
`}),b}function Ml(f,b,P){e:{for($ in P){var $=!1;break e}$=!0}$||(P=us(P),typeof f=="string"?P!=null&&Dn(P):tn(f,b,P))}function vn(f){Ee.call(this),this.headers=new Map,this.L=f||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}d(vn,Ee);var ba=/^https?$/i,Fl=["POST","PUT"];t=vn.prototype,t.Fa=function(f){this.H=f},t.ea=function(f,b,P,$){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);b=b?b.toUpperCase():"GET",this.D=f,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Xr.g(),this.g.onreadystatechange=g(u(this.Ca,this));try{this.B=!0,this.g.open(b,String(f),!0),this.B=!1}catch(ge){lo(this,ge);return}if(f=P||"",P=new Map(this.headers),$)if(Object.getPrototypeOf($)===Object.prototype)for(var he in $)P.set(he,$[he]);else if(typeof $.keys=="function"&&typeof $.get=="function")for(const ge of $.keys())P.set(ge,$.get(ge));else throw Error("Unknown input type for opt_headers: "+String($));$=Array.from(P.keys()).find(ge=>ge.toLowerCase()=="content-type"),he=o.FormData&&f instanceof o.FormData,!(Array.prototype.indexOf.call(Fl,b,void 0)>=0)||$||he||P.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ge,Fe]of P)this.g.setRequestHeader(ge,Fe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(f),this.v=!1}catch(ge){lo(this,ge)}};function lo(f,b){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=b,f.o=5,Fu(f),xa(f)}function Fu(f){f.A||(f.A=!0,Ge(f,"complete"),Ge(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=f||7,Ge(this,"complete"),Ge(this,"abort"),xa(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),xa(this,!0)),vn.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?cs(this):this.Xa())},t.Xa=function(){cs(this)};function cs(f){if(f.h&&typeof s<"u"){if(f.v&&ki(f)==4)setTimeout(f.Ca.bind(f),0);else if(Ge(f,"readystatechange"),ki(f)==4){f.h=!1;try{const ge=f.ca();e:switch(ge){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break e;default:b=!1}var P;if(!(P=b)){var $;if($=ge===0){let Fe=String(f.D).match(Dl)[1]||null;!Fe&&o.self&&o.self.location&&(Fe=o.self.location.protocol.slice(0,-1)),$=!ba.test(Fe?Fe.toLowerCase():"")}P=$}if(P)Ge(f,"complete"),Ge(f,"success");else{f.o=6;try{var he=ki(f)>2?f.g.statusText:""}catch{he=""}f.l=he+" ["+f.ca()+"]",Fu(f)}}finally{xa(f)}}}}function xa(f,b){if(f.g){f.m&&(clearTimeout(f.m),f.m=null);const P=f.g;f.g=null,b||Ge(f,"ready");try{P.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function ki(f){return f.g?f.g.readyState:0}t.ca=function(){try{return ki(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(f){if(this.g){var b=this.g.responseText;return f&&b.indexOf(f)==0&&(b=b.substring(f.length)),De(b)}};function ka(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.F){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function ju(f){const b={};f=(f.g&&ki(f)>=2&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let $=0;$<f.length;$++){if(N(f[$]))continue;var P=ar(f[$]);const he=P[0];if(P=P[1],typeof P!="string")continue;P=P.trim();const ge=b[he]||[];b[he]=ge,ge.push(P)}z(b,function($){return $.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ni(f,b,P){return P&&P.internalChannelParams&&P.internalChannelParams[f]||b}function Sa(f){this.za=0,this.i=[],this.j=new Mi,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ni("failFast",!1,f),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ni("baseRetryDelayMs",5e3,f),this.Za=ni("retryDelaySeedMs",1e4,f),this.Ta=ni("forwardChannelMaxRetries",2,f),this.va=ni("forwardChannelRequestTimeoutMs",2e4,f),this.ma=f&&f.xmlHttpFactory||void 0,this.Ua=f&&f.Rb||void 0,this.Aa=f&&f.useFetchStreams||!1,this.O=void 0,this.L=f&&f.supportsCrossDomainXhr||!1,this.M="",this.h=new Pl(f&&f.concurrentRequestLimit),this.Ba=new hh,this.S=f&&f.fastHandshake||!1,this.R=f&&f.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=f&&f.Pb||!1,f&&f.ua&&this.j.ua(),f&&f.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&f&&f.detectBufferingProxy||!1,this.ia=void 0,f&&f.longPollingTimeout&&f.longPollingTimeout>0&&(this.ia=f.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Sa.prototype,t.ka=8,t.I=1,t.connect=function(f,b,P,$){ft(0),this.W=f,this.H=b||{},P&&$!==void 0&&(this.H.OSID=P,this.H.OAID=$),this.F=this.X,this.J=Pe(this,null,this.W),fo(this)};function uo(f){if(ho(f),f.I==3){var b=f.V++,P=wi(f.J);if(tn(P,"SID",f.M),tn(P,"RID",b),tn(P,"TYPE","terminate"),ri(f,P),b=new Lr(f,f.j,b),b.M=2,b.A=Bo(wi(P)),P=!1,o.navigator&&o.navigator.sendBeacon)try{P=o.navigator.sendBeacon(b.A.toString(),"")}catch{}!P&&o.Image&&(new Image().src=b.A,P=!0),P||(b.g=Ye(b.j,null),b.g.ea(b.A)),b.F=Date.now(),ss(b)}Se(f)}function co(f){f.g&&(Aa(f),f.g.cancel(),f.g=null)}function ho(f){co(f),f.v&&(o.clearTimeout(f.v),f.v=null),O(f),f.h.cancel(),f.m&&(typeof f.m=="number"&&o.clearTimeout(f.m),f.m=null)}function fo(f){if(!Zr(f.h)&&!f.m){f.m=!0;var b=f.Ea;X||A(),W||(X(),W=!0),F.add(b,f),f.D=0}}function Vu(f,b){return ya(f.h)>=f.h.j-(f.m?1:0)?!1:f.m?(f.i=b.G.concat(f.i),!0):f.I==1||f.I==2||f.D>=(f.Sa?0:f.Ta)?!1:(f.m=Ut(u(f.Ea,f,b),te(f,f.D)),f.D++,!0)}t.Ea=function(f){if(this.m)if(this.m=null,this.I==1){if(!f){this.V=Math.floor(Math.random()*1e5),f=this.V++;const he=new Lr(this,this.j,f);let ge=this.o;if(this.U&&(ge?(ge=_e(ge),R(ge,this.U)):ge=this.U),this.u!==null||this.R||(he.J=ge,ge=null),this.S)e:{for(var b=0,P=0;P<this.i.length;P++){t:{var $=this.i[P];if("__data__"in $.map&&($=$.map.__data__,typeof $=="string")){$=$.length;break t}$=void 0}if($===void 0)break;if(b+=$,b>4096){b=P;break e}if(b===4096||P===this.i.length-1){b=P+1;break e}}b=1e3}else b=1e3;b=hs(this,he,b),P=wi(this.J),tn(P,"RID",f),tn(P,"CVER",22),this.G&&tn(P,"X-HTTP-Session-Id",this.G),ri(this,P),ge&&(this.R?b="headers="+Dn(us(ge))+"&"+b:this.u&&Ml(P,this.u,ge)),Vo(this.h,he),this.Ra&&tn(P,"TYPE","init"),this.S?(tn(P,"$req",b),tn(P,"SID","null"),he.U=!0,Jr(he,P,null)):Jr(he,P,b),this.I=2}}else this.I==3&&(f?jl(this,f):this.i.length==0||Zr(this.h)||jl(this))};function jl(f,b){var P;b?P=b.l:P=f.V++;const $=wi(f.J);tn($,"SID",f.M),tn($,"RID",P),tn($,"AID",f.K),ri(f,$),f.u&&f.o&&Ml($,f.u,f.o),P=new Lr(f,f.j,P,f.D+1),f.u===null&&(P.J=f.o),b&&(f.i=b.G.concat(f.i)),b=hs(f,P,1e3),P.H=Math.round(f.va*.5)+Math.round(f.va*.5*Math.random()),Vo(f.h,P),Jr(P,$,b)}function ri(f,b){f.H&&ue(f.H,function(P,$){tn(b,$,P)}),f.l&&ue({},function(P,$){tn(b,$,P)})}function hs(f,b,P){P=Math.min(f.i.length,P);const $=f.l?u(f.l.Ka,f.l,f):null;e:{var he=f.i;let Tt=-1;for(;;){const _n=["count="+P];Tt==-1?P>0?(Tt=he[0].g,_n.push("ofs="+Tt)):Tt=0:_n.push("ofs="+Tt);let qt=!0;for(let bn=0;bn<P;bn++){var ge=he[bn].g;const yr=he[bn].map;if(ge-=Tt,ge<0)Tt=Math.max(0,he[bn].g-100),qt=!1;else try{ge="req"+ge+"_"||"";try{var Fe=yr instanceof Map?yr:Object.entries(yr);for(const[Rr,xn]of Fe){let Dr=xn;a(xn)&&(Dr=Ve(xn)),_n.push(ge+Rr+"="+encodeURIComponent(Dr))}}catch(Rr){throw _n.push(ge+"type="+encodeURIComponent("_badmap")),Rr}}catch{$&&$(yr)}}if(qt){Fe=_n.join("&");break e}}Fe=void 0}return f=f.i.splice(0,P),b.G=f,Fe}function Vl(f){if(!f.g&&!f.v){f.Y=1;var b=f.Da;X||A(),W||(X(),W=!0),F.add(b,f),f.A=0}}function Os(f){return f.g||f.v||f.A>=3?!1:(f.Y++,f.v=Ut(u(f.Da,f),te(f,f.A)),f.A++,!0)}t.Da=function(){if(this.v=null,y(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var f=4*this.T;this.j.info("BP detection timer enabled: "+f),this.B=Ut(u(this.Wa,this),f)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ft(10),co(this),y(this))};function Aa(f){f.B!=null&&(o.clearTimeout(f.B),f.B=null)}function y(f){f.g=new Lr(f,f.j,"rpc",f.Y),f.u===null&&(f.g.J=f.o),f.g.P=0;var b=wi(f.na);tn(b,"RID","rpc"),tn(b,"SID",f.M),tn(b,"AID",f.K),tn(b,"CI",f.F?"0":"1"),!f.F&&f.ia&&tn(b,"TO",f.ia),tn(b,"TYPE","xmlhttp"),ri(f,b),f.u&&f.o&&Ml(b,f.u,f.o),f.O&&(f.g.H=f.O);var P=f.g;f=f.ba,P.M=1,P.A=Bo(wi(b)),P.u=null,P.R=!0,yi(P,f)}t.Va=function(){this.C!=null&&(this.C=null,co(this),Os(this),ft(19))};function O(f){f.C!=null&&(o.clearTimeout(f.C),f.C=null)}function K(f,b){var P=null;if(f.g==b){O(f),Aa(f),f.g=null;var $=2}else if(va(f.h,b))P=b.G,Ll(f.h,b),$=1;else return;if(f.I!=0){if(b.o)if($==1){P=b.u?b.u.length:0,b=Date.now()-b.F;var he=f.D;$=Dt(),Ge($,new dt($,P)),fo(f)}else Vl(f);else if(he=b.m,he==3||he==0&&b.X>0||!($==1&&Vu(f,b)||$==2&&Os(f)))switch(P&&P.length>0&&(b=f.h,b.i=b.i.concat(P)),he){case 1:le(f,5);break;case 4:le(f,10);break;case 3:le(f,6);break;default:le(f,2)}}}function te(f,b){let P=f.Qa+Math.floor(Math.random()*f.Za);return f.isActive()||(P*=2),P*b}function le(f,b){if(f.j.info("Error code "+b),b==2){var P=u(f.bb,f),$=f.Ua;const he=!$;$=new ei($||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||yn($,"https"),Bo($),he?ch($.toString(),P):Uo($.toString(),P)}else ft(2);f.I=0,f.l&&f.l.pa(b),Se(f),ho(f)}t.bb=function(f){f?(this.j.info("Successfully pinged google.com"),ft(2)):(this.j.info("Failed to ping google.com"),ft(1))};function Se(f){if(f.I=0,f.ja=[],f.l){const b=Rl(f.h);(b.length!=0||f.i.length!=0)&&(_(f.ja,b),_(f.ja,f.i),f.h.i.length=0,p(f.i),f.i.length=0),f.l.oa()}}function Pe(f,b,P){var $=P instanceof ei?wi(P):new ei(P);if($.g!="")b&&($.g=b+"."+$.g),so($,$.u);else{var he=o.location;$=he.protocol,b=b?b+"."+he.hostname:he.hostname,he=+he.port;const ge=new ei(null);$&&yn(ge,$),b&&(ge.g=b),he&&so(ge,he),P&&(ge.h=P),$=ge}return P=f.G,b=f.wa,P&&b&&tn($,P,b),tn($,"VER",f.ka),ri(f,$),$}function Ye(f,b,P){if(b&&!f.L)throw Error("Can't create secondary domain capable XhrIo object.");return b=f.Aa&&!f.ma?new vn(new xt({ab:P})):new vn(f.ma),b.Fa(f.L),b}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function tt(){}t=tt.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function yt(){}yt.prototype.g=function(f,b){return new ct(f,b)};function ct(f,b){Ee.call(this),this.g=new Sa(b),this.l=f,this.h=b&&b.messageUrlParams||null,f=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(f?f["X-WebChannel-Content-Type"]=b.messageContentType:f={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.sa&&(f?f["X-WebChannel-Client-Profile"]=b.sa:f={"X-WebChannel-Client-Profile":b.sa}),this.g.U=f,(f=b&&b.Qb)&&!N(f)&&(this.g.u=f),this.A=b&&b.supportsCrossDomainXhr||!1,this.v=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!N(b)&&(this.g.G=b,f=this.h,f!==null&&b in f&&(f=this.h,b in f&&delete f[b])),this.j=new hn(this)}d(ct,Ee),ct.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},ct.prototype.close=function(){uo(this.g)},ct.prototype.o=function(f){var b=this.g;if(typeof f=="string"){var P={};P.__data__=f,f=P}else this.v&&(P={},P.__data__=Ve(f),f=P);b.i.push(new Pu(b.Ya++,f)),b.I==3&&fo(b)},ct.prototype.N=function(){this.g.l=null,delete this.j,uo(this.g),delete this.g,ct.Z.N.call(this)};function zt(f){wt.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var b=f.__sm__;if(b){e:{for(const P in b){f=P;break e}f=void 0}(this.i=f)&&(f=this.i,b=b!==null&&f in b?b[f]:void 0),this.data=b}else this.data=f}d(zt,wt);function wn(){_t.call(this),this.status=1}d(wn,_t);function hn(f){this.g=f}d(hn,tt),hn.prototype.ra=function(){Ge(this.g,"a")},hn.prototype.qa=function(f){Ge(this.g,new zt(f))},hn.prototype.pa=function(f){Ge(this.g,new wn)},hn.prototype.oa=function(){Ge(this.g,"b")},yt.prototype.createWebChannel=yt.prototype.g,ct.prototype.send=ct.prototype.o,ct.prototype.open=ct.prototype.m,ct.prototype.close=ct.prototype.close,sE=function(){return new yt},iE=function(){return Dt()},rE=It,C2={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},pi.NO_ERROR=0,pi.TIMEOUT=8,pi.HTTP_ERROR=6,Tp=pi,Yr.COMPLETE="complete",nE=Yr,en.EventType=vt,vt.OPEN="a",vt.CLOSE="b",vt.ERROR="c",vt.MESSAGE="d",Ee.prototype.listen=Ee.prototype.J,qh=en,vn.prototype.listenOnce=vn.prototype.K,vn.prototype.getLastError=vn.prototype.Ha,vn.prototype.getLastErrorCode=vn.prototype.ya,vn.prototype.getStatus=vn.prototype.ca,vn.prototype.getResponseJson=vn.prototype.La,vn.prototype.getResponseText=vn.prototype.la,vn.prototype.send=vn.prototype.ea,vn.prototype.setWithCredentials=vn.prototype.Fa,tE=vn}).apply(typeof Kd<"u"?Kd:typeof self<"u"?self:typeof window<"u"?window:{});const fb="@firebase/firestore",db="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}qr.UNAUTHENTICATED=new qr(null),qr.GOOGLE_CREDENTIALS=new qr("google-credentials-uid"),qr.FIRST_PARTY=new qr("first-party-uid"),qr.MOCK_USER=new qr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eh="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yu=new og("@firebase/firestore");function Qu(){return yu.logLevel}function Qe(t,...e){if(yu.logLevel<=$t.DEBUG){const n=e.map(N5);yu.debug(`Firestore (${eh}): ${t}`,...n)}}function da(t,...e){if(yu.logLevel<=$t.ERROR){const n=e.map(N5);yu.error(`Firestore (${eh}): ${t}`,...n)}}function Uc(t,...e){if(yu.logLevel<=$t.WARN){const n=e.map(N5);yu.warn(`Firestore (${eh}): ${t}`,...n)}}function N5(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kt(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,oE(t,r,n)}function oE(t,e,n){let r=`FIRESTORE (${eh}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw da(r),new Error(r)}function rn(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||oE(e,i,r)}function Lt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ke extends eo{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aE{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class KO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(qr.UNAUTHENTICATED))}shutdown(){}}class QO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class YO{constructor(e){this.t=e,this.currentUser=qr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){rn(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new fl;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new fl,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{Qe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Qe("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new fl)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Qe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(rn(typeof r.accessToken=="string",31837,{l:r}),new aE(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return rn(e===null||typeof e=="string",2055,{h:e}),new qr(e)}}class XO{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=qr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class JO{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new XO(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(qr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class pb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ZO{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,$s(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){rn(this.o===void 0,3512);const r=s=>{s.error!=null&&Qe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,Qe("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{Qe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):Qe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new pb(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(rn(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new pb(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e9(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P5{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=e9(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function Ht(t,e){return t<e?-1:t>e?1:0}function N2(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),s=e.charAt(r);if(i!==s)return F1(i)===F1(s)?Ht(i,s):F1(i)?1:-1}return Ht(t.length,e.length)}const t9=55296,n9=57343;function F1(t){const e=t.charCodeAt(0);return e>=t9&&e<=n9}function zc(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mb="__name__";class xo{constructor(e,n,r){n===void 0?n=0:n>e.length&&kt(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&kt(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return xo.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof xo?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=xo.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return Ht(e.length,n.length)}static compareSegments(e,n){const r=xo.isNumericId(e),i=xo.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?xo.extractNumericId(e).compare(xo.extractNumericId(n)):N2(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return hl.fromString(e.substring(4,e.length-2))}}class An extends xo{construct(e,n,r){return new An(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ke(Ce.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new An(n)}static emptyPath(){return new An([])}}const r9=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Tr extends xo{construct(e,n,r){return new Tr(e,n,r)}static isValidIdentifier(e){return r9.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Tr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===mb}static keyField(){return new Tr([mb])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Ke(Ce.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new Ke(Ce.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Ke(Ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new Ke(Ce.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Tr(n)}static emptyPath(){return new Tr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e){this.path=e}static fromPath(e){return new ht(An.fromString(e))}static fromName(e){return new ht(An.fromString(e).popFirst(5))}static empty(){return new ht(An.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&An.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return An.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ht(new An(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lE(t,e,n){if(!n)throw new Ke(Ce.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function i9(t,e,n,r){if(e===!0&&r===!0)throw new Ke(Ce.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function gb(t){if(!ht.isDocumentKey(t))throw new Ke(Ce.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function yb(t){if(ht.isDocumentKey(t))throw new Ke(Ce.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function uE(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function fg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":kt(12329,{type:typeof t})}function Ss(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ke(Ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=fg(t);throw new Ke(Ce.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function or(t,e){const n={typeString:t};return e&&(n.value=e),n}function Zf(t,e){if(!uE(t))throw new Ke(Ce.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(i&&typeof o!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&o!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new Ke(Ce.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vb=-62135596800,wb=1e6;class Pn{static now(){return Pn.fromMillis(Date.now())}static fromDate(e){return Pn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*wb);return new Pn(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ke(Ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ke(Ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<vb)throw new Ke(Ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ke(Ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/wb}_compareTo(e){return this.seconds===e.seconds?Ht(this.nanoseconds,e.nanoseconds):Ht(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Pn._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Zf(e,Pn._jsonSchema))return new Pn(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-vb;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Pn._jsonSchemaVersion="firestore/timestamp/1.0",Pn._jsonSchema={type:or("string",Pn._jsonSchemaVersion),seconds:or("number"),nanoseconds:or("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{static fromTimestamp(e){return new Ct(e)}static min(){return new Ct(new Pn(0,0))}static max(){return new Ct(new Pn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rf=-1;function s9(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Ct.fromTimestamp(r===1e9?new Pn(n+1,0):new Pn(n,r));return new yl(i,ht.empty(),e)}function o9(t){return new yl(t.readTime,t.key,Rf)}class yl{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new yl(Ct.min(),ht.empty(),Rf)}static max(){return new yl(Ct.max(),ht.empty(),Rf)}}function a9(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ht.comparator(t.documentKey,e.documentKey),n!==0?n:Ht(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l9="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class u9{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function th(t){if(t.code!==Ce.FAILED_PRECONDITION||t.message!==l9)throw t;Qe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&kt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Ne((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Ne?n:Ne.resolve(n)}catch(n){return Ne.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Ne.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Ne.reject(n)}static resolve(e){return new Ne((n,r)=>{n(e)})}static reject(e){return new Ne((n,r)=>{r(e)})}static waitFor(e){return new Ne((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=Ne.resolve(!1);for(const r of e)n=n.next(i=>i?Ne.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new Ne((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(c=>{o[u]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(e,n){return new Ne((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function c9(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function nh(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}dg.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L5=-1;function pg(t){return t==null}function km(t){return t===0&&1/t==-1/0}function h9(t){return typeof t=="number"&&Number.isInteger(t)&&!km(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cE="";function f9(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=_b(e)),e=d9(t.get(n),e);return _b(e)}function d9(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case cE:n+="";break;default:n+=s}}return n}function _b(t){return t+cE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bb(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Tl(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function hE(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e,n){this.comparator=e,this.root=n||Ir.EMPTY}insert(e,n){return new Bn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ir.BLACK,null,null))}remove(e){return new Bn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ir.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Qd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Qd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Qd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Qd(this.root,e,this.comparator,!0)}}class Qd{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ir{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Ir.RED,this.left=i??Ir.EMPTY,this.right=s??Ir.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Ir(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ir.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Ir.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ir.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ir.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw kt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw kt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw kt(27949);return e+(this.isRed()?0:1)}}Ir.EMPTY=null,Ir.RED=!0,Ir.BLACK=!1;Ir.EMPTY=new class{constructor(){this.size=0}get key(){throw kt(57766)}get value(){throw kt(16141)}get color(){throw kt(16727)}get left(){throw kt(29726)}get right(){throw kt(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new Ir(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(e){this.comparator=e,this.data=new Bn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new xb(this.data.getIterator())}getIteratorFrom(e){return new xb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof pr)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new pr(this.comparator);return n.data=e,n}}class xb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(e){this.fields=e,e.sort(Tr.comparator)}static empty(){return new Yi([])}unionWith(e){let n=new pr(Tr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Yi(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return zc(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new fE("Invalid base64 string: "+s):s}}(e);return new Pr(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Pr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ht(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Pr.EMPTY_BYTE_STRING=new Pr("");const p9=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function vl(t){if(rn(!!t,39018),typeof t=="string"){let e=0;const n=p9.exec(t);if(rn(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Yn(t.seconds),nanos:Yn(t.nanos)}}function Yn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function wl(t){return typeof t=="string"?Pr.fromBase64String(t):Pr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dE="server_timestamp",pE="__type__",mE="__previous_value__",gE="__local_write_time__";function R5(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[pE])==null?void 0:r.stringValue)===dE}function mg(t){const e=t.mapValue.fields[mE];return R5(e)?mg(e):e}function Df(t){const e=vl(t.mapValue.fields[gE].timestampValue);return new Pn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m9{constructor(e,n,r,i,s,o,a,l,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=c}}const Sm="(default)";class Of{constructor(e,n){this.projectId=e,this.database=n||Sm}static empty(){return new Of("","")}get isDefaultDatabase(){return this.database===Sm}isEqual(e){return e instanceof Of&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yE="__type__",g9="__max__",Yd={mapValue:{}},vE="__vector__",Am="value";function _l(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?R5(t)?4:v9(t)?9007199254740991:y9(t)?10:11:kt(28295,{value:t})}function Do(t,e){if(t===e)return!0;const n=_l(t);if(n!==_l(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Df(t).isEqual(Df(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=vl(i.timestampValue),a=vl(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return wl(i.bytesValue).isEqual(wl(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Yn(i.geoPointValue.latitude)===Yn(s.geoPointValue.latitude)&&Yn(i.geoPointValue.longitude)===Yn(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Yn(i.integerValue)===Yn(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Yn(i.doubleValue),a=Yn(s.doubleValue);return o===a?km(o)===km(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return zc(t.arrayValue.values||[],e.arrayValue.values||[],Do);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(bb(o)!==bb(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Do(o[l],a[l])))return!1;return!0}(t,e);default:return kt(52216,{left:t})}}function Mf(t,e){return(t.values||[]).find(n=>Do(n,e))!==void 0}function qc(t,e){if(t===e)return 0;const n=_l(t),r=_l(e);if(n!==r)return Ht(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ht(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Yn(s.integerValue||s.doubleValue),l=Yn(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return kb(t.timestampValue,e.timestampValue);case 4:return kb(Df(t),Df(e));case 5:return N2(t.stringValue,e.stringValue);case 6:return function(s,o){const a=wl(s),l=wl(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=Ht(a[u],l[u]);if(c!==0)return c}return Ht(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=Ht(Yn(s.latitude),Yn(o.latitude));return a!==0?a:Ht(Yn(s.longitude),Yn(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Sb(t.arrayValue,e.arrayValue);case 10:return function(s,o){var g,p,_,k;const a=s.fields||{},l=o.fields||{},u=(g=a[Am])==null?void 0:g.arrayValue,c=(p=l[Am])==null?void 0:p.arrayValue,d=Ht(((_=u==null?void 0:u.values)==null?void 0:_.length)||0,((k=c==null?void 0:c.values)==null?void 0:k.length)||0);return d!==0?d:Sb(u,c)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===Yd.mapValue&&o===Yd.mapValue)return 0;if(s===Yd.mapValue)return 1;if(o===Yd.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let d=0;d<l.length&&d<c.length;++d){const g=N2(l[d],c[d]);if(g!==0)return g;const p=qc(a[l[d]],u[c[d]]);if(p!==0)return p}return Ht(l.length,c.length)}(t.mapValue,e.mapValue);default:throw kt(23264,{he:n})}}function kb(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ht(t,e);const n=vl(t),r=vl(e),i=Ht(n.seconds,r.seconds);return i!==0?i:Ht(n.nanos,r.nanos)}function Sb(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=qc(n[i],r[i]);if(s)return s}return Ht(n.length,r.length)}function $c(t){return P2(t)}function P2(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=vl(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return wl(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ht.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=P2(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${P2(n.fields[o])}`;return i+"}"}(t.mapValue):kt(61005,{value:t})}function Cp(t){switch(_l(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=mg(t);return e?16+Cp(e):16;case 5:return 2*t.stringValue.length;case 6:return wl(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+Cp(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Tl(r.fields,(s,o)=>{i+=s.length+Cp(o)}),i}(t.mapValue);default:throw kt(13486,{value:t})}}function Ab(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function L2(t){return!!t&&"integerValue"in t}function D5(t){return!!t&&"arrayValue"in t}function Eb(t){return!!t&&"nullValue"in t}function Ib(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Np(t){return!!t&&"mapValue"in t}function y9(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[yE])==null?void 0:r.stringValue)===vE}function sf(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Tl(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=sf(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=sf(t.arrayValue.values[n]);return e}return{...t}}function v9(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===g9}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci{constructor(e){this.value=e}static empty(){return new Ci({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Np(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=sf(n)}setAll(e){let n=Tr.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=sf(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Np(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Do(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Np(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Tl(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Ci(sf(this.value))}}function wE(t){const e=[];return Tl(t.fields,(n,r)=>{const i=new Tr([n]);if(Np(r)){const s=wE(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Yi(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Hr(e,0,Ct.min(),Ct.min(),Ct.min(),Ci.empty(),0)}static newFoundDocument(e,n,r,i){return new Hr(e,1,n,Ct.min(),r,i,0)}static newNoDocument(e,n){return new Hr(e,2,n,Ct.min(),Ct.min(),Ci.empty(),0)}static newUnknownDocument(e,n){return new Hr(e,3,n,Ct.min(),Ct.min(),Ci.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ct.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ci.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ci.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ct.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Hr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Hr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em{constructor(e,n){this.position=e,this.inclusive=n}}function Tb(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=ht.comparator(ht.fromName(o.referenceValue),n.key):r=qc(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Cb(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Do(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im{constructor(e,n="asc"){this.field=e,this.dir=n}}function w9(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _E{}class sr extends _E{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new b9(e,n,r):n==="array-contains"?new S9(e,r):n==="in"?new A9(e,r):n==="not-in"?new E9(e,r):n==="array-contains-any"?new I9(e,r):new sr(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new x9(e,r):new k9(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(qc(n,this.value)):n!==null&&_l(this.value)===_l(n)&&this.matchesComparison(qc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return kt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Js extends _E{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Js(e,n)}matches(e){return bE(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function bE(t){return t.op==="and"}function xE(t){return _9(t)&&bE(t)}function _9(t){for(const e of t.filters)if(e instanceof Js)return!1;return!0}function R2(t){if(t instanceof sr)return t.field.canonicalString()+t.op.toString()+$c(t.value);if(xE(t))return t.filters.map(e=>R2(e)).join(",");{const e=t.filters.map(n=>R2(n)).join(",");return`${t.op}(${e})`}}function kE(t,e){return t instanceof sr?function(r,i){return i instanceof sr&&r.op===i.op&&r.field.isEqual(i.field)&&Do(r.value,i.value)}(t,e):t instanceof Js?function(r,i){return i instanceof Js&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&kE(o,i.filters[a]),!0):!1}(t,e):void kt(19439)}function SE(t){return t instanceof sr?function(n){return`${n.field.canonicalString()} ${n.op} ${$c(n.value)}`}(t):t instanceof Js?function(n){return n.op.toString()+" {"+n.getFilters().map(SE).join(" ,")+"}"}(t):"Filter"}class b9 extends sr{constructor(e,n,r){super(e,n,r),this.key=ht.fromName(r.referenceValue)}matches(e){const n=ht.comparator(e.key,this.key);return this.matchesComparison(n)}}class x9 extends sr{constructor(e,n){super(e,"in",n),this.keys=AE("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class k9 extends sr{constructor(e,n){super(e,"not-in",n),this.keys=AE("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function AE(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>ht.fromName(r.referenceValue))}class S9 extends sr{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return D5(n)&&Mf(n.arrayValue,this.value)}}class A9 extends sr{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Mf(this.value.arrayValue,n)}}class E9 extends sr{constructor(e,n){super(e,"not-in",n)}matches(e){if(Mf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Mf(this.value.arrayValue,n)}}class I9 extends sr{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!D5(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Mf(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T9{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.Te=null}}function Nb(t,e=null,n=[],r=[],i=null,s=null,o=null){return new T9(t,e,n,r,i,s,o)}function O5(t){const e=Lt(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>R2(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),pg(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>$c(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>$c(r)).join(",")),e.Te=n}return e.Te}function M5(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!w9(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!kE(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Cb(t.startAt,e.startAt)&&Cb(t.endAt,e.endAt)}function D2(t){return ht.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function C9(t,e,n,r,i,s,o,a){return new ed(t,e,n,r,i,s,o,a)}function gg(t){return new ed(t)}function Pb(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function EE(t){return t.collectionGroup!==null}function of(t){const e=Lt(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new pr(Tr.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new Im(s,r))}),n.has(Tr.keyField().canonicalString())||e.Ie.push(new Im(Tr.keyField(),r))}return e.Ie}function To(t){const e=Lt(t);return e.Ee||(e.Ee=N9(e,of(t))),e.Ee}function N9(t,e){if(t.limitType==="F")return Nb(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Im(i.field,s)});const n=t.endAt?new Em(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Em(t.startAt.position,t.startAt.inclusive):null;return Nb(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function O2(t,e){const n=t.filters.concat([e]);return new ed(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function M2(t,e,n){return new ed(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function yg(t,e){return M5(To(t),To(e))&&t.limitType===e.limitType}function IE(t){return`${O5(To(t))}|lt:${t.limitType}`}function Yu(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>SE(i)).join(", ")}]`),pg(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>$c(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>$c(i)).join(",")),`Target(${r})`}(To(t))}; limitType=${t.limitType})`}function vg(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ht.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of of(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const u=Tb(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,of(r),i)||r.endAt&&!function(o,a,l){const u=Tb(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,of(r),i))}(t,e)}function P9(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function TE(t){return(e,n)=>{let r=!1;for(const i of of(t)){const s=L9(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function L9(t,e,n){const r=t.field.isKeyField()?ht.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?qc(l,u):kt(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return kt(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Tl(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return hE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R9=new Bn(ht.comparator);function pa(){return R9}const CE=new Bn(ht.comparator);function $h(...t){let e=CE;for(const n of t)e=e.insert(n.key,n);return e}function NE(t){let e=CE;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ru(){return af()}function PE(){return af()}function af(){return new Eu(t=>t.toString(),(t,e)=>t.isEqual(e))}const D9=new Bn(ht.comparator),O9=new pr(ht.comparator);function Wt(...t){let e=O9;for(const n of t)e=e.add(n);return e}const M9=new pr(Ht);function F9(){return M9}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F5(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:km(e)?"-0":e}}function LE(t){return{integerValue:""+t}}function j9(t,e){return h9(e)?LE(e):F5(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wg{constructor(){this._=void 0}}function V9(t,e,n){return t instanceof Tm?function(i,s){const o={fields:{[pE]:{stringValue:dE},[gE]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&R5(s)&&(s=mg(s)),s&&(o.fields[mE]=s),{mapValue:o}}(n,e):t instanceof Ff?DE(t,e):t instanceof jf?OE(t,e):function(i,s){const o=RE(i,s),a=Lb(o)+Lb(i.Ae);return L2(o)&&L2(i.Ae)?LE(a):F5(i.serializer,a)}(t,e)}function B9(t,e,n){return t instanceof Ff?DE(t,e):t instanceof jf?OE(t,e):n}function RE(t,e){return t instanceof Cm?function(r){return L2(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Tm extends wg{}class Ff extends wg{constructor(e){super(),this.elements=e}}function DE(t,e){const n=ME(e);for(const r of t.elements)n.some(i=>Do(i,r))||n.push(r);return{arrayValue:{values:n}}}class jf extends wg{constructor(e){super(),this.elements=e}}function OE(t,e){let n=ME(e);for(const r of t.elements)n=n.filter(i=>!Do(i,r));return{arrayValue:{values:n}}}class Cm extends wg{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Lb(t){return Yn(t.integerValue||t.doubleValue)}function ME(t){return D5(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function U9(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Ff&&i instanceof Ff||r instanceof jf&&i instanceof jf?zc(r.elements,i.elements,Do):r instanceof Cm&&i instanceof Cm?Do(r.Ae,i.Ae):r instanceof Tm&&i instanceof Tm}(t.transform,e.transform)}class z9{constructor(e,n){this.version=e,this.transformResults=n}}class As{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new As}static exists(e){return new As(void 0,e)}static updateTime(e){return new As(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Pp(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class _g{}function FE(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new j5(t.key,As.none()):new td(t.key,t.data,As.none());{const n=t.data,r=Ci.empty();let i=new pr(Tr.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Cl(t.key,r,new Yi(i.toArray()),As.none())}}function q9(t,e,n){t instanceof td?function(i,s,o){const a=i.value.clone(),l=Db(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Cl?function(i,s,o){if(!Pp(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=Db(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(jE(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function lf(t,e,n,r){return t instanceof td?function(s,o,a,l){if(!Pp(s.precondition,o))return a;const u=s.value.clone(),c=Ob(s.fieldTransforms,l,o);return u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Cl?function(s,o,a,l){if(!Pp(s.precondition,o))return a;const u=Ob(s.fieldTransforms,l,o),c=o.data;return c.setAll(jE(s)),c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(s,o,a){return Pp(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function $9(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=RE(r.transform,i||null);s!=null&&(n===null&&(n=Ci.empty()),n.set(r.field,s))}return n||null}function Rb(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&zc(r,i,(s,o)=>U9(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class td extends _g{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Cl extends _g{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function jE(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Db(t,e,n){const r=new Map;rn(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,B9(o,a,n[i]))}return r}function Ob(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,V9(s,o,e))}return r}class j5 extends _g{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class H9 extends _g{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W9{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&q9(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=lf(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=lf(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=PE();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=FE(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(Ct.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Wt())}isEqual(e){return this.batchId===e.batchId&&zc(this.mutations,e.mutations,(n,r)=>Rb(n,r))&&zc(this.baseMutations,e.baseMutations,(n,r)=>Rb(n,r))}}class V5{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){rn(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=function(){return D9}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new V5(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G9{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K9{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nr,Yt;function Q9(t){switch(t){case Ce.OK:return kt(64938);case Ce.CANCELLED:case Ce.UNKNOWN:case Ce.DEADLINE_EXCEEDED:case Ce.RESOURCE_EXHAUSTED:case Ce.INTERNAL:case Ce.UNAVAILABLE:case Ce.UNAUTHENTICATED:return!1;case Ce.INVALID_ARGUMENT:case Ce.NOT_FOUND:case Ce.ALREADY_EXISTS:case Ce.PERMISSION_DENIED:case Ce.FAILED_PRECONDITION:case Ce.ABORTED:case Ce.OUT_OF_RANGE:case Ce.UNIMPLEMENTED:case Ce.DATA_LOSS:return!0;default:return kt(15467,{code:t})}}function VE(t){if(t===void 0)return da("GRPC error has no .code"),Ce.UNKNOWN;switch(t){case nr.OK:return Ce.OK;case nr.CANCELLED:return Ce.CANCELLED;case nr.UNKNOWN:return Ce.UNKNOWN;case nr.DEADLINE_EXCEEDED:return Ce.DEADLINE_EXCEEDED;case nr.RESOURCE_EXHAUSTED:return Ce.RESOURCE_EXHAUSTED;case nr.INTERNAL:return Ce.INTERNAL;case nr.UNAVAILABLE:return Ce.UNAVAILABLE;case nr.UNAUTHENTICATED:return Ce.UNAUTHENTICATED;case nr.INVALID_ARGUMENT:return Ce.INVALID_ARGUMENT;case nr.NOT_FOUND:return Ce.NOT_FOUND;case nr.ALREADY_EXISTS:return Ce.ALREADY_EXISTS;case nr.PERMISSION_DENIED:return Ce.PERMISSION_DENIED;case nr.FAILED_PRECONDITION:return Ce.FAILED_PRECONDITION;case nr.ABORTED:return Ce.ABORTED;case nr.OUT_OF_RANGE:return Ce.OUT_OF_RANGE;case nr.UNIMPLEMENTED:return Ce.UNIMPLEMENTED;case nr.DATA_LOSS:return Ce.DATA_LOSS;default:return kt(39323,{code:t})}}(Yt=nr||(nr={}))[Yt.OK=0]="OK",Yt[Yt.CANCELLED=1]="CANCELLED",Yt[Yt.UNKNOWN=2]="UNKNOWN",Yt[Yt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Yt[Yt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Yt[Yt.NOT_FOUND=5]="NOT_FOUND",Yt[Yt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Yt[Yt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Yt[Yt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Yt[Yt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Yt[Yt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Yt[Yt.ABORTED=10]="ABORTED",Yt[Yt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Yt[Yt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Yt[Yt.INTERNAL=13]="INTERNAL",Yt[Yt.UNAVAILABLE=14]="UNAVAILABLE",Yt[Yt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y9(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X9=new hl([4294967295,4294967295],0);function Mb(t){const e=Y9().encode(t),n=new eE;return n.update(e),new Uint8Array(n.digest())}function Fb(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new hl([n,r],0),new hl([i,s],0)]}class B5{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Hh(`Invalid padding: ${n}`);if(r<0)throw new Hh(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Hh(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Hh(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=hl.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(hl.fromNumber(r)));return i.compare(X9)===1&&(i=new hl([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Mb(e),[r,i]=Fb(n);for(let s=0;s<this.hashCount;s++){const o=this.ye(r,i,s);if(!this.we(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new B5(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.ge===0)return;const n=Mb(e),[r,i]=Fb(n);for(let s=0;s<this.hashCount;s++){const o=this.ye(r,i,s);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Hh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bg{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,nd.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new bg(Ct.min(),i,new Bn(Ht),pa(),Wt())}}class nd{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new nd(r,n,Wt(),Wt(),Wt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lp{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class BE{constructor(e,n){this.targetId=e,this.Ce=n}}class UE{constructor(e,n,r=Pr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class jb{constructor(){this.ve=0,this.Fe=Vb(),this.Me=Pr.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Wt(),n=Wt(),r=Wt();return this.Fe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:kt(38017,{changeType:s})}}),new nd(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=Vb()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,rn(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class J9{constructor(e){this.Ge=e,this.ze=new Map,this.je=pa(),this.Je=Xd(),this.He=Xd(),this.Ye=new Bn(Ht)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:kt(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,i)=>{this.rt(i)&&n(i)})}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const s=i.target;if(D2(s))if(r===0){const o=new ht(s.path);this.et(n,o,Hr.newNoDocument(o,Ct.min()))}else rn(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const a=this.ut(e),l=a?this.ct(a,e,o):1;if(l!==0){this.it(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,u)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=wl(r).toUint8Array()}catch(l){if(l instanceof fE)return Uc("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new B5(o,i,s)}catch(l){return Uc(l instanceof Hh?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.et(n,s,null),i++)}),i}Tt(e){const n=new Map;this.ze.forEach((s,o)=>{const a=this.ot(o);if(a){if(s.current&&D2(a.target)){const l=new ht(a.target.path);this.It(l).has(o)||this.Et(o,l)||this.et(o,l,Hr.newNoDocument(l,e))}s.Be&&(n.set(o,s.ke()),s.qe())}});let r=Wt();this.He.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.ot(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.je.forEach((s,o)=>o.setReadTime(e));const i=new bg(e,n,this.Ye,this.je,r);return this.je=pa(),this.Je=Xd(),this.He=Xd(),this.Ye=new Bn(Ht),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new jb,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new pr(Ht),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new pr(Ht),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Qe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new jb),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Xd(){return new Bn(ht.comparator)}function Vb(){return new Bn(ht.comparator)}const Z9={asc:"ASCENDING",desc:"DESCENDING"},eM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},tM={and:"AND",or:"OR"};class nM{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function F2(t,e){return t.useProto3Json||pg(e)?e:{value:e}}function Nm(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function zE(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function rM(t,e){return Nm(t,e.toTimestamp())}function Co(t){return rn(!!t,49232),Ct.fromTimestamp(function(n){const r=vl(n);return new Pn(r.seconds,r.nanos)}(t))}function U5(t,e){return j2(t,e).canonicalString()}function j2(t,e){const n=function(i){return new An(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function qE(t){const e=An.fromString(t);return rn(KE(e),10190,{key:e.toString()}),e}function V2(t,e){return U5(t.databaseId,e.path)}function j1(t,e){const n=qE(e);if(n.get(1)!==t.databaseId.projectId)throw new Ke(Ce.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ke(Ce.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ht(HE(n))}function $E(t,e){return U5(t.databaseId,e)}function iM(t){const e=qE(t);return e.length===4?An.emptyPath():HE(e)}function B2(t){return new An(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function HE(t){return rn(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Bb(t,e,n){return{name:V2(t,e),fields:n.value.mapValue.fields}}function sM(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:kt(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?(rn(c===void 0||typeof c=="string",58123),Pr.fromBase64String(c||"")):(rn(c===void 0||c instanceof Buffer||c instanceof Uint8Array,16193),Pr.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=u.code===void 0?Ce.UNKNOWN:VE(u.code);return new Ke(c,u.message||"")}(o);n=new UE(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=j1(t,r.document.name),s=Co(r.document.updateTime),o=r.document.createTime?Co(r.document.createTime):Ct.min(),a=new Ci({mapValue:{fields:r.document.fields}}),l=Hr.newFoundDocument(i,s,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new Lp(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=j1(t,r.document),s=r.readTime?Co(r.readTime):Ct.min(),o=Hr.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Lp([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=j1(t,r.document),s=r.removedTargetIds||[];n=new Lp([],s,i,null)}else{if(!("filter"in e))return kt(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new K9(i,s),a=r.targetId;n=new BE(a,o)}}return n}function oM(t,e){let n;if(e instanceof td)n={update:Bb(t,e.key,e.value)};else if(e instanceof j5)n={delete:V2(t,e.key)};else if(e instanceof Cl)n={update:Bb(t,e.key,e.data),updateMask:mM(e.fieldMask)};else{if(!(e instanceof H9))return kt(16599,{Vt:e.type});n={verify:V2(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Tm)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ff)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof jf)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Cm)return{fieldPath:o.field.canonicalString(),increment:a.Ae};throw kt(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:rM(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:kt(27497)}(t,e.precondition)),n}function aM(t,e){return t&&t.length>0?(rn(e!==void 0,14353),t.map(n=>function(i,s){let o=i.updateTime?Co(i.updateTime):Co(s);return o.isEqual(Ct.min())&&(o=Co(s)),new z9(o,i.transformResults||[])}(n,e))):[]}function lM(t,e){return{documents:[$E(t,e.path)]}}function uM(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=$E(t,i);const s=function(u){if(u.length!==0)return GE(Js.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(c=>function(g){return{field:Xu(g.field),direction:fM(g.dir)}}(c))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=F2(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ft:n,parent:i}}function cM(t){let e=iM(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){rn(r===1,65062);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];n.where&&(s=function(d){const g=WE(d);return g instanceof Js&&xE(g)?g.getFilters():[g]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(g=>function(_){return new Im(Ju(_.field),function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_.direction))}(g))}(n.orderBy));let a=null;n.limit&&(a=function(d){let g;return g=typeof d=="object"?d.value:d,pg(g)?null:g}(n.limit));let l=null;n.startAt&&(l=function(d){const g=!!d.before,p=d.values||[];return new Em(p,g)}(n.startAt));let u=null;return n.endAt&&(u=function(d){const g=!d.before,p=d.values||[];return new Em(p,g)}(n.endAt)),C9(e,i,o,s,a,"F",l,u)}function hM(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return kt(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function WE(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ju(n.unaryFilter.field);return sr.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Ju(n.unaryFilter.field);return sr.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Ju(n.unaryFilter.field);return sr.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Ju(n.unaryFilter.field);return sr.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return kt(61313);default:return kt(60726)}}(t):t.fieldFilter!==void 0?function(n){return sr.create(Ju(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return kt(58110);default:return kt(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Js.create(n.compositeFilter.filters.map(r=>WE(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return kt(1026)}}(n.compositeFilter.op))}(t):kt(30097,{filter:t})}function fM(t){return Z9[t]}function dM(t){return eM[t]}function pM(t){return tM[t]}function Xu(t){return{fieldPath:t.canonicalString()}}function Ju(t){return Tr.fromServerFormat(t.fieldPath)}function GE(t){return t instanceof sr?function(n){if(n.op==="=="){if(Ib(n.value))return{unaryFilter:{field:Xu(n.field),op:"IS_NAN"}};if(Eb(n.value))return{unaryFilter:{field:Xu(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Ib(n.value))return{unaryFilter:{field:Xu(n.field),op:"IS_NOT_NAN"}};if(Eb(n.value))return{unaryFilter:{field:Xu(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xu(n.field),op:dM(n.op),value:n.value}}}(t):t instanceof Js?function(n){const r=n.getFilters().map(i=>GE(i));return r.length===1?r[0]:{compositeFilter:{op:pM(n.op),filters:r}}}(t):kt(54877,{filter:t})}function mM(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function KE(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(e,n,r,i,s=Ct.min(),o=Ct.min(),a=Pr.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Za(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Za(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Za(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Za(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gM{constructor(e){this.yt=e}}function yM(t){const e=cM({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?M2(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vM{constructor(){this.Cn=new wM}addToCollectionParentIndex(e,n){return this.Cn.add(n),Ne.resolve()}getCollectionParents(e,n){return Ne.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return Ne.resolve()}deleteFieldIndex(e,n){return Ne.resolve()}deleteAllFieldIndexes(e){return Ne.resolve()}createTargetIndexes(e,n){return Ne.resolve()}getDocumentsMatchingTarget(e,n){return Ne.resolve(null)}getIndexType(e,n){return Ne.resolve(0)}getFieldIndexes(e,n){return Ne.resolve([])}getNextCollectionGroupToUpdate(e){return Ne.resolve(null)}getMinOffset(e,n){return Ne.resolve(yl.min())}getMinOffsetFromCollectionGroup(e,n){return Ne.resolve(yl.min())}updateCollectionGroup(e,n,r){return Ne.resolve()}updateIndexEntries(e,n){return Ne.resolve()}}class wM{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new pr(An.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new pr(An.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ub={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},QE=41943040;class Ii{static withCacheSize(e){return new Ii(e,Ii.DEFAULT_COLLECTION_PERCENTILE,Ii.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ii.DEFAULT_COLLECTION_PERCENTILE=10,Ii.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ii.DEFAULT=new Ii(QE,Ii.DEFAULT_COLLECTION_PERCENTILE,Ii.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ii.DISABLED=new Ii(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Hc(0)}static cr(){return new Hc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zb="LruGarbageCollector",_M=1048576;function qb([t,e],[n,r]){const i=Ht(t,n);return i===0?Ht(e,r):i}class bM{constructor(e){this.Ir=e,this.buffer=new pr(qb),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();qb(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class xM{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Qe(zb,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){nh(n)?Qe(zb,"Ignoring IndexedDB error during garbage collection: ",n):await th(n)}await this.Vr(3e5)})}}class kM{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return Ne.resolve(dg.ce);const r=new bM(n);return this.mr.forEachTarget(e,i=>r.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>r.Ar(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Qe("LruGarbageCollector","Garbage collection skipped; disabled"),Ne.resolve(Ub)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Qe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ub):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,s,o,a,l,u;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(Qe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),i=this.params.maximumSequenceNumbersToCollect):i=d,o=Date.now(),this.nthSequenceNumber(e,i))).next(d=>(r=d,a=Date.now(),this.removeTargets(e,r,n))).next(d=>(s=d,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(d=>(u=Date.now(),Qu()<=$t.DEBUG&&Qe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-c}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${d} documents in `+(u-l)+`ms
Total Duration: ${u-c}ms`),Ne.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:d})))}}function SM(t,e){return new kM(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AM{constructor(){this.changes=new Eu(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Hr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Ne.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EM{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IM{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&lf(r.mutation,i,Yi.empty(),Pn.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Wt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Wt()){const i=ru();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=$h();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=ru();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Wt()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=pa();const o=af(),a=function(){return af()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof Cl)?s=s.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),lf(c.mutation,u,c.mutation.getFieldMask(),Pn.now())):o.set(u.key,Yi.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>a.set(u,new EM(c,o.get(u)??null))),a))}recalculateAndSaveOverlays(e,n){const r=af();let i=new Bn((o,a)=>o-a),s=Wt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||Yi.empty();c=a.applyToLocalView(u,c),r.set(l,c);const d=(i.get(a.batchId)||Wt()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,d=PE();c.forEach(g=>{if(!s.has(g)){const p=FE(n.get(g),r.get(g));p!==null&&d.set(g,p),s=s.add(g)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return Ne.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return ht.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):EE(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):Ne.resolve(ru());let a=Rf,l=s;return o.next(u=>Ne.forEach(u,(c,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(c)?Ne.resolve():this.remoteDocumentCache.getEntry(e,c).next(g=>{l=l.insert(c,g)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,Wt())).next(c=>({batchId:a,changes:NE(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ht(n)).next(r=>{let i=$h();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=$h();return this.indexManager.getCollectionParents(e,s).next(a=>Ne.forEach(a,l=>{const u=function(d,g){return new ed(g,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((d,g)=>{o=o.insert(d,g)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,u)=>{const c=u.getKey();o.get(c)===null&&(o=o.insert(c,Hr.newInvalidDocument(c)))});let a=$h();return o.forEach((l,u)=>{const c=s.get(l);c!==void 0&&lf(c.mutation,u,Yi.empty(),Pn.now()),vg(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TM{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return Ne.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Co(i.createTime)}}(n)),Ne.resolve()}getNamedQuery(e,n){return Ne.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(i){return{name:i.name,query:yM(i.bundledQuery),readTime:Co(i.readTime)}}(n)),Ne.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CM{constructor(){this.overlays=new Bn(ht.comparator),this.qr=new Map}getOverlay(e,n){return Ne.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ru();return Ne.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.St(e,n,s)}),Ne.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.qr.delete(r)),Ne.resolve()}getOverlaysForCollection(e,n,r){const i=ru(),s=n.length+1,o=new ht(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return Ne.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Bn((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=s.get(u.largestBatchId);c===null&&(c=ru(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=ru(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return Ne.resolve(a)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new G9(n,r));let s=this.qr.get(n);s===void 0&&(s=Wt(),this.qr.set(n,s)),this.qr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NM{constructor(){this.sessionToken=Pr.EMPTY_BYTE_STRING}getSessionToken(e){return Ne.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Ne.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z5{constructor(){this.Qr=new pr(vr.$r),this.Ur=new pr(vr.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new vr(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new vr(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new ht(new An([])),r=new vr(n,e),i=new vr(n,e+1),s=[];return this.Ur.forEachInRange([r,i],o=>{this.Gr(o),s.push(o.key)}),s}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ht(new An([])),r=new vr(n,e),i=new vr(n,e+1);let s=Wt();return this.Ur.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new vr(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class vr{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ht.comparator(e.key,n.key)||Ht(e.Yr,n.Yr)}static Kr(e,n){return Ht(e.Yr,n.Yr)||ht.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PM{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new pr(vr.$r)}checkEmpty(e){return Ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new W9(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Zr=this.Zr.add(new vr(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Ne.resolve(o)}lookupMutationBatch(e,n){return Ne.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),s=i<0?0:i;return Ne.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Ne.resolve(this.mutationQueue.length===0?L5:this.tr-1)}getAllMutationBatches(e){return Ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new vr(n,0),i=new vr(n,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([r,i],o=>{const a=this.Xr(o.Yr);s.push(a)}),Ne.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new pr(Ht);return n.forEach(i=>{const s=new vr(i,0),o=new vr(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,o],a=>{r=r.add(a.Yr)})}),Ne.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;ht.isDocumentKey(s)||(s=s.child(""));const o=new vr(new ht(s),0);let a=new pr(Ht);return this.Zr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.Yr)),!0)},o),Ne.resolve(this.ti(a))}ti(e){const n=[];return e.forEach(r=>{const i=this.Xr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){rn(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Ne.forEach(n.mutations,i=>{const s=new vr(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new vr(n,0),i=this.Zr.firstAfterOrEqual(r);return Ne.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ne.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LM{constructor(e){this.ri=e,this.docs=function(){return new Bn(ht.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Ne.resolve(r?r.document.mutableCopy():Hr.newInvalidDocument(n))}getEntries(e,n){let r=pa();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Hr.newInvalidDocument(i))}),Ne.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=pa();const o=n.path,a=new ht(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||a9(o9(c),r)<=0||(i.has(c.key)||vg(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return Ne.resolve(s)}getAllFromCollectionGroup(e,n,r,i){kt(9500)}ii(e,n){return Ne.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new RM(this)}getSize(e){return Ne.resolve(this.size)}}class RM extends AM{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)}),Ne.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DM{constructor(e){this.persistence=e,this.si=new Eu(n=>O5(n),M5),this.lastRemoteSnapshotVersion=Ct.min(),this.highestTargetId=0,this.oi=0,this._i=new z5,this.targetCount=0,this.ai=Hc.ur()}forEachTarget(e,n){return this.si.forEach((r,i)=>n(i)),Ne.resolve()}getLastRemoteSnapshotVersion(e){return Ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ne.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Ne.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),Ne.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Hc(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,Ne.resolve()}updateTargetData(e,n){return this.Pr(n),Ne.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,Ne.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.si.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),Ne.waitFor(s).next(()=>i)}getTargetCount(e){return Ne.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return Ne.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),Ne.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),Ne.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),Ne.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return Ne.resolve(r)}containsKey(e,n){return Ne.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE{constructor(e,n){this.ui={},this.overlays={},this.ci=new dg(0),this.li=!1,this.li=!0,this.hi=new NM,this.referenceDelegate=e(this),this.Pi=new DM(this),this.indexManager=new vM,this.remoteDocumentCache=function(i){return new LM(i)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new gM(n),this.Ii=new TM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new CM,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new PM(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){Qe("MemoryPersistence","Starting transaction:",e);const i=new OM(this.ci.next());return this.referenceDelegate.Ei(),r(i).next(s=>this.referenceDelegate.di(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ai(e,n){return Ne.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class OM extends u9{constructor(e){super(),this.currentSequenceNumber=e}}class q5{constructor(e){this.persistence=e,this.Ri=new z5,this.Vi=null}static mi(e){return new q5(e)}get fi(){if(this.Vi)return this.Vi;throw kt(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),Ne.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),Ne.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),Ne.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(i=>this.fi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.fi.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ne.forEach(this.fi,r=>{const i=ht.fromPath(r);return this.gi(e,i).next(s=>{s||n.removeEntry(i,Ct.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return Ne.or([()=>Ne.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Pm{constructor(e,n){this.persistence=e,this.pi=new Eu(r=>f9(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=SM(this,n)}static mi(e,n){return new Pm(e,n)}Ei(){}di(e){return Ne.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return Ne.forEach(this.pi,(r,i)=>this.br(e,r,i).next(s=>s?Ne.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ii(e,o=>this.br(e,o,n).next(a=>{a||(r++,s.removeEntry(o,Ct.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),Ne.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Ne.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Ne.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),Ne.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Cp(e.data.value)),n}br(e,n,r){return Ne.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return Ne.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $5{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=Wt(),i=Wt();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new $5(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FM{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return iR()?8:c9(Kr())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ys(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ws(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new MM;return this.Ss(e,n,o).next(a=>{if(s.result=a,this.Vs)return this.bs(e,n,o,a.size)})}).next(()=>s.result)}bs(e,n,r,i){return r.documentReadCount<this.fs?(Qu()<=$t.DEBUG&&Qe("QueryEngine","SDK will not create cache indexes for query:",Yu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Ne.resolve()):(Qu()<=$t.DEBUG&&Qe("QueryEngine","Query:",Yu(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(Qu()<=$t.DEBUG&&Qe("QueryEngine","The SDK decides to create cache indexes for query:",Yu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,To(n))):Ne.resolve())}ys(e,n){if(Pb(n))return Ne.resolve(null);let r=To(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=M2(n,null,"F"),r=To(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Wt(...s);return this.ps.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Ds(n,a);return this.Cs(n,u,o,l.readTime)?this.ys(e,M2(n,null,"F")):this.vs(e,u,n,l)}))})))}ws(e,n,r,i){return Pb(n)||i.isEqual(Ct.min())?Ne.resolve(null):this.ps.getDocuments(e,r).next(s=>{const o=this.Ds(n,s);return this.Cs(n,o,r,i)?Ne.resolve(null):(Qu()<=$t.DEBUG&&Qe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Yu(n)),this.vs(e,o,n,s9(i,Rf)).next(a=>a))})}Ds(e,n){let r=new pr(TE(e));return n.forEach((i,s)=>{vg(e,s)&&(r=r.add(s))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(e,n,r){return Qu()<=$t.DEBUG&&Qe("QueryEngine","Using full collection scan to execute query:",Yu(n)),this.ps.getDocumentsMatchingQuery(e,n,yl.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H5="LocalStore",jM=3e8;class VM{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new Bn(Ht),this.xs=new Eu(s=>O5(s),M5),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new IM(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function BM(t,e,n,r){return new VM(t,e,n,r)}async function XE(t,e){const n=Lt(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=Wt();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({Ls:u,removedBatchIds:o,addedBatchIds:a}))})})}function UM(t,e){const n=Lt(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Ns.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const d=u.batch,g=d.keys();let p=Ne.resolve();return g.forEach(_=>{p=p.next(()=>c.getEntry(l,_)).next(k=>{const D=u.docVersions.get(_);rn(D!==null,48541),k.version.compareTo(D)<0&&(d.applyToRemoteDocument(k,u),k.isValidDocument()&&(k.setReadTime(u.commitVersion),c.addEntry(k)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Wt();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function JE(t){const e=Lt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function zM(t,e){const n=Lt(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const a=[];e.targetChanges.forEach((c,d)=>{const g=i.get(d);if(!g)return;a.push(n.Pi.removeMatchingKeys(s,c.removedDocuments,d).next(()=>n.Pi.addMatchingKeys(s,c.addedDocuments,d)));let p=g.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?p=p.withResumeToken(Pr.EMPTY_BYTE_STRING,Ct.min()).withLastLimboFreeSnapshotVersion(Ct.min()):c.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(c.resumeToken,r)),i=i.insert(d,p),function(k,D,w){return k.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=jM?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(g,p,c)&&a.push(n.Pi.updateTargetData(s,p))});let l=pa(),u=Wt();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(qM(s,o,e.documentUpdates).next(c=>{l=c.ks,u=c.qs})),!r.isEqual(Ct.min())){const c=n.Pi.getLastRemoteSnapshotVersion(s).next(d=>n.Pi.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return Ne.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.Ms=i,s))}function qM(t,e,n){let r=Wt(),i=Wt();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=pa();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(Ct.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):Qe(H5,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{ks:o,qs:i}})}function $M(t,e){const n=Lt(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=L5),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function HM(t,e){const n=Lt(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Pi.getTargetData(r,e).next(s=>s?(i=s,Ne.resolve(i)):n.Pi.allocateTargetId(r).next(o=>(i=new Za(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function U2(t,e,n){const r=Lt(t),i=r.Ms.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!nh(o))throw o;Qe(H5,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function $b(t,e,n){const r=Lt(t);let i=Ct.min(),s=Wt();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,c){const d=Lt(l),g=d.xs.get(c);return g!==void 0?Ne.resolve(d.Ms.get(g)):d.Pi.getTargetData(u,c)}(r,o,To(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Fs.getDocumentsMatchingQuery(o,e,n?i:Ct.min(),n?s:Wt())).next(a=>(WM(r,P9(e),a),{documents:a,Qs:s})))}function WM(t,e,n){let r=t.Os.get(e)||Ct.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Os.set(e,r)}class Hb{constructor(){this.activeTargetIds=F9()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class GM{constructor(){this.Mo=new Hb,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Hb,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KM{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wb="ConnectivityMonitor";class Gb{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Qe(Wb,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Qe(Wb,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jd=null;function z2(){return Jd===null?Jd=function(){return 268435456+Math.round(2147483648*Math.random())}():Jd++,"0x"+Jd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V1="RestConnection",QM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class YM{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===Sm?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,s){const o=z2(),a=this.zo(e,n.toUriEncodedString());Qe(V1,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,i,s);const{host:u}=new URL(a),c=Xc(u);return this.Jo(e,a,l,r,c).then(d=>(Qe(V1,`Received RPC '${e}' ${o}: `,d),d),d=>{throw Uc(V1,`RPC '${e}' ${o} failed with error: `,d,"url: ",a,"request:",r),d})}Ho(e,n,r,i,s,o){return this.Go(e,n,r,i,s)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+eh}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}zo(e,n){const r=QM[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XM{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jr="WebChannelConnection";class JM extends YM{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,s){const o=z2();return new Promise((a,l)=>{const u=new tE;u.setWithCredentials(!0),u.listenOnce(nE.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Tp.NO_ERROR:const d=u.getResponseJson();Qe(jr,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(d)),a(d);break;case Tp.TIMEOUT:Qe(jr,`RPC '${e}' ${o} timed out`),l(new Ke(Ce.DEADLINE_EXCEEDED,"Request time out"));break;case Tp.HTTP_ERROR:const g=u.getStatus();if(Qe(jr,`RPC '${e}' ${o} failed with status:`,g,"response text:",u.getResponseText()),g>0){let p=u.getResponseJson();Array.isArray(p)&&(p=p[0]);const _=p==null?void 0:p.error;if(_&&_.status&&_.message){const k=function(w){const C=w.toLowerCase().replace(/_/g,"-");return Object.values(Ce).indexOf(C)>=0?C:Ce.UNKNOWN}(_.status);l(new Ke(k,_.message))}else l(new Ke(Ce.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new Ke(Ce.UNAVAILABLE,"Connection failed."));break;default:kt(9055,{l_:e,streamId:o,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{Qe(jr,`RPC '${e}' ${o} completed.`)}});const c=JSON.stringify(i);Qe(jr,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",c,r,15)})}T_(e,n,r){const i=z2(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=sE(),a=iE(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=s.join("");Qe(jr,`Creating RPC '${e}' stream ${i}: ${c}`,l);const d=o.createWebChannel(c,l);this.I_(d);let g=!1,p=!1;const _=new XM({Yo:D=>{p?Qe(jr,`Not sending because RPC '${e}' stream ${i} is closed:`,D):(g||(Qe(jr,`Opening RPC '${e}' stream ${i} transport.`),d.open(),g=!0),Qe(jr,`RPC '${e}' stream ${i} sending:`,D),d.send(D))},Zo:()=>d.close()}),k=(D,w,C)=>{D.listen(w,L=>{try{C(L)}catch(V){setTimeout(()=>{throw V},0)}})};return k(d,qh.EventType.OPEN,()=>{p||(Qe(jr,`RPC '${e}' stream ${i} transport opened.`),_.o_())}),k(d,qh.EventType.CLOSE,()=>{p||(p=!0,Qe(jr,`RPC '${e}' stream ${i} transport closed`),_.a_(),this.E_(d))}),k(d,qh.EventType.ERROR,D=>{p||(p=!0,Uc(jr,`RPC '${e}' stream ${i} transport errored. Name:`,D.name,"Message:",D.message),_.a_(new Ke(Ce.UNAVAILABLE,"The operation could not be completed")))}),k(d,qh.EventType.MESSAGE,D=>{var w;if(!p){const C=D.data[0];rn(!!C,16349);const L=C,V=(L==null?void 0:L.error)||((w=L[0])==null?void 0:w.error);if(V){Qe(jr,`RPC '${e}' stream ${i} received error:`,V);const X=V.status;let W=function(E){const I=nr[E];if(I!==void 0)return VE(I)}(X),F=V.message;W===void 0&&(W=Ce.INTERNAL,F="Unknown error status: "+X+" with message "+V.message),p=!0,_.a_(new Ke(W,F)),d.close()}else Qe(jr,`RPC '${e}' stream ${i} received:`,C),_.u_(C)}}),k(a,rE.STAT_EVENT,D=>{D.stat===C2.PROXY?Qe(jr,`RPC '${e}' stream ${i} detected buffering proxy`):D.stat===C2.NOPROXY&&Qe(jr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{_.__()},0),_}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function B1(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xg(t){return new nM(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZE{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&Qe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kb="PersistentStream";class eI{constructor(e,n,r,i,s,o,a,l){this.Mi=e,this.S_=r,this.b_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new ZE(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Ce.RESOURCE_EXHAUSTED?(da(n.toString()),da("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Ce.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===n&&this.G_(r,i)},r=>{e(()=>{const i=new Ke(Ce.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return Qe(Kb,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(Qe(Kb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ZM extends eI{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=sM(this.serializer,e),r=function(s){if(!("targetChange"in s))return Ct.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Ct.min():o.readTime?Co(o.readTime):Ct.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=B2(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=D2(l)?{documents:lM(s,l)}:{query:uM(s,l).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=zE(s,o.resumeToken);const u=F2(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(Ct.min())>0){a.readTime=Nm(s,o.snapshotVersion.toTimestamp());const u=F2(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=hM(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=B2(this.serializer),n.removeTarget=e,this.q_(n)}}class eF extends eI{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return rn(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,rn(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){rn(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=aM(e.writeResults,e.commitTime),r=Co(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=B2(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>oM(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tF{}class nF extends tF{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Ke(Ce.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Go(e,j2(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ke(Ce.UNKNOWN,s.toString())})}Ho(e,n,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Ho(e,j2(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ke(Ce.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class rF{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(da(n),this.aa=!1):Qe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vu="RemoteStore";class iF{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo(o=>{r.enqueueAndForget(async()=>{Iu(this)&&(Qe(vu,"Restarting streams for network reachability change."),await async function(l){const u=Lt(l);u.Ea.add(4),await rd(u),u.Ra.set("Unknown"),u.Ea.delete(4),await kg(u)}(this))})}),this.Ra=new rF(r,i)}}async function kg(t){if(Iu(t))for(const e of t.da)await e(!0)}async function rd(t){for(const e of t.da)await e(!1)}function tI(t,e){const n=Lt(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Q5(n)?K5(n):rh(n).O_()&&G5(n,e))}function W5(t,e){const n=Lt(t),r=rh(n);n.Ia.delete(e),r.O_()&&nI(n,e),n.Ia.size===0&&(r.O_()?r.L_():Iu(n)&&n.Ra.set("Unknown"))}function G5(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ct.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}rh(t).Y_(e)}function nI(t,e){t.Va.Ue(e),rh(t).Z_(e)}function K5(t){t.Va=new J9({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),rh(t).start(),t.Ra.ua()}function Q5(t){return Iu(t)&&!rh(t).x_()&&t.Ia.size>0}function Iu(t){return Lt(t).Ea.size===0}function rI(t){t.Va=void 0}async function sF(t){t.Ra.set("Online")}async function oF(t){t.Ia.forEach((e,n)=>{G5(t,e)})}async function aF(t,e){rI(t),Q5(t)?(t.Ra.ha(e),K5(t)):t.Ra.set("Unknown")}async function lF(t,e,n){if(t.Ra.set("Online"),e instanceof UE&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.Ia.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.Ia.delete(a),i.Va.removeTarget(a))}(t,e)}catch(r){Qe(vu,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Lm(t,r)}else if(e instanceof Lp?t.Va.Ze(e):e instanceof BE?t.Va.st(e):t.Va.tt(e),!n.isEqual(Ct.min()))try{const r=await JE(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Va.Tt(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=s.Ia.get(u);c&&s.Ia.set(u,c.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const c=s.Ia.get(l);if(!c)return;s.Ia.set(l,c.withResumeToken(Pr.EMPTY_BYTE_STRING,c.snapshotVersion)),nI(s,l);const d=new Za(c.target,l,u,c.sequenceNumber);G5(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){Qe(vu,"Failed to raise snapshot:",r),await Lm(t,r)}}async function Lm(t,e,n){if(!nh(e))throw e;t.Ea.add(1),await rd(t),t.Ra.set("Offline"),n||(n=()=>JE(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Qe(vu,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await kg(t)})}function iI(t,e){return e().catch(n=>Lm(t,n,e))}async function Sg(t){const e=Lt(t),n=bl(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:L5;for(;uF(e);)try{const i=await $M(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,cF(e,i)}catch(i){await Lm(e,i)}sI(e)&&oI(e)}function uF(t){return Iu(t)&&t.Ta.length<10}function cF(t,e){t.Ta.push(e);const n=bl(t);n.O_()&&n.X_&&n.ea(e.mutations)}function sI(t){return Iu(t)&&!bl(t).x_()&&t.Ta.length>0}function oI(t){bl(t).start()}async function hF(t){bl(t).ra()}async function fF(t){const e=bl(t);for(const n of t.Ta)e.ea(n.mutations)}async function dF(t,e,n){const r=t.Ta.shift(),i=V5.from(r,e,n);await iI(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Sg(t)}async function pF(t,e){e&&bl(t).X_&&await async function(r,i){if(function(o){return Q9(o)&&o!==Ce.ABORTED}(i.code)){const s=r.Ta.shift();bl(r).B_(),await iI(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Sg(r)}}(t,e),sI(t)&&oI(t)}async function Qb(t,e){const n=Lt(t);n.asyncQueue.verifyOperationInProgress(),Qe(vu,"RemoteStore received new credentials");const r=Iu(n);n.Ea.add(3),await rd(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await kg(n)}async function mF(t,e){const n=Lt(t);e?(n.Ea.delete(2),await kg(n)):e||(n.Ea.add(2),await rd(n),n.Ra.set("Unknown"))}function rh(t){return t.ma||(t.ma=function(n,r,i){const s=Lt(n);return s.sa(),new ZM(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Xo:sF.bind(null,t),t_:oF.bind(null,t),r_:aF.bind(null,t),H_:lF.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),Q5(t)?K5(t):t.Ra.set("Unknown")):(await t.ma.stop(),rI(t))})),t.ma}function bl(t){return t.fa||(t.fa=function(n,r,i){const s=Lt(n);return s.sa(),new eF(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:hF.bind(null,t),r_:pF.bind(null,t),ta:fF.bind(null,t),na:dF.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await Sg(t)):(await t.fa.stop(),t.Ta.length>0&&(Qe(vu,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y5{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new fl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new Y5(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ke(Ce.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function X5(t,e){if(da("AsyncQueue",`${e}: ${t}`),nh(t))return new Ke(Ce.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{static emptySet(e){return new Ec(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ht.comparator(n.key,r.key):(n,r)=>ht.comparator(n.key,r.key),this.keyedMap=$h(),this.sortedSet=new Bn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ec)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ec;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yb{constructor(){this.ga=new Bn(ht.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):kt(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class Wc{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Wc(e,n,Ec.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&yg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gF{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class yF{constructor(){this.queries=Xb(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=Lt(n),s=i.queries;i.queries=Xb(),s.forEach((o,a)=>{for(const l of a.Sa)l.onError(r)})})(this,new Ke(Ce.ABORTED,"Firestore shutting down"))}}function Xb(){return new Eu(t=>IE(t),yg)}async function aI(t,e){const n=Lt(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.ba()&&e.Da()&&(r=2):(s=new gF,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(i,!0);break;case 1:s.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=X5(o,`Initialization of query '${Yu(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.Sa.push(e),e.va(n.onlineState),s.wa&&e.Fa(s.wa)&&J5(n)}async function lI(t,e){const n=Lt(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.Sa.indexOf(e);o>=0&&(s.Sa.splice(o,1),s.Sa.length===0?i=e.Da()?0:1:!s.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function vF(t,e){const n=Lt(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.Sa)a.Fa(i)&&(r=!0);o.wa=i}}r&&J5(n)}function wF(t,e,n){const r=Lt(t),i=r.queries.get(e);if(i)for(const s of i.Sa)s.onError(n);r.queries.delete(e)}function J5(t){t.Ca.forEach(e=>{e.next()})}var q2,Jb;(Jb=q2||(q2={})).Ma="default",Jb.Cache="cache";class uI{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Wc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Wc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==q2.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cI{constructor(e){this.key=e}}class hI{constructor(e){this.key=e}}class _F{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Wt(),this.mutatedKeys=Wt(),this.eu=TE(e),this.tu=new Ec(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new Yb,i=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,d)=>{const g=i.get(c),p=vg(this.query,d)?d:null,_=!!g&&this.mutatedKeys.has(g.key),k=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let D=!1;g&&p?g.data.isEqual(p.data)?_!==k&&(r.track({type:3,doc:p}),D=!0):this.su(g,p)||(r.track({type:2,doc:p}),D=!0,(l&&this.eu(p,l)>0||u&&this.eu(p,u)<0)&&(a=!0)):!g&&p?(r.track({type:0,doc:p}),D=!0):g&&!p&&(r.track({type:1,doc:g}),D=!0,(l||u)&&(a=!0)),D&&(p?(o=o.add(p),s=k?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{tu:o,iu:r,Cs:a,mutatedKeys:s}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((c,d)=>function(p,_){const k=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return kt(20277,{Rt:D})}};return k(p)-k(_)}(c.type,d.type)||this.eu(c.doc,d.doc)),this.ou(r),i=i??!1;const a=n&&!i?this._u():[],l=this.Xa.size===0&&this.current&&!i?1:0,u=l!==this.Za;return this.Za=l,o.length!==0||u?{snapshot:new Wc(this.query,e.tu,s,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Yb,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Wt(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new hI(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new cI(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=Wt();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Wc.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Z5="SyncEngine";class bF{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class xF{constructor(e){this.key=e,this.hu=!1}}class kF{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Eu(a=>IE(a),yg),this.Iu=new Map,this.Eu=new Set,this.du=new Bn(ht.comparator),this.Au=new Map,this.Ru=new z5,this.Vu={},this.mu=new Map,this.fu=Hc.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function SF(t,e,n=!0){const r=yI(t);let i;const s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await fI(r,e,n,!0),i}async function AF(t,e){const n=yI(t);await fI(n,e,!0,!1)}async function fI(t,e,n,r){const i=await HM(t.localStore,To(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await EF(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&tI(t.remoteStore,i),a}async function EF(t,e,n,r,i){t.pu=(d,g,p)=>async function(k,D,w,C){let L=D.view.ru(w);L.Cs&&(L=await $b(k.localStore,D.query,!1).then(({documents:F})=>D.view.ru(F,L)));const V=C&&C.targetChanges.get(D.targetId),X=C&&C.targetMismatches.get(D.targetId)!=null,W=D.view.applyChanges(L,k.isPrimaryClient,V,X);return e4(k,D.targetId,W.au),W.snapshot}(t,d,g,p);const s=await $b(t.localStore,e,!0),o=new _F(e,s.Qs),a=o.ru(s.documents),l=nd.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);e4(t,n,u.au);const c=new bF(e,n,o);return t.Tu.set(e,c),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),u.snapshot}async function IF(t,e,n){const r=Lt(t),i=r.Tu.get(e),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter(o=>!yg(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await U2(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&W5(r.remoteStore,i.targetId),$2(r,i.targetId)}).catch(th)):($2(r,i.targetId),await U2(r.localStore,i.targetId,!0))}async function TF(t,e){const n=Lt(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),W5(n.remoteStore,r.targetId))}async function CF(t,e,n){const r=MF(t);try{const i=await function(o,a){const l=Lt(o),u=Pn.now(),c=a.reduce((p,_)=>p.add(_.key),Wt());let d,g;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let _=pa(),k=Wt();return l.Ns.getEntries(p,c).next(D=>{_=D,_.forEach((w,C)=>{C.isValidDocument()||(k=k.add(w))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,_)).next(D=>{d=D;const w=[];for(const C of a){const L=$9(C,d.get(C.key).overlayedDocument);L!=null&&w.push(new Cl(C.key,L,wE(L.value.mapValue),As.exists(!0)))}return l.mutationQueue.addMutationBatch(p,u,w,a)}).next(D=>{g=D;const w=D.applyToLocalDocumentSet(d,k);return l.documentOverlayCache.saveOverlays(p,D.batchId,w)})}).then(()=>({batchId:g.batchId,changes:NE(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let u=o.Vu[o.currentUser.toKey()];u||(u=new Bn(Ht)),u=u.insert(a,l),o.Vu[o.currentUser.toKey()]=u}(r,i.batchId,n),await id(r,i.changes),await Sg(r.remoteStore)}catch(i){const s=X5(i,"Failed to persist write");n.reject(s)}}async function dI(t,e){const n=Lt(t);try{const r=await zM(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Au.get(s);o&&(rn(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.hu=!0:i.modifiedDocuments.size>0?rn(o.hu,14607):i.removedDocuments.size>0&&(rn(o.hu,42227),o.hu=!1))}),await id(n,r,e)}catch(r){await th(r)}}function Zb(t,e,n){const r=Lt(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach((s,o)=>{const a=o.view.va(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=Lt(o);l.onlineState=a;let u=!1;l.queries.forEach((c,d)=>{for(const g of d.Sa)g.va(a)&&(u=!0)}),u&&J5(l)}(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function NF(t,e,n){const r=Lt(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),s=i&&i.key;if(s){let o=new Bn(ht.comparator);o=o.insert(s,Hr.newNoDocument(s,Ct.min()));const a=Wt().add(s),l=new bg(Ct.min(),new Map,new Bn(Ht),o,a);await dI(r,l),r.du=r.du.remove(s),r.Au.delete(e),ev(r)}else await U2(r.localStore,e,!1).then(()=>$2(r,e,n)).catch(th)}async function PF(t,e){const n=Lt(t),r=e.batch.batchId;try{const i=await UM(n.localStore,e);mI(n,r,null),pI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await id(n,i)}catch(i){await th(i)}}async function LF(t,e,n){const r=Lt(t);try{const i=await function(o,a){const l=Lt(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(d=>(rn(d!==null,37113),c=d.keys(),l.mutationQueue.removeMutationBatch(u,d))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);mI(r,e,n),pI(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await id(r,i)}catch(i){await th(i)}}function pI(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function mI(t,e,n){const r=Lt(t);let i=r.Vu[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function $2(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||gI(t,r)})}function gI(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(W5(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),ev(t))}function e4(t,e,n){for(const r of n)r instanceof cI?(t.Ru.addReference(r.key,e),RF(t,r)):r instanceof hI?(Qe(Z5,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||gI(t,r.key)):kt(19791,{wu:r})}function RF(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(Qe(Z5,"New document in limbo: "+n),t.Eu.add(r),ev(t))}function ev(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new ht(An.fromString(e)),r=t.fu.next();t.Au.set(r,new xF(n)),t.du=t.du.insert(n,r),tI(t.remoteStore,new Za(To(gg(n.path)),r,"TargetPurposeLimboResolution",dg.ce))}}async function id(t,e,n){const r=Lt(t),i=[],s=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((a,l)=>{o.push(r.pu(l,e,n).then(u=>{var c;if((u||n)&&r.isPrimaryClient){const d=u?!u.fromCache:(c=n==null?void 0:n.targetChanges.get(l.targetId))==null?void 0:c.current;r.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(u){i.push(u);const d=$5.As(l.targetId,u);s.push(d)}}))}),await Promise.all(o),r.Pu.H_(i),await async function(l,u){const c=Lt(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>Ne.forEach(u,g=>Ne.forEach(g.Es,p=>c.persistence.referenceDelegate.addReference(d,g.targetId,p)).next(()=>Ne.forEach(g.ds,p=>c.persistence.referenceDelegate.removeReference(d,g.targetId,p)))))}catch(d){if(!nh(d))throw d;Qe(H5,"Failed to update sequence numbers: "+d)}for(const d of u){const g=d.targetId;if(!d.fromCache){const p=c.Ms.get(g),_=p.snapshotVersion,k=p.withLastLimboFreeSnapshotVersion(_);c.Ms=c.Ms.insert(g,k)}}}(r.localStore,s))}async function DF(t,e){const n=Lt(t);if(!n.currentUser.isEqual(e)){Qe(Z5,"User change. New user:",e.toKey());const r=await XE(n.localStore,e);n.currentUser=e,function(s,o){s.mu.forEach(a=>{a.forEach(l=>{l.reject(new Ke(Ce.CANCELLED,o))})}),s.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await id(n,r.Ls)}}function OF(t,e){const n=Lt(t),r=n.Au.get(e);if(r&&r.hu)return Wt().add(r.key);{let i=Wt();const s=n.Iu.get(e);if(!s)return i;for(const o of s){const a=n.Tu.get(o);i=i.unionWith(a.view.nu)}return i}}function yI(t){const e=Lt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=dI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=OF.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=NF.bind(null,e),e.Pu.H_=vF.bind(null,e.eventManager),e.Pu.yu=wF.bind(null,e.eventManager),e}function MF(t){const e=Lt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=PF.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=LF.bind(null,e),e}class Rm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=xg(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return BM(this.persistence,new FM,e.initialUser,this.serializer)}Cu(e){return new YE(q5.mi,this.serializer)}Du(e){return new GM}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Rm.provider={build:()=>new Rm};class FF extends Rm{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){rn(this.persistence.referenceDelegate instanceof Pm,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new xM(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Ii.withCacheSize(this.cacheSizeBytes):Ii.DEFAULT;return new YE(r=>Pm.mi(r,n),this.serializer)}}class H2{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Zb(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=DF.bind(null,this.syncEngine),await mF(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new yF}()}createDatastore(e){const n=xg(e.databaseInfo.databaseId),r=function(s){return new JM(s)}(e.databaseInfo);return function(s,o,a,l){return new nF(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new iF(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>Zb(this.syncEngine,n,0),function(){return Gb.v()?new Gb:new KM}())}createSyncEngine(e,n){return function(i,s,o,a,l,u,c){const d=new kF(i,s,o,a,l,u);return c&&(d.gu=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=Lt(i);Qe(vu,"RemoteStore shutting down."),s.Ea.add(5),await rd(s),s.Aa.shutdown(),s.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}H2.provider={build:()=>new H2};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):da("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xl="FirestoreClient";class jF{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=qr.UNAUTHENTICATED,this.clientId=P5.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{Qe(xl,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Qe(xl,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new fl;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=X5(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function U1(t,e){t.asyncQueue.verifyOperationInProgress(),Qe(xl,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await XE(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function t4(t,e){t.asyncQueue.verifyOperationInProgress();const n=await VF(t);Qe(xl,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Qb(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>Qb(e.remoteStore,i)),t._onlineComponents=e}async function VF(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Qe(xl,"Using user provided OfflineComponentProvider");try{await U1(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===Ce.FAILED_PRECONDITION||i.code===Ce.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Uc("Error using user provided cache. Falling back to memory cache: "+n),await U1(t,new Rm)}}else Qe(xl,"Using default OfflineComponentProvider"),await U1(t,new FF(void 0));return t._offlineComponents}async function wI(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Qe(xl,"Using user provided OnlineComponentProvider"),await t4(t,t._uninitializedComponentsProvider._online)):(Qe(xl,"Using default OnlineComponentProvider"),await t4(t,new H2))),t._onlineComponents}function BF(t){return wI(t).then(e=>e.syncEngine)}async function W2(t){const e=await wI(t),n=e.eventManager;return n.onListen=SF.bind(null,e.syncEngine),n.onUnlisten=IF.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=AF.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=TF.bind(null,e.syncEngine),n}function UF(t,e,n={}){const r=new fl;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const c=new vI({next:g=>{c.Nu(),o.enqueueAndForget(()=>lI(s,d));const p=g.docs.has(a);!p&&g.fromCache?u.reject(new Ke(Ce.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&g.fromCache&&l&&l.source==="server"?u.reject(new Ke(Ce.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(g)},error:g=>u.reject(g)}),d=new uI(gg(a.path),c,{includeMetadataChanges:!0,qa:!0});return aI(s,d)}(await W2(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _I(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n4=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bI="firestore.googleapis.com",r4=!0;class i4{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Ke(Ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=bI,this.ssl=r4}else this.host=e.host,this.ssl=e.ssl??r4;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=QE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<_M)throw new Ke(Ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}i9("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=_I(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Ke(Ce.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Ke(Ce.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Ke(Ce.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ag{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new i4({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ke(Ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ke(Ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new i4(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new KO;switch(r.type){case"firstParty":return new JO(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ke(Ce.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=n4.get(n);r&&(Qe("ComponentProvider","Removing Datastore"),n4.delete(n),r.terminate())}(this),Promise.resolve()}}function zF(t,e,n,r={}){var u;t=Ss(t,Ag);const i=Xc(e),s=t._getSettings(),o={...s,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;i&&(WS(`https://${a}`),GS("Firestore",!0)),s.host!==bI&&s.host!==a&&Uc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...s,host:a,ssl:i,emulatorOptions:r};if(!gl(l,o)&&(t._setSettings(l),r.mockUserToken)){let c,d;if(typeof r.mockUserToken=="string")c=r.mockUserToken,d=qr.MOCK_USER;else{c=YL(r.mockUserToken,(u=t._app)==null?void 0:u.options.projectId);const g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new Ke(Ce.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new qr(g)}t._authCredentials=new QO(new aE(c,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ih(this.firestore,e,this._query)}}class Hn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new dl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Hn(this.firestore,e,this._key)}toJSON(){return{type:Hn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Zf(n,Hn._jsonSchema))return new Hn(e,r||null,new ht(An.fromString(n.referencePath)))}}Hn._jsonSchemaVersion="firestore/documentReference/1.0",Hn._jsonSchema={type:or("string",Hn._jsonSchemaVersion),referencePath:or("string")};class dl extends ih{constructor(e,n,r){super(e,n,gg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Hn(this.firestore,null,new ht(e))}withConverter(e){return new dl(this.firestore,e,this._path)}}function s4(t,e,...n){if(t=tr(t),lE("collection","path",e),t instanceof Ag){const r=An.fromString(e,...n);return yb(r),new dl(t,null,r)}{if(!(t instanceof Hn||t instanceof dl))throw new Ke(Ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(An.fromString(e,...n));return yb(r),new dl(t.firestore,null,r)}}function Vf(t,e,...n){if(t=tr(t),arguments.length===1&&(e=P5.newId()),lE("doc","path",e),t instanceof Ag){const r=An.fromString(e,...n);return gb(r),new Hn(t,null,new ht(r))}{if(!(t instanceof Hn||t instanceof dl))throw new Ke(Ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(An.fromString(e,...n));return gb(r),new Hn(t.firestore,t instanceof dl?t.converter:null,new ht(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o4="AsyncQueue";class a4{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new ZE(this,"async_queue_retry"),this._c=()=>{const r=B1();r&&Qe(o4,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=B1();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=B1();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new fl;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!nh(e))throw e;Qe(o4,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,da("INTERNAL UNHANDLED ERROR: ",l4(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=Y5.createAndSchedule(this,e,n,r,s=>this.hc(s));return this.tc.push(i),i}uc(){this.nc&&kt(47125,{Pc:l4(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function l4(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u4(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class kl extends Ag{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new a4,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new a4(e),this._firestoreClient=void 0,await e}}}function qF(t,e){const n=typeof t=="object"?t:d5(),r=typeof t=="string"?t:Sm,i=Au(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=KL("firestore");s&&zF(i,...s)}return i}function tv(t){if(t._terminated)throw new Ke(Ce.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||$F(t),t._firestoreClient}function $F(t){var r,i,s;const e=t._freezeSettings(),n=function(a,l,u,c){return new m9(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,_I(c.experimentalLongPollingOptions),c.useFetchStreams,c.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((s=e.localCache)!=null&&s._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new jF(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(e){this._byteString=e}static fromBase64String(e){try{return new _s(Pr.fromBase64String(e))}catch(n){throw new Ke(Ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new _s(Pr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:_s._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Zf(e,_s._jsonSchema))return _s.fromBase64String(e.bytes)}}_s._jsonSchemaVersion="firestore/bytes/1.0",_s._jsonSchema={type:or("string",_s._jsonSchemaVersion),bytes:or("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ke(Ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Tr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ke(Ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ke(Ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ht(this._lat,e._lat)||Ht(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:No._jsonSchemaVersion}}static fromJSON(e){if(Zf(e,No._jsonSchema))return new No(e.latitude,e.longitude)}}No._jsonSchemaVersion="firestore/geoPoint/1.0",No._jsonSchema={type:or("string",No._jsonSchemaVersion),latitude:or("number"),longitude:or("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Po._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Zf(e,Po._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Po(e.vectorValues);throw new Ke(Ce.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Po._jsonSchemaVersion="firestore/vectorValue/1.0",Po._jsonSchema={type:or("string",Po._jsonSchemaVersion),vectorValues:or("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HF=/^__.*__$/;class WF{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Cl(e,this.data,this.fieldMask,n,this.fieldTransforms):new td(e,this.data,n,this.fieldTransforms)}}class xI{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Cl(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function kI(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw kt(40011,{Ac:t})}}class rv{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new rv({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Dm(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(kI(this.Ac)&&HF.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class GF{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||xg(e)}Cc(e,n,r,i=!1){return new rv({Ac:e,methodName:n,Dc:r,path:Tr.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ig(t){const e=t._freezeSettings(),n=xg(t._databaseId);return new GF(t._databaseId,!!e.ignoreUndefinedProperties,n)}function SI(t,e,n,r,i,s={}){const o=t.Cc(s.merge||s.mergeFields?2:0,e,n,i);iv("Data must be an object, but it was:",o,r);const a=AI(r,o);let l,u;if(s.merge)l=new Yi(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const d of s.mergeFields){const g=G2(e,d,n);if(!o.contains(g))throw new Ke(Ce.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);II(c,g)||c.push(g)}l=new Yi(c),u=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=o.fieldTransforms;return new WF(new Ci(a),l,u)}class Tg extends nv{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Tg}}function KF(t,e,n,r){const i=t.Cc(1,e,n);iv("Data must be an object, but it was:",i,r);const s=[],o=Ci.empty();Tl(r,(l,u)=>{const c=sv(e,l,n);u=tr(u);const d=i.yc(c);if(u instanceof Tg)s.push(c);else{const g=sd(u,d);g!=null&&(s.push(c),o.set(c,g))}});const a=new Yi(s);return new xI(o,a,i.fieldTransforms)}function QF(t,e,n,r,i,s){const o=t.Cc(1,e,n),a=[G2(e,r,n)],l=[i];if(s.length%2!=0)throw new Ke(Ce.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<s.length;g+=2)a.push(G2(e,s[g])),l.push(s[g+1]);const u=[],c=Ci.empty();for(let g=a.length-1;g>=0;--g)if(!II(u,a[g])){const p=a[g];let _=l[g];_=tr(_);const k=o.yc(p);if(_ instanceof Tg)u.push(p);else{const D=sd(_,k);D!=null&&(u.push(p),c.set(p,D))}}const d=new Yi(u);return new xI(c,d,o.fieldTransforms)}function YF(t,e,n,r=!1){return sd(n,t.Cc(r?4:3,e))}function sd(t,e){if(EI(t=tr(t)))return iv("Unsupported field value:",e,t),AI(t,e);if(t instanceof nv)return function(r,i){if(!kI(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=sd(a,i.wc(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=tr(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return j9(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Pn.fromDate(r);return{timestampValue:Nm(i.serializer,s)}}if(r instanceof Pn){const s=new Pn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Nm(i.serializer,s)}}if(r instanceof No)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof _s)return{bytesValue:zE(i.serializer,r._byteString)};if(r instanceof Hn){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:U5(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Po)return function(o,a){return{mapValue:{fields:{[yE]:{stringValue:vE},[Am]:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.Sc("VectorValues must only contain numeric values.");return F5(a.serializer,u)})}}}}}}(r,i);throw i.Sc(`Unsupported field value: ${fg(r)}`)}(t,e)}function AI(t,e){const n={};return hE(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Tl(t,(r,i)=>{const s=sd(i,e.mc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function EI(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Pn||t instanceof No||t instanceof _s||t instanceof Hn||t instanceof nv||t instanceof Po)}function iv(t,e,n){if(!EI(n)||!uE(n)){const r=fg(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function G2(t,e,n){if((e=tr(e))instanceof Eg)return e._internalPath;if(typeof e=="string")return sv(t,e);throw Dm("Field path arguments must be of type string or ",t,!1,void 0,n)}const XF=new RegExp("[~\\*/\\[\\]]");function sv(t,e,n){if(e.search(XF)>=0)throw Dm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Eg(...e.split("."))._internalPath}catch{throw Dm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Dm(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new Ke(Ce.INVALID_ARGUMENT,a+t+l)}function II(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Hn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new JF(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(ov("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class JF extends TI{data(){return super.data()}}function ov(t,e){return typeof e=="string"?sv(t,e):e instanceof Eg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZF(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ke(Ce.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class av{}class ej extends av{}function tj(t,e,...n){let r=[];e instanceof av&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof lv).length,a=s.filter(l=>l instanceof Cg).length;if(o>1||o>0&&a>0)throw new Ke(Ce.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Cg extends ej{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Cg(e,n,r)}_apply(e){const n=this._parse(e);return CI(e._query,n),new ih(e.firestore,e.converter,O2(e._query,n))}_parse(e){const n=Ig(e.firestore);return function(s,o,a,l,u,c,d){let g;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new Ke(Ce.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){h4(d,c);const _=[];for(const k of d)_.push(c4(l,s,k));g={arrayValue:{values:_}}}else g=c4(l,s,d)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||h4(d,c),g=YF(a,o,d,c==="in"||c==="not-in");return sr.create(u,c,g)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function nj(t,e,n){const r=e,i=ov("where",t);return Cg._create(i,r,n)}class lv extends av{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new lv(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Js.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)CI(o,l),o=O2(o,l)}(e._query,n),new ih(e.firestore,e.converter,O2(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function c4(t,e,n){if(typeof(n=tr(n))=="string"){if(n==="")throw new Ke(Ce.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!EE(e)&&n.indexOf("/")!==-1)throw new Ke(Ce.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(An.fromString(n));if(!ht.isDocumentKey(r))throw new Ke(Ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Ab(t,new ht(r))}if(n instanceof Hn)return Ab(t,n._key);throw new Ke(Ce.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${fg(n)}.`)}function h4(t,e){if(!Array.isArray(t)||t.length===0)throw new Ke(Ce.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function CI(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Ke(Ce.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ke(Ce.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class rj{convertValue(e,n="none"){switch(_l(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Yn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(wl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw kt(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Tl(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var r,i,s;const n=(s=(i=(r=e.fields)==null?void 0:r[Am].arrayValue)==null?void 0:i.values)==null?void 0:s.map(o=>Yn(o.doubleValue));return new Po(n)}convertGeoPoint(e){return new No(Yn(e.latitude),Yn(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=mg(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Df(e));default:return null}}convertTimestamp(e){const n=vl(e);return new Pn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=An.fromString(e);rn(KE(r),9688,{name:e});const i=new Of(r.get(1),r.get(3)),s=new ht(r.popFirst(5));return i.isEqual(n)||da(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NI(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Wh{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class au extends TI{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Rp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(ov("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ke(Ce.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=au._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}au._jsonSchemaVersion="firestore/documentSnapshot/1.0",au._jsonSchema={type:or("string",au._jsonSchemaVersion),bundleSource:or("string","DocumentSnapshot"),bundleName:or("string"),bundle:or("string")};class Rp extends au{data(e={}){return super.data(e)}}class Ic{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Wh(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Rp(this._firestore,this._userDataWriter,r.key,r,new Wh(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ke(Ce.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new Rp(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Wh(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new Rp(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Wh(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),c=o.indexOf(a.doc.key)),{type:ij(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ke(Ce.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ic._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=P5.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function ij(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return kt(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sj(t){t=Ss(t,Hn);const e=Ss(t.firestore,kl);return UF(tv(e),t._key).then(n=>LI(e,t,n))}Ic._jsonSchemaVersion="firestore/querySnapshot/1.0",Ic._jsonSchema={type:or("string",Ic._jsonSchemaVersion),bundleSource:or("string","QuerySnapshot"),bundleName:or("string"),bundle:or("string")};class PI extends rj{constructor(e){super(),this.firestore=e}convertBytes(e){return new _s(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Hn(this.firestore,null,n)}}function oj(t,e,n){t=Ss(t,Hn);const r=Ss(t.firestore,kl),i=NI(t.converter,e,n);return Ng(r,[SI(Ig(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,As.none())])}function aj(t,e,n,...r){t=Ss(t,Hn);const i=Ss(t.firestore,kl),s=Ig(i);let o;return o=typeof(e=tr(e))=="string"||e instanceof Eg?QF(s,"updateDoc",t._key,e,n,r):KF(s,"updateDoc",t._key,e),Ng(i,[o.toMutation(t._key,As.exists(!0))])}function lj(t){return Ng(Ss(t.firestore,kl),[new j5(t._key,As.none())])}function uj(t,e){const n=Ss(t.firestore,kl),r=Vf(t),i=NI(t.converter,e);return Ng(n,[SI(Ig(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,As.exists(!1))]).then(()=>r)}function cj(t,...e){var l,u,c;t=tr(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||u4(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(u4(e[r])){const d=e[r];e[r]=(l=d.next)==null?void 0:l.bind(d),e[r+1]=(u=d.error)==null?void 0:u.bind(d),e[r+2]=(c=d.complete)==null?void 0:c.bind(d)}let s,o,a;if(t instanceof Hn)o=Ss(t.firestore,kl),a=gg(t._key.path),s={next:d=>{e[r]&&e[r](LI(o,t,d))},error:e[r+1],complete:e[r+2]};else{const d=Ss(t,ih);o=Ss(d.firestore,kl),a=d._query;const g=new PI(o);s={next:p=>{e[r]&&e[r](new Ic(o,g,d,p))},error:e[r+1],complete:e[r+2]},ZF(t._query)}return function(g,p,_,k){const D=new vI(k),w=new uI(p,D,_);return g.asyncQueue.enqueueAndForget(async()=>aI(await W2(g),w)),()=>{D.Nu(),g.asyncQueue.enqueueAndForget(async()=>lI(await W2(g),w))}}(tv(o),a,i,s)}function Ng(t,e){return function(r,i){const s=new fl;return r.asyncQueue.enqueueAndForget(async()=>CF(await BF(r),i,s)),s.promise}(tv(t),e)}function LI(t,e,n){const r=n.docs.get(e._key),i=new PI(t);return new au(t,i,e._key,r,new Wh(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){eh=i})(Jc),Lo(new Xs("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new kl(new YO(r.getProvider("auth-internal")),new ZO(o,r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Ke(Ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Of(u.options.projectId,c)}(o,i),o);return s={useFetchStreams:n,...s},a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),ks(fb,db,e),ks(fb,db,"esm2020")})();const hj={apiKey:"AIzaSyDbI5vndQaAzo0UETHb6ZJVeWaAy2YrceY",authDomain:"reservas-f34a0.firebaseapp.com",projectId:"reservas-f34a0",storageBucket:"reservas-f34a0.firebasestorage.app",messagingSenderId:"827449642714",appId:"1:827449642714:web:273216fa7c6b8423679fe3",measurementId:"G-GBMM2PLNVC"},uv=eA(hj);z7(uv);const z1=WO(uv),pc=qF(uv),fj=new ta,RI=jt.createContext();function od(){return jt.useContext(RI)}function dj({children:t}){const[e,n]=jt.useState(null),[r,i]=jt.useState(!0);function s(){return tO(z1,fj)}function o(){return OD(z1)}jt.useEffect(()=>DD(z1,u=>{n(u),i(!1)}),[]);const a={currentUser:e,login:s,logout:o};return oe.jsx(RI.Provider,{value:a,children:!r&&t})}function DI(){const[t,e]=jt.useState(()=>localStorage.getItem("theme")||"dark");return jt.useEffect(()=>{localStorage.setItem("theme",t),document.documentElement.setAttribute("data-theme",t)},[t]),{theme:t,toggleTheme:()=>{e(r=>r==="dark"?"light":"dark")}}}function pj({activeTab:t,setActiveTab:e,onNewNote:n,activeCategory:r,setActiveCategory:i,categories:s,onOpenSettings:o}){const{currentUser:a,logout:l}=od(),{theme:u,toggleTheme:c}=DI(),d=[{id:"all",icon:pL,label:"Todas las Notas"},{id:"favorites",icon:jS,label:"Favoritos"},{id:"recent",icon:ZP,label:"Recientes"}];return oe.jsxs("aside",{className:"sidebar glass",children:[oe.jsxs("div",{className:"logo",children:[oe.jsx("span",{style:{fontSize:"2rem"},children:""})," Notely AI"]}),a&&oe.jsxs("div",{className:"user-profile",children:[oe.jsx("img",{src:a.photoURL||`https://ui-avatars.com/api/?name=${a.email}&background=random`,alt:"Profile",className:"user-avatar"}),oe.jsxs("div",{className:"user-info",children:[oe.jsx("span",{className:"user-name",children:a.displayName||"Usuario"}),oe.jsx("span",{className:"user-email",children:a.email})]})]}),oe.jsxs("button",{className:"btn btn-primary",onClick:n,children:[oe.jsx(MS,{size:20}),"Nueva Nota"]}),oe.jsx("nav",{style:{marginTop:"1rem",display:"flex",flexDirection:"column",gap:"0.5rem"},children:d.map(g=>oe.jsxs("div",{className:`nav-item ${t===g.id?"active":""}`,onClick:()=>e(g.id),children:[oe.jsx(g.icon,{size:20}),oe.jsx("span",{children:g.label})]},g.id))}),oe.jsxs("div",{style:{marginTop:"1.5rem"},children:[oe.jsxs("div",{style:{fontSize:"0.875rem",fontWeight:"600",color:"var(--text-secondary)",marginBottom:"0.75rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[oe.jsx(cL,{size:16}),"Carpetas"]}),oe.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.25rem"},children:s.map(g=>oe.jsxs("div",{className:`nav-item ${r===g.id?"active":""}`,onClick:()=>i(r===g.id?null:g.id),style:{fontSize:"0.875rem",padding:"0.5rem 0.75rem"},children:[oe.jsx("span",{children:g.icon}),oe.jsx("span",{children:g.label})]},g.id))})]}),oe.jsxs("div",{style:{marginTop:"auto",display:"flex",flexDirection:"column",gap:"0.5rem"},children:[oe.jsxs("div",{className:"nav-item",onClick:c,children:[u==="dark"?oe.jsx(OL,{size:20}):oe.jsx(SL,{size:20}),oe.jsx("span",{children:u==="dark"?"Modo Claro":"Modo Oscuro"})]}),oe.jsxs("div",{className:"nav-item",onClick:o,children:[oe.jsx(PL,{size:20}),oe.jsx("span",{children:"Configuracin"})]}),oe.jsxs("div",{className:"nav-item",onClick:l,style:{color:"var(--danger-color)"},children:[oe.jsx(xL,{size:20}),oe.jsx("span",{children:"Cerrar Sesin"})]})]})]})}function mj(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const gj=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,yj=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,vj={};function f4(t,e){return(vj.jsx?yj:gj).test(t)}const wj=/[ \t\n\f\r]/g;function _j(t){return typeof t=="object"?t.type==="text"?d4(t.value):!1:d4(t)}function d4(t){return t.replace(wj,"")===""}class ad{constructor(e,n,r){this.normal=n,this.property=e,r&&(this.space=r)}}ad.prototype.normal={};ad.prototype.property={};ad.prototype.space=void 0;function OI(t,e){const n={},r={};for(const i of t)Object.assign(n,i.property),Object.assign(r,i.normal);return new ad(n,r,e)}function K2(t){return t.toLowerCase()}class Di{constructor(e,n){this.attribute=n,this.property=e}}Di.prototype.attribute="";Di.prototype.booleanish=!1;Di.prototype.boolean=!1;Di.prototype.commaOrSpaceSeparated=!1;Di.prototype.commaSeparated=!1;Di.prototype.defined=!1;Di.prototype.mustUseProperty=!1;Di.prototype.number=!1;Di.prototype.overloadedBoolean=!1;Di.prototype.property="";Di.prototype.spaceSeparated=!1;Di.prototype.space=void 0;let bj=0;const Ft=Tu(),rr=Tu(),Q2=Tu(),je=Tu(),Sn=Tu(),Tc=Tu(),Gi=Tu();function Tu(){return 2**++bj}const Y2=Object.freeze(Object.defineProperty({__proto__:null,boolean:Ft,booleanish:rr,commaOrSpaceSeparated:Gi,commaSeparated:Tc,number:je,overloadedBoolean:Q2,spaceSeparated:Sn},Symbol.toStringTag,{value:"Module"})),q1=Object.keys(Y2);class cv extends Di{constructor(e,n,r,i){let s=-1;if(super(e,n),p4(this,"space",i),typeof r=="number")for(;++s<q1.length;){const o=q1[s];p4(this,q1[s],(r&Y2[o])===Y2[o])}}}cv.prototype.defined=!0;function p4(t,e,n){n&&(t[e]=n)}function sh(t){const e={},n={};for(const[r,i]of Object.entries(t.properties)){const s=new cv(r,t.transform(t.attributes||{},r),i,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),e[r]=s,n[K2(r)]=r,n[K2(s.attribute)]=r}return new ad(e,n,t.space)}const MI=sh({properties:{ariaActiveDescendant:null,ariaAtomic:rr,ariaAutoComplete:null,ariaBusy:rr,ariaChecked:rr,ariaColCount:je,ariaColIndex:je,ariaColSpan:je,ariaControls:Sn,ariaCurrent:null,ariaDescribedBy:Sn,ariaDetails:null,ariaDisabled:rr,ariaDropEffect:Sn,ariaErrorMessage:null,ariaExpanded:rr,ariaFlowTo:Sn,ariaGrabbed:rr,ariaHasPopup:null,ariaHidden:rr,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Sn,ariaLevel:je,ariaLive:null,ariaModal:rr,ariaMultiLine:rr,ariaMultiSelectable:rr,ariaOrientation:null,ariaOwns:Sn,ariaPlaceholder:null,ariaPosInSet:je,ariaPressed:rr,ariaReadOnly:rr,ariaRelevant:null,ariaRequired:rr,ariaRoleDescription:Sn,ariaRowCount:je,ariaRowIndex:je,ariaRowSpan:je,ariaSelected:rr,ariaSetSize:je,ariaSort:null,ariaValueMax:je,ariaValueMin:je,ariaValueNow:je,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function FI(t,e){return e in t?t[e]:e}function jI(t,e){return FI(t,e.toLowerCase())}const xj=sh({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Tc,acceptCharset:Sn,accessKey:Sn,action:null,allow:null,allowFullScreen:Ft,allowPaymentRequest:Ft,allowUserMedia:Ft,alt:null,as:null,async:Ft,autoCapitalize:null,autoComplete:Sn,autoFocus:Ft,autoPlay:Ft,blocking:Sn,capture:null,charSet:null,checked:Ft,cite:null,className:Sn,cols:je,colSpan:null,content:null,contentEditable:rr,controls:Ft,controlsList:Sn,coords:je|Tc,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Ft,defer:Ft,dir:null,dirName:null,disabled:Ft,download:Q2,draggable:rr,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Ft,formTarget:null,headers:Sn,height:je,hidden:Q2,high:je,href:null,hrefLang:null,htmlFor:Sn,httpEquiv:Sn,id:null,imageSizes:null,imageSrcSet:null,inert:Ft,inputMode:null,integrity:null,is:null,isMap:Ft,itemId:null,itemProp:Sn,itemRef:Sn,itemScope:Ft,itemType:Sn,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Ft,low:je,manifest:null,max:null,maxLength:je,media:null,method:null,min:null,minLength:je,multiple:Ft,muted:Ft,name:null,nonce:null,noModule:Ft,noValidate:Ft,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Ft,optimum:je,pattern:null,ping:Sn,placeholder:null,playsInline:Ft,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Ft,referrerPolicy:null,rel:Sn,required:Ft,reversed:Ft,rows:je,rowSpan:je,sandbox:Sn,scope:null,scoped:Ft,seamless:Ft,selected:Ft,shadowRootClonable:Ft,shadowRootDelegatesFocus:Ft,shadowRootMode:null,shape:null,size:je,sizes:null,slot:null,span:je,spellCheck:rr,src:null,srcDoc:null,srcLang:null,srcSet:null,start:je,step:null,style:null,tabIndex:je,target:null,title:null,translate:null,type:null,typeMustMatch:Ft,useMap:null,value:rr,width:je,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Sn,axis:null,background:null,bgColor:null,border:je,borderColor:null,bottomMargin:je,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Ft,declare:Ft,event:null,face:null,frame:null,frameBorder:null,hSpace:je,leftMargin:je,link:null,longDesc:null,lowSrc:null,marginHeight:je,marginWidth:je,noResize:Ft,noHref:Ft,noShade:Ft,noWrap:Ft,object:null,profile:null,prompt:null,rev:null,rightMargin:je,rules:null,scheme:null,scrolling:rr,standby:null,summary:null,text:null,topMargin:je,valueType:null,version:null,vAlign:null,vLink:null,vSpace:je,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Ft,disableRemotePlayback:Ft,prefix:null,property:null,results:je,security:null,unselectable:null},space:"html",transform:jI}),kj=sh({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Gi,accentHeight:je,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:je,amplitude:je,arabicForm:null,ascent:je,attributeName:null,attributeType:null,azimuth:je,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:je,by:null,calcMode:null,capHeight:je,className:Sn,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:je,diffuseConstant:je,direction:null,display:null,dur:null,divisor:je,dominantBaseline:null,download:Ft,dx:null,dy:null,edgeMode:null,editable:null,elevation:je,enableBackground:null,end:null,event:null,exponent:je,externalResourcesRequired:null,fill:null,fillOpacity:je,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Tc,g2:Tc,glyphName:Tc,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:je,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:je,horizOriginX:je,horizOriginY:je,id:null,ideographic:je,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:je,k:je,k1:je,k2:je,k3:je,k4:je,kernelMatrix:Gi,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:je,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:je,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:je,overlineThickness:je,paintOrder:null,panose1:null,path:null,pathLength:je,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Sn,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:je,pointsAtY:je,pointsAtZ:je,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Gi,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Gi,rev:Gi,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Gi,requiredFeatures:Gi,requiredFonts:Gi,requiredFormats:Gi,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:je,specularExponent:je,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:je,strikethroughThickness:je,string:null,stroke:null,strokeDashArray:Gi,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:je,strokeOpacity:je,strokeWidth:null,style:null,surfaceScale:je,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Gi,tabIndex:je,tableValues:null,target:null,targetX:je,targetY:je,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Gi,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:je,underlineThickness:je,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:je,values:null,vAlphabetic:je,vMathematical:je,vectorEffect:null,vHanging:je,vIdeographic:je,version:null,vertAdvY:je,vertOriginX:je,vertOriginY:je,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:je,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:FI}),VI=sh({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),BI=sh({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:jI}),UI=sh({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),Sj={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},Aj=/[A-Z]/g,m4=/-[a-z]/g,Ej=/^data[-\w.:]+$/i;function Ij(t,e){const n=K2(e);let r=e,i=Di;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&Ej.test(e)){if(e.charAt(4)==="-"){const s=e.slice(5).replace(m4,Cj);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=e.slice(4);if(!m4.test(s)){let o=s.replace(Aj,Tj);o.charAt(0)!=="-"&&(o="-"+o),e="data"+o}}i=cv}return new i(r,e)}function Tj(t){return"-"+t.toLowerCase()}function Cj(t){return t.charAt(1).toUpperCase()}const Nj=OI([MI,xj,VI,BI,UI],"html"),hv=OI([MI,kj,VI,BI,UI],"svg");function Pj(t){return t.join(" ").trim()}var fv={},g4=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,Lj=/\n/g,Rj=/^\s*/,Dj=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,Oj=/^:\s*/,Mj=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,Fj=/^[;\s]*/,jj=/^\s+|\s+$/g,Vj=`
`,y4="/",v4="*",Yl="",Bj="comment",Uj="declaration";function zj(t,e){if(typeof t!="string")throw new TypeError("First argument must be a string");if(!t)return[];e=e||{};var n=1,r=1;function i(_){var k=_.match(Lj);k&&(n+=k.length);var D=_.lastIndexOf(Vj);r=~D?_.length-D:r+_.length}function s(){var _={line:n,column:r};return function(k){return k.position=new o(_),u(),k}}function o(_){this.start=_,this.end={line:n,column:r},this.source=e.source}o.prototype.content=t;function a(_){var k=new Error(e.source+":"+n+":"+r+": "+_);if(k.reason=_,k.filename=e.source,k.line=n,k.column=r,k.source=t,!e.silent)throw k}function l(_){var k=_.exec(t);if(k){var D=k[0];return i(D),t=t.slice(D.length),k}}function u(){l(Rj)}function c(_){var k;for(_=_||[];k=d();)k!==!1&&_.push(k);return _}function d(){var _=s();if(!(y4!=t.charAt(0)||v4!=t.charAt(1))){for(var k=2;Yl!=t.charAt(k)&&(v4!=t.charAt(k)||y4!=t.charAt(k+1));)++k;if(k+=2,Yl===t.charAt(k-1))return a("End of comment missing");var D=t.slice(2,k-2);return r+=2,i(D),t=t.slice(k),r+=2,_({type:Bj,comment:D})}}function g(){var _=s(),k=l(Dj);if(k){if(d(),!l(Oj))return a("property missing ':'");var D=l(Mj),w=_({type:Uj,property:w4(k[0].replace(g4,Yl)),value:D?w4(D[0].replace(g4,Yl)):Yl});return l(Fj),w}}function p(){var _=[];c(_);for(var k;k=g();)k!==!1&&(_.push(k),c(_));return _}return u(),p()}function w4(t){return t?t.replace(jj,Yl):Yl}var qj=zj,$j=zp&&zp.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(fv,"__esModule",{value:!0});fv.default=Wj;const Hj=$j(qj);function Wj(t,e){let n=null;if(!t||typeof t!="string")return n;const r=(0,Hj.default)(t),i=typeof e=="function";return r.forEach(s=>{if(s.type!=="declaration")return;const{property:o,value:a}=s;i?e(o,a,s):a&&(n=n||{},n[o]=a)}),n}var Pg={};Object.defineProperty(Pg,"__esModule",{value:!0});Pg.camelCase=void 0;var Gj=/^--[a-zA-Z0-9_-]+$/,Kj=/-([a-z])/g,Qj=/^[^-]+$/,Yj=/^-(webkit|moz|ms|o|khtml)-/,Xj=/^-(ms)-/,Jj=function(t){return!t||Qj.test(t)||Gj.test(t)},Zj=function(t,e){return e.toUpperCase()},_4=function(t,e){return"".concat(e,"-")},eV=function(t,e){return e===void 0&&(e={}),Jj(t)?t:(t=t.toLowerCase(),e.reactCompat?t=t.replace(Xj,_4):t=t.replace(Yj,_4),t.replace(Kj,Zj))};Pg.camelCase=eV;var tV=zp&&zp.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},nV=tV(fv),rV=Pg;function X2(t,e){var n={};return!t||typeof t!="string"||(0,nV.default)(t,function(r,i){r&&i&&(n[(0,rV.camelCase)(r,e)]=i)}),n}X2.default=X2;var iV=X2;const sV=yy(iV),zI=qI("end"),dv=qI("start");function qI(t){return e;function e(n){const r=n&&n.position&&n.position[t]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function oV(t){const e=dv(t),n=zI(t);if(e&&n)return{start:e,end:n}}function uf(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?b4(t.position):"start"in t||"end"in t?b4(t):"line"in t||"column"in t?J2(t):""}function J2(t){return x4(t&&t.line)+":"+x4(t&&t.column)}function b4(t){return J2(t&&t.start)+"-"+J2(t&&t.end)}function x4(t){return t&&typeof t=="number"?t:1}class Qr extends Error{constructor(e,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",s={},o=!1;if(n&&("line"in n&&"column"in n?s={place:n}:"start"in n&&"end"in n?s={place:n}:"type"in n?s={ancestors:[n],place:n.position}:s={...n}),typeof e=="string"?i=e:!s.cause&&e&&(o=!0,i=e.message,s.cause=e),!s.ruleId&&!s.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?s.ruleId=r:(s.source=r.slice(0,l),s.ruleId=r.slice(l+1))}if(!s.place&&s.ancestors&&s.ancestors){const l=s.ancestors[s.ancestors.length-1];l&&(s.place=l.position)}const a=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=a?a.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=a?a.line:void 0,this.name=uf(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=o&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Qr.prototype.file="";Qr.prototype.name="";Qr.prototype.reason="";Qr.prototype.message="";Qr.prototype.stack="";Qr.prototype.column=void 0;Qr.prototype.line=void 0;Qr.prototype.ancestors=void 0;Qr.prototype.cause=void 0;Qr.prototype.fatal=void 0;Qr.prototype.place=void 0;Qr.prototype.ruleId=void 0;Qr.prototype.source=void 0;const pv={}.hasOwnProperty,aV=new Map,lV=/[A-Z]/g,uV=new Set(["table","tbody","thead","tfoot","tr"]),cV=new Set(["td","th"]),$I="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function hV(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let r;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=wV(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=vV(n,e.jsx,e.jsxs)}const i={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:r,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?hv:Nj,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},s=HI(i,t,void 0);return s&&typeof s!="string"?s:i.create(t,i.Fragment,{children:s||void 0},void 0)}function HI(t,e,n){if(e.type==="element")return fV(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return dV(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return mV(t,e,n);if(e.type==="mdxjsEsm")return pV(t,e);if(e.type==="root")return gV(t,e,n);if(e.type==="text")return yV(t,e)}function fV(t,e,n){const r=t.schema;let i=r;e.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=hv,t.schema=i),t.ancestors.push(e);const s=GI(t,e.tagName,!1),o=_V(t,e);let a=gv(t,e);return uV.has(e.tagName)&&(a=a.filter(function(l){return typeof l=="string"?!_j(l):!0})),WI(t,o,s,e),mv(o,a),t.ancestors.pop(),t.schema=r,t.create(e,s,o,n)}function dV(t,e){if(e.data&&e.data.estree&&t.evaluater){const r=e.data.estree.body[0];return r.type,t.evaluater.evaluateExpression(r.expression)}Bf(t,e.position)}function pV(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);Bf(t,e.position)}function mV(t,e,n){const r=t.schema;let i=r;e.name==="svg"&&r.space==="html"&&(i=hv,t.schema=i),t.ancestors.push(e);const s=e.name===null?t.Fragment:GI(t,e.name,!0),o=bV(t,e),a=gv(t,e);return WI(t,o,s,e),mv(o,a),t.ancestors.pop(),t.schema=r,t.create(e,s,o,n)}function gV(t,e,n){const r={};return mv(r,gv(t,e)),t.create(e,t.Fragment,r,n)}function yV(t,e){return e.value}function WI(t,e,n,r){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=r)}function mv(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function vV(t,e,n){return r;function r(i,s,o,a){const u=Array.isArray(o.children)?n:e;return a?u(s,o,a):u(s,o)}}function wV(t,e){return n;function n(r,i,s,o){const a=Array.isArray(s.children),l=dv(r);return e(i,s,o,a,{columnNumber:l?l.column-1:void 0,fileName:t,lineNumber:l?l.line:void 0},void 0)}}function _V(t,e){const n={};let r,i;for(i in e.properties)if(i!=="children"&&pv.call(e.properties,i)){const s=xV(t,i,e.properties[i]);if(s){const[o,a]=s;t.tableCellAlignToStyle&&o==="align"&&typeof a=="string"&&cV.has(e.tagName)?r=a:n[o]=a}}if(r){const s=n.style||(n.style={});s[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function bV(t,e){const n={};for(const r of e.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&t.evaluater){const s=r.data.estree.body[0];s.type;const o=s.expression;o.type;const a=o.properties[0];a.type,Object.assign(n,t.evaluater.evaluateExpression(a.argument))}else Bf(t,e.position);else{const i=r.name;let s;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&t.evaluater){const a=r.value.data.estree.body[0];a.type,s=t.evaluater.evaluateExpression(a.expression)}else Bf(t,e.position);else s=r.value===null?!0:r.value;n[i]=s}return n}function gv(t,e){const n=[];let r=-1;const i=t.passKeys?new Map:aV;for(;++r<e.children.length;){const s=e.children[r];let o;if(t.passKeys){const l=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(l){const u=i.get(l)||0;o=l+"-"+u,i.set(l,u+1)}}const a=HI(t,s,o);a!==void 0&&n.push(a)}return n}function xV(t,e,n){const r=Ij(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?mj(n):Pj(n)),r.property==="style"){let i=typeof n=="object"?n:kV(t,String(n));return t.stylePropertyNameCase==="css"&&(i=SV(i)),["style",i]}return[t.elementAttributeNameCase==="react"&&r.space?Sj[r.property]||r.property:r.attribute,n]}}function kV(t,e){try{return sV(e,{reactCompat:!0})}catch(n){if(t.ignoreInvalidStyle)return{};const r=n,i=new Qr("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=t.filePath||void 0,i.url=$I+"#cannot-parse-style-attribute",i}}function GI(t,e,n){let r;if(!n)r={type:"Literal",value:e};else if(e.includes(".")){const i=e.split(".");let s=-1,o;for(;++s<i.length;){const a=f4(i[s])?{type:"Identifier",name:i[s]}:{type:"Literal",value:i[s]};o=o?{type:"MemberExpression",object:o,property:a,computed:!!(s&&a.type==="Literal"),optional:!1}:a}r=o}else r=f4(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(r.type==="Literal"){const i=r.value;return pv.call(t.components,i)?t.components[i]:i}if(t.evaluater)return t.evaluater.evaluateExpression(r);Bf(t)}function Bf(t,e){const n=new Qr("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=$I+"#cannot-handle-mdx-estrees-without-createevaluater",n}function SV(t){const e={};let n;for(n in t)pv.call(t,n)&&(e[AV(n)]=t[n]);return e}function AV(t){let e=t.replace(lV,EV);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function EV(t){return"-"+t.toLowerCase()}const $1={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},IV={};function yv(t,e){const n=IV,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return KI(t,r,i)}function KI(t,e,n){if(TV(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return k4(t.children,e,n)}return Array.isArray(t)?k4(t,e,n):""}function k4(t,e,n){const r=[];let i=-1;for(;++i<t.length;)r[i]=KI(t[i],e,n);return r.join("")}function TV(t){return!!(t&&typeof t=="object")}const S4=document.createElement("i");function vv(t){const e="&"+t+";";S4.innerHTML=e;const n=S4.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function es(t,e,n,r){const i=t.length;let s=0,o;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(e,n),t.splice(...o);else for(n&&t.splice(e,n);s<r.length;)o=r.slice(s,s+1e4),o.unshift(e,0),t.splice(...o),s+=1e4,e+=1e4}function ws(t,e){return t.length>0?(es(t,t.length,0,e),t):e}const A4={}.hasOwnProperty;function QI(t){const e={};let n=-1;for(;++n<t.length;)CV(e,t[n]);return e}function CV(t,e){let n;for(n in e){const i=(A4.call(t,n)?t[n]:void 0)||(t[n]={}),s=e[n];let o;if(s)for(o in s){A4.call(i,o)||(i[o]=[]);const a=s[o];NV(i[o],Array.isArray(a)?a:a?[a]:[])}}}function NV(t,e){let n=-1;const r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);es(t,0,0,r)}function YI(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function Qs(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const ui=Nl(/[A-Za-z]/),Wr=Nl(/[\dA-Za-z]/),PV=Nl(/[#-'*+\--9=?A-Z^-~]/);function Om(t){return t!==null&&(t<32||t===127)}const Z2=Nl(/\d/),LV=Nl(/[\dA-Fa-f]/),RV=Nl(/[!-/:-@[-`{-~]/);function gt(t){return t!==null&&t<-2}function mn(t){return t!==null&&(t<0||t===32)}function Vt(t){return t===-2||t===-1||t===32}const Lg=Nl(new RegExp("\\p{P}|\\p{S}","u")),wu=Nl(/\s/);function Nl(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function oh(t){const e=[];let n=-1,r=0,i=0;for(;++n<t.length;){const s=t.charCodeAt(n);let o="";if(s===37&&Wr(t.charCodeAt(n+1))&&Wr(t.charCodeAt(n+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(o=String.fromCharCode(s));else if(s>55295&&s<57344){const a=t.charCodeAt(n+1);s<56320&&a>56319&&a<57344?(o=String.fromCharCode(s,a),i=1):o=""}else o=String.fromCharCode(s);o&&(e.push(t.slice(r,n),encodeURIComponent(o)),r=n+i+1,o=""),i&&(n+=i,i=0)}return e.join("")+t.slice(r)}function Xt(t,e,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let s=0;return o;function o(l){return Vt(l)?(t.enter(n),a(l)):e(l)}function a(l){return Vt(l)&&s++<i?(t.consume(l),a):(t.exit(n),e(l))}}const DV={tokenize:OV};function OV(t){const e=t.attempt(this.parser.constructs.contentInitial,r,i);let n;return e;function r(a){if(a===null){t.consume(a);return}return t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),Xt(t,e,"linePrefix")}function i(a){return t.enter("paragraph"),s(a)}function s(a){const l=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,o(a)}function o(a){if(a===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(a);return}return gt(a)?(t.consume(a),t.exit("chunkText"),s):(t.consume(a),o)}}const MV={tokenize:FV},E4={tokenize:jV};function FV(t){const e=this,n=[];let r=0,i,s,o;return a;function a(L){if(r<n.length){const V=n[r];return e.containerState=V[1],t.attempt(V[0].continuation,l,u)(L)}return u(L)}function l(L){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&C();const V=e.events.length;let X=V,W;for(;X--;)if(e.events[X][0]==="exit"&&e.events[X][1].type==="chunkFlow"){W=e.events[X][1].end;break}w(r);let F=V;for(;F<e.events.length;)e.events[F][1].end={...W},F++;return es(e.events,X+1,0,e.events.slice(V)),e.events.length=F,u(L)}return a(L)}function u(L){if(r===n.length){if(!i)return g(L);if(i.currentConstruct&&i.currentConstruct.concrete)return _(L);e.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(E4,c,d)(L)}function c(L){return i&&C(),w(r),g(L)}function d(L){return e.parser.lazy[e.now().line]=r!==n.length,o=e.now().offset,_(L)}function g(L){return e.containerState={},t.attempt(E4,p,_)(L)}function p(L){return r++,n.push([e.currentConstruct,e.containerState]),g(L)}function _(L){if(L===null){i&&C(),w(0),t.consume(L);return}return i=i||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:s}),k(L)}function k(L){if(L===null){D(t.exit("chunkFlow"),!0),w(0),t.consume(L);return}return gt(L)?(t.consume(L),D(t.exit("chunkFlow")),r=0,e.interrupt=void 0,a):(t.consume(L),k)}function D(L,V){const X=e.sliceStream(L);if(V&&X.push(null),L.previous=s,s&&(s.next=L),s=L,i.defineSkip(L.start),i.write(X),e.parser.lazy[L.start.line]){let W=i.events.length;for(;W--;)if(i.events[W][1].start.offset<o&&(!i.events[W][1].end||i.events[W][1].end.offset>o))return;const F=e.events.length;let A=F,E,I;for(;A--;)if(e.events[A][0]==="exit"&&e.events[A][1].type==="chunkFlow"){if(E){I=e.events[A][1].end;break}E=!0}for(w(r),W=F;W<e.events.length;)e.events[W][1].end={...I},W++;es(e.events,A+1,0,e.events.slice(F)),e.events.length=W}}function w(L){let V=n.length;for(;V-- >L;){const X=n[V];e.containerState=X[1],X[0].exit.call(e,t)}n.length=L}function C(){i.write([null]),s=void 0,i=void 0,e.containerState._closeFlow=void 0}}function jV(t,e,n){return Xt(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Gc(t){if(t===null||mn(t)||wu(t))return 1;if(Lg(t))return 2}function Rg(t,e,n){const r=[];let i=-1;for(;++i<t.length;){const s=t[i].resolveAll;s&&!r.includes(s)&&(e=s(e,n),r.push(s))}return e}const ey={name:"attention",resolveAll:VV,tokenize:BV};function VV(t,e){let n=-1,r,i,s,o,a,l,u,c;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;l=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const d={...t[r][1].end},g={...t[n][1].start};I4(d,-l),I4(g,l),o={type:l>1?"strongSequence":"emphasisSequence",start:d,end:{...t[r][1].end}},a={type:l>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:g},s={type:l>1?"strongText":"emphasisText",start:{...t[r][1].end},end:{...t[n][1].start}},i={type:l>1?"strong":"emphasis",start:{...o.start},end:{...a.end}},t[r][1].end={...o.start},t[n][1].start={...a.end},u=[],t[r][1].end.offset-t[r][1].start.offset&&(u=ws(u,[["enter",t[r][1],e],["exit",t[r][1],e]])),u=ws(u,[["enter",i,e],["enter",o,e],["exit",o,e],["enter",s,e]]),u=ws(u,Rg(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),u=ws(u,[["exit",s,e],["enter",a,e],["exit",a,e],["exit",i,e]]),t[n][1].end.offset-t[n][1].start.offset?(c=2,u=ws(u,[["enter",t[n][1],e],["exit",t[n][1],e]])):c=0,es(t,r-1,n-r+3,u),n=r+u.length-c-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function BV(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=Gc(r);let s;return o;function o(l){return s=l,t.enter("attentionSequence"),a(l)}function a(l){if(l===s)return t.consume(l),a;const u=t.exit("attentionSequence"),c=Gc(l),d=!c||c===2&&i||n.includes(l),g=!i||i===2&&c||n.includes(r);return u._open=!!(s===42?d:d&&(i||!g)),u._close=!!(s===42?g:g&&(c||!d)),e(l)}}function I4(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const UV={name:"autolink",tokenize:zV};function zV(t,e,n){let r=0;return i;function i(p){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(p),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),s}function s(p){return ui(p)?(t.consume(p),o):p===64?n(p):u(p)}function o(p){return p===43||p===45||p===46||Wr(p)?(r=1,a(p)):u(p)}function a(p){return p===58?(t.consume(p),r=0,l):(p===43||p===45||p===46||Wr(p))&&r++<32?(t.consume(p),a):(r=0,u(p))}function l(p){return p===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(p),t.exit("autolinkMarker"),t.exit("autolink"),e):p===null||p===32||p===60||Om(p)?n(p):(t.consume(p),l)}function u(p){return p===64?(t.consume(p),c):PV(p)?(t.consume(p),u):n(p)}function c(p){return Wr(p)?d(p):n(p)}function d(p){return p===46?(t.consume(p),r=0,c):p===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(p),t.exit("autolinkMarker"),t.exit("autolink"),e):g(p)}function g(p){if((p===45||Wr(p))&&r++<63){const _=p===45?g:d;return t.consume(p),_}return n(p)}}const ld={partial:!0,tokenize:qV};function qV(t,e,n){return r;function r(s){return Vt(s)?Xt(t,i,"linePrefix")(s):i(s)}function i(s){return s===null||gt(s)?e(s):n(s)}}const XI={continuation:{tokenize:HV},exit:WV,name:"blockQuote",tokenize:$V};function $V(t,e,n){const r=this;return i;function i(o){if(o===62){const a=r.containerState;return a.open||(t.enter("blockQuote",{_container:!0}),a.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(o),t.exit("blockQuoteMarker"),s}return n(o)}function s(o){return Vt(o)?(t.enter("blockQuotePrefixWhitespace"),t.consume(o),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(o))}}function HV(t,e,n){const r=this;return i;function i(o){return Vt(o)?Xt(t,s,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):s(o)}function s(o){return t.attempt(XI,e,n)(o)}}function WV(t){t.exit("blockQuote")}const JI={name:"characterEscape",tokenize:GV};function GV(t,e,n){return r;function r(s){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(s),t.exit("escapeMarker"),i}function i(s){return RV(s)?(t.enter("characterEscapeValue"),t.consume(s),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(s)}}const ZI={name:"characterReference",tokenize:KV};function KV(t,e,n){const r=this;let i=0,s,o;return a;function a(d){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(d),t.exit("characterReferenceMarker"),l}function l(d){return d===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(d),t.exit("characterReferenceMarkerNumeric"),u):(t.enter("characterReferenceValue"),s=31,o=Wr,c(d))}function u(d){return d===88||d===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(d),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),s=6,o=LV,c):(t.enter("characterReferenceValue"),s=7,o=Z2,c(d))}function c(d){if(d===59&&i){const g=t.exit("characterReferenceValue");return o===Wr&&!vv(r.sliceSerialize(g))?n(d):(t.enter("characterReferenceMarker"),t.consume(d),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return o(d)&&i++<s?(t.consume(d),c):n(d)}}const T4={partial:!0,tokenize:YV},C4={concrete:!0,name:"codeFenced",tokenize:QV};function QV(t,e,n){const r=this,i={partial:!0,tokenize:X};let s=0,o=0,a;return l;function l(W){return u(W)}function u(W){const F=r.events[r.events.length-1];return s=F&&F[1].type==="linePrefix"?F[2].sliceSerialize(F[1],!0).length:0,a=W,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),c(W)}function c(W){return W===a?(o++,t.consume(W),c):o<3?n(W):(t.exit("codeFencedFenceSequence"),Vt(W)?Xt(t,d,"whitespace")(W):d(W))}function d(W){return W===null||gt(W)?(t.exit("codeFencedFence"),r.interrupt?e(W):t.check(T4,k,V)(W)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),g(W))}function g(W){return W===null||gt(W)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),d(W)):Vt(W)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),Xt(t,p,"whitespace")(W)):W===96&&W===a?n(W):(t.consume(W),g)}function p(W){return W===null||gt(W)?d(W):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),_(W))}function _(W){return W===null||gt(W)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),d(W)):W===96&&W===a?n(W):(t.consume(W),_)}function k(W){return t.attempt(i,V,D)(W)}function D(W){return t.enter("lineEnding"),t.consume(W),t.exit("lineEnding"),w}function w(W){return s>0&&Vt(W)?Xt(t,C,"linePrefix",s+1)(W):C(W)}function C(W){return W===null||gt(W)?t.check(T4,k,V)(W):(t.enter("codeFlowValue"),L(W))}function L(W){return W===null||gt(W)?(t.exit("codeFlowValue"),C(W)):(t.consume(W),L)}function V(W){return t.exit("codeFenced"),e(W)}function X(W,F,A){let E=0;return I;function I(ae){return W.enter("lineEnding"),W.consume(ae),W.exit("lineEnding"),x}function x(ae){return W.enter("codeFencedFence"),Vt(ae)?Xt(W,T,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(ae):T(ae)}function T(ae){return ae===a?(W.enter("codeFencedFenceSequence"),N(ae)):A(ae)}function N(ae){return ae===a?(E++,W.consume(ae),N):E>=o?(W.exit("codeFencedFenceSequence"),Vt(ae)?Xt(W,J,"whitespace")(ae):J(ae)):A(ae)}function J(ae){return ae===null||gt(ae)?(W.exit("codeFencedFence"),F(ae)):A(ae)}}}function YV(t,e,n){const r=this;return i;function i(o){return o===null?n(o):(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),s)}function s(o){return r.parser.lazy[r.now().line]?n(o):e(o)}}const H1={name:"codeIndented",tokenize:JV},XV={partial:!0,tokenize:ZV};function JV(t,e,n){const r=this;return i;function i(u){return t.enter("codeIndented"),Xt(t,s,"linePrefix",5)(u)}function s(u){const c=r.events[r.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?o(u):n(u)}function o(u){return u===null?l(u):gt(u)?t.attempt(XV,o,l)(u):(t.enter("codeFlowValue"),a(u))}function a(u){return u===null||gt(u)?(t.exit("codeFlowValue"),o(u)):(t.consume(u),a)}function l(u){return t.exit("codeIndented"),e(u)}}function ZV(t,e,n){const r=this;return i;function i(o){return r.parser.lazy[r.now().line]?n(o):gt(o)?(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),i):Xt(t,s,"linePrefix",5)(o)}function s(o){const a=r.events[r.events.length-1];return a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?e(o):gt(o)?i(o):n(o)}}const eB={name:"codeText",previous:nB,resolve:tB,tokenize:rB};function tB(t){let e=t.length-4,n=3,r,i;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)i===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(i=r):(r===e||t[r][1].type==="lineEnding")&&(t[i][1].type="codeTextData",r!==i+2&&(t[i][1].end=t[r-1][1].end,t.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return t}function nB(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function rB(t,e,n){let r=0,i,s;return o;function o(d){return t.enter("codeText"),t.enter("codeTextSequence"),a(d)}function a(d){return d===96?(t.consume(d),r++,a):(t.exit("codeTextSequence"),l(d))}function l(d){return d===null?n(d):d===32?(t.enter("space"),t.consume(d),t.exit("space"),l):d===96?(s=t.enter("codeTextSequence"),i=0,c(d)):gt(d)?(t.enter("lineEnding"),t.consume(d),t.exit("lineEnding"),l):(t.enter("codeTextData"),u(d))}function u(d){return d===null||d===32||d===96||gt(d)?(t.exit("codeTextData"),l(d)):(t.consume(d),u)}function c(d){return d===96?(t.consume(d),i++,c):i===r?(t.exit("codeTextSequence"),t.exit("codeText"),e(d)):(s.type="codeTextData",u(d))}}class iB{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,n,r){const i=n||0;this.setCursor(Math.trunc(e));const s=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&Oh(this.left,r),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),Oh(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),Oh(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);Oh(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);Oh(this.left,n.reverse())}}}function Oh(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function eT(t){const e={};let n=-1,r,i,s,o,a,l,u;const c=new iB(t);for(;++n<c.length;){for(;n in e;)n=e[n];if(r=c.get(n),n&&r[1].type==="chunkFlow"&&c.get(n-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,s=0,s<l.length&&l[s][1].type==="lineEndingBlank"&&(s+=2),s<l.length&&l[s][1].type==="content"))for(;++s<l.length&&l[s][1].type!=="content";)l[s][1].type==="chunkText"&&(l[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,sB(c,n)),n=e[n],u=!0);else if(r[1]._container){for(s=n,i=void 0;s--;)if(o=c.get(s),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank")o[0]==="enter"&&(i&&(c.get(i)[1].type="lineEndingBlank"),o[1].type="lineEnding",i=s);else if(!(o[1].type==="linePrefix"||o[1].type==="listItemIndent"))break;i&&(r[1].end={...c.get(i)[1].start},a=c.slice(i,n),a.unshift(r),c.splice(i,n-i+1,a))}}return es(t,0,Number.POSITIVE_INFINITY,c.slice(0)),!u}function sB(t,e){const n=t.get(e)[1],r=t.get(e)[2];let i=e-1;const s=[];let o=n._tokenizer;o||(o=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(o._contentTypeTextTrailing=!0));const a=o.events,l=[],u={};let c,d,g=-1,p=n,_=0,k=0;const D=[k];for(;p;){for(;t.get(++i)[1]!==p;);s.push(i),p._tokenizer||(c=r.sliceStream(p),p.next||c.push(null),d&&o.defineSkip(p.start),p._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(c),p._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),d=p,p=p.next}for(p=n;++g<a.length;)a[g][0]==="exit"&&a[g-1][0]==="enter"&&a[g][1].type===a[g-1][1].type&&a[g][1].start.line!==a[g][1].end.line&&(k=g+1,D.push(k),p._tokenizer=void 0,p.previous=void 0,p=p.next);for(o.events=[],p?(p._tokenizer=void 0,p.previous=void 0):D.pop(),g=D.length;g--;){const w=a.slice(D[g],D[g+1]),C=s.pop();l.push([C,C+w.length-1]),t.splice(C,2,w)}for(l.reverse(),g=-1;++g<l.length;)u[_+l[g][0]]=_+l[g][1],_+=l[g][1]-l[g][0]-1;return u}const oB={resolve:lB,tokenize:uB},aB={partial:!0,tokenize:cB};function lB(t){return eT(t),t}function uB(t,e){let n;return r;function r(a){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),i(a)}function i(a){return a===null?s(a):gt(a)?t.check(aB,o,s)(a):(t.consume(a),i)}function s(a){return t.exit("chunkContent"),t.exit("content"),e(a)}function o(a){return t.consume(a),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function cB(t,e,n){const r=this;return i;function i(o){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),Xt(t,s,"linePrefix")}function s(o){if(o===null||gt(o))return n(o);const a=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?e(o):t.interrupt(r.parser.constructs.flow,n,e)(o)}}function tT(t,e,n,r,i,s,o,a,l){const u=l||Number.POSITIVE_INFINITY;let c=0;return d;function d(w){return w===60?(t.enter(r),t.enter(i),t.enter(s),t.consume(w),t.exit(s),g):w===null||w===32||w===41||Om(w)?n(w):(t.enter(r),t.enter(o),t.enter(a),t.enter("chunkString",{contentType:"string"}),k(w))}function g(w){return w===62?(t.enter(s),t.consume(w),t.exit(s),t.exit(i),t.exit(r),e):(t.enter(a),t.enter("chunkString",{contentType:"string"}),p(w))}function p(w){return w===62?(t.exit("chunkString"),t.exit(a),g(w)):w===null||w===60||gt(w)?n(w):(t.consume(w),w===92?_:p)}function _(w){return w===60||w===62||w===92?(t.consume(w),p):p(w)}function k(w){return!c&&(w===null||w===41||mn(w))?(t.exit("chunkString"),t.exit(a),t.exit(o),t.exit(r),e(w)):c<u&&w===40?(t.consume(w),c++,k):w===41?(t.consume(w),c--,k):w===null||w===32||w===40||Om(w)?n(w):(t.consume(w),w===92?D:k)}function D(w){return w===40||w===41||w===92?(t.consume(w),k):k(w)}}function nT(t,e,n,r,i,s){const o=this;let a=0,l;return u;function u(p){return t.enter(r),t.enter(i),t.consume(p),t.exit(i),t.enter(s),c}function c(p){return a>999||p===null||p===91||p===93&&!l||p===94&&!a&&"_hiddenFootnoteSupport"in o.parser.constructs?n(p):p===93?(t.exit(s),t.enter(i),t.consume(p),t.exit(i),t.exit(r),e):gt(p)?(t.enter("lineEnding"),t.consume(p),t.exit("lineEnding"),c):(t.enter("chunkString",{contentType:"string"}),d(p))}function d(p){return p===null||p===91||p===93||gt(p)||a++>999?(t.exit("chunkString"),c(p)):(t.consume(p),l||(l=!Vt(p)),p===92?g:d)}function g(p){return p===91||p===92||p===93?(t.consume(p),a++,d):d(p)}}function rT(t,e,n,r,i,s){let o;return a;function a(g){return g===34||g===39||g===40?(t.enter(r),t.enter(i),t.consume(g),t.exit(i),o=g===40?41:g,l):n(g)}function l(g){return g===o?(t.enter(i),t.consume(g),t.exit(i),t.exit(r),e):(t.enter(s),u(g))}function u(g){return g===o?(t.exit(s),l(o)):g===null?n(g):gt(g)?(t.enter("lineEnding"),t.consume(g),t.exit("lineEnding"),Xt(t,u,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),c(g))}function c(g){return g===o||g===null||gt(g)?(t.exit("chunkString"),u(g)):(t.consume(g),g===92?d:c)}function d(g){return g===o||g===92?(t.consume(g),c):c(g)}}function cf(t,e){let n;return r;function r(i){return gt(i)?(t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),n=!0,r):Vt(i)?Xt(t,r,n?"linePrefix":"lineSuffix")(i):e(i)}}const hB={name:"definition",tokenize:dB},fB={partial:!0,tokenize:pB};function dB(t,e,n){const r=this;let i;return s;function s(p){return t.enter("definition"),o(p)}function o(p){return nT.call(r,t,a,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(p)}function a(p){return i=Qs(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),p===58?(t.enter("definitionMarker"),t.consume(p),t.exit("definitionMarker"),l):n(p)}function l(p){return mn(p)?cf(t,u)(p):u(p)}function u(p){return tT(t,c,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(p)}function c(p){return t.attempt(fB,d,d)(p)}function d(p){return Vt(p)?Xt(t,g,"whitespace")(p):g(p)}function g(p){return p===null||gt(p)?(t.exit("definition"),r.parser.defined.push(i),e(p)):n(p)}}function pB(t,e,n){return r;function r(a){return mn(a)?cf(t,i)(a):n(a)}function i(a){return rT(t,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(a)}function s(a){return Vt(a)?Xt(t,o,"whitespace")(a):o(a)}function o(a){return a===null||gt(a)?e(a):n(a)}}const mB={name:"hardBreakEscape",tokenize:gB};function gB(t,e,n){return r;function r(s){return t.enter("hardBreakEscape"),t.consume(s),i}function i(s){return gt(s)?(t.exit("hardBreakEscape"),e(s)):n(s)}}const yB={name:"headingAtx",resolve:vB,tokenize:wB};function vB(t,e){let n=t.length-2,r=3,i,s;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},s={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},es(t,r,n-r+1,[["enter",i,e],["enter",s,e],["exit",s,e],["exit",i,e]])),t}function wB(t,e,n){let r=0;return i;function i(c){return t.enter("atxHeading"),s(c)}function s(c){return t.enter("atxHeadingSequence"),o(c)}function o(c){return c===35&&r++<6?(t.consume(c),o):c===null||mn(c)?(t.exit("atxHeadingSequence"),a(c)):n(c)}function a(c){return c===35?(t.enter("atxHeadingSequence"),l(c)):c===null||gt(c)?(t.exit("atxHeading"),e(c)):Vt(c)?Xt(t,a,"whitespace")(c):(t.enter("atxHeadingText"),u(c))}function l(c){return c===35?(t.consume(c),l):(t.exit("atxHeadingSequence"),a(c))}function u(c){return c===null||c===35||mn(c)?(t.exit("atxHeadingText"),a(c)):(t.consume(c),u)}}const _B=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],N4=["pre","script","style","textarea"],bB={concrete:!0,name:"htmlFlow",resolveTo:SB,tokenize:AB},xB={partial:!0,tokenize:IB},kB={partial:!0,tokenize:EB};function SB(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function AB(t,e,n){const r=this;let i,s,o,a,l;return u;function u(R){return c(R)}function c(R){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(R),d}function d(R){return R===33?(t.consume(R),g):R===47?(t.consume(R),s=!0,k):R===63?(t.consume(R),i=3,r.interrupt?e:z):ui(R)?(t.consume(R),o=String.fromCharCode(R),D):n(R)}function g(R){return R===45?(t.consume(R),i=2,p):R===91?(t.consume(R),i=5,a=0,_):ui(R)?(t.consume(R),i=4,r.interrupt?e:z):n(R)}function p(R){return R===45?(t.consume(R),r.interrupt?e:z):n(R)}function _(R){const Z="CDATA[";return R===Z.charCodeAt(a++)?(t.consume(R),a===Z.length?r.interrupt?e:T:_):n(R)}function k(R){return ui(R)?(t.consume(R),o=String.fromCharCode(R),D):n(R)}function D(R){if(R===null||R===47||R===62||mn(R)){const Z=R===47,ne=o.toLowerCase();return!Z&&!s&&N4.includes(ne)?(i=1,r.interrupt?e(R):T(R)):_B.includes(o.toLowerCase())?(i=6,Z?(t.consume(R),w):r.interrupt?e(R):T(R)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(R):s?C(R):L(R))}return R===45||Wr(R)?(t.consume(R),o+=String.fromCharCode(R),D):n(R)}function w(R){return R===62?(t.consume(R),r.interrupt?e:T):n(R)}function C(R){return Vt(R)?(t.consume(R),C):I(R)}function L(R){return R===47?(t.consume(R),I):R===58||R===95||ui(R)?(t.consume(R),V):Vt(R)?(t.consume(R),L):I(R)}function V(R){return R===45||R===46||R===58||R===95||Wr(R)?(t.consume(R),V):X(R)}function X(R){return R===61?(t.consume(R),W):Vt(R)?(t.consume(R),X):L(R)}function W(R){return R===null||R===60||R===61||R===62||R===96?n(R):R===34||R===39?(t.consume(R),l=R,F):Vt(R)?(t.consume(R),W):A(R)}function F(R){return R===l?(t.consume(R),l=null,E):R===null||gt(R)?n(R):(t.consume(R),F)}function A(R){return R===null||R===34||R===39||R===47||R===60||R===61||R===62||R===96||mn(R)?X(R):(t.consume(R),A)}function E(R){return R===47||R===62||Vt(R)?L(R):n(R)}function I(R){return R===62?(t.consume(R),x):n(R)}function x(R){return R===null||gt(R)?T(R):Vt(R)?(t.consume(R),x):n(R)}function T(R){return R===45&&i===2?(t.consume(R),ye):R===60&&i===1?(t.consume(R),ve):R===62&&i===4?(t.consume(R),_e):R===63&&i===3?(t.consume(R),z):R===93&&i===5?(t.consume(R),ue):gt(R)&&(i===6||i===7)?(t.exit("htmlFlowData"),t.check(xB,j,N)(R)):R===null||gt(R)?(t.exit("htmlFlowData"),N(R)):(t.consume(R),T)}function N(R){return t.check(kB,J,j)(R)}function J(R){return t.enter("lineEnding"),t.consume(R),t.exit("lineEnding"),ae}function ae(R){return R===null||gt(R)?N(R):(t.enter("htmlFlowData"),T(R))}function ye(R){return R===45?(t.consume(R),z):T(R)}function ve(R){return R===47?(t.consume(R),o="",ee):T(R)}function ee(R){if(R===62){const Z=o.toLowerCase();return N4.includes(Z)?(t.consume(R),_e):T(R)}return ui(R)&&o.length<8?(t.consume(R),o+=String.fromCharCode(R),ee):T(R)}function ue(R){return R===93?(t.consume(R),z):T(R)}function z(R){return R===62?(t.consume(R),_e):R===45&&i===2?(t.consume(R),z):T(R)}function _e(R){return R===null||gt(R)?(t.exit("htmlFlowData"),j(R)):(t.consume(R),_e)}function j(R){return t.exit("htmlFlow"),e(R)}}function EB(t,e,n){const r=this;return i;function i(o){return gt(o)?(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),s):n(o)}function s(o){return r.parser.lazy[r.now().line]?n(o):e(o)}}function IB(t,e,n){return r;function r(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),t.attempt(ld,e,n)}}const TB={name:"htmlText",tokenize:CB};function CB(t,e,n){const r=this;let i,s,o;return a;function a(z){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(z),l}function l(z){return z===33?(t.consume(z),u):z===47?(t.consume(z),X):z===63?(t.consume(z),L):ui(z)?(t.consume(z),A):n(z)}function u(z){return z===45?(t.consume(z),c):z===91?(t.consume(z),s=0,_):ui(z)?(t.consume(z),C):n(z)}function c(z){return z===45?(t.consume(z),p):n(z)}function d(z){return z===null?n(z):z===45?(t.consume(z),g):gt(z)?(o=d,ve(z)):(t.consume(z),d)}function g(z){return z===45?(t.consume(z),p):d(z)}function p(z){return z===62?ye(z):z===45?g(z):d(z)}function _(z){const _e="CDATA[";return z===_e.charCodeAt(s++)?(t.consume(z),s===_e.length?k:_):n(z)}function k(z){return z===null?n(z):z===93?(t.consume(z),D):gt(z)?(o=k,ve(z)):(t.consume(z),k)}function D(z){return z===93?(t.consume(z),w):k(z)}function w(z){return z===62?ye(z):z===93?(t.consume(z),w):k(z)}function C(z){return z===null||z===62?ye(z):gt(z)?(o=C,ve(z)):(t.consume(z),C)}function L(z){return z===null?n(z):z===63?(t.consume(z),V):gt(z)?(o=L,ve(z)):(t.consume(z),L)}function V(z){return z===62?ye(z):L(z)}function X(z){return ui(z)?(t.consume(z),W):n(z)}function W(z){return z===45||Wr(z)?(t.consume(z),W):F(z)}function F(z){return gt(z)?(o=F,ve(z)):Vt(z)?(t.consume(z),F):ye(z)}function A(z){return z===45||Wr(z)?(t.consume(z),A):z===47||z===62||mn(z)?E(z):n(z)}function E(z){return z===47?(t.consume(z),ye):z===58||z===95||ui(z)?(t.consume(z),I):gt(z)?(o=E,ve(z)):Vt(z)?(t.consume(z),E):ye(z)}function I(z){return z===45||z===46||z===58||z===95||Wr(z)?(t.consume(z),I):x(z)}function x(z){return z===61?(t.consume(z),T):gt(z)?(o=x,ve(z)):Vt(z)?(t.consume(z),x):E(z)}function T(z){return z===null||z===60||z===61||z===62||z===96?n(z):z===34||z===39?(t.consume(z),i=z,N):gt(z)?(o=T,ve(z)):Vt(z)?(t.consume(z),T):(t.consume(z),J)}function N(z){return z===i?(t.consume(z),i=void 0,ae):z===null?n(z):gt(z)?(o=N,ve(z)):(t.consume(z),N)}function J(z){return z===null||z===34||z===39||z===60||z===61||z===96?n(z):z===47||z===62||mn(z)?E(z):(t.consume(z),J)}function ae(z){return z===47||z===62||mn(z)?E(z):n(z)}function ye(z){return z===62?(t.consume(z),t.exit("htmlTextData"),t.exit("htmlText"),e):n(z)}function ve(z){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(z),t.exit("lineEnding"),ee}function ee(z){return Vt(z)?Xt(t,ue,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(z):ue(z)}function ue(z){return t.enter("htmlTextData"),o(z)}}const wv={name:"labelEnd",resolveAll:RB,resolveTo:DB,tokenize:OB},NB={tokenize:MB},PB={tokenize:FB},LB={tokenize:jB};function RB(t){let e=-1;const n=[];for(;++e<t.length;){const r=t[e][1];if(n.push(t[e]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",e+=i}}return t.length!==n.length&&es(t,0,t.length,n),t}function DB(t,e){let n=t.length,r=0,i,s,o,a;for(;n--;)if(i=t[n][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;t[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(t[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(o=n);const l={type:t[s][1].type==="labelLink"?"link":"image",start:{...t[s][1].start},end:{...t[t.length-1][1].end}},u={type:"label",start:{...t[s][1].start},end:{...t[o][1].end}},c={type:"labelText",start:{...t[s+r+2][1].end},end:{...t[o-2][1].start}};return a=[["enter",l,e],["enter",u,e]],a=ws(a,t.slice(s+1,s+r+3)),a=ws(a,[["enter",c,e]]),a=ws(a,Rg(e.parser.constructs.insideSpan.null,t.slice(s+r+4,o-3),e)),a=ws(a,[["exit",c,e],t[o-2],t[o-1],["exit",u,e]]),a=ws(a,t.slice(o+1)),a=ws(a,[["exit",l,e]]),es(t,s,t.length,a),t}function OB(t,e,n){const r=this;let i=r.events.length,s,o;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){s=r.events[i][1];break}return a;function a(g){return s?s._inactive?d(g):(o=r.parser.defined.includes(Qs(r.sliceSerialize({start:s.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(g),t.exit("labelMarker"),t.exit("labelEnd"),l):n(g)}function l(g){return g===40?t.attempt(NB,c,o?c:d)(g):g===91?t.attempt(PB,c,o?u:d)(g):o?c(g):d(g)}function u(g){return t.attempt(LB,c,d)(g)}function c(g){return e(g)}function d(g){return s._balanced=!0,n(g)}}function MB(t,e,n){return r;function r(d){return t.enter("resource"),t.enter("resourceMarker"),t.consume(d),t.exit("resourceMarker"),i}function i(d){return mn(d)?cf(t,s)(d):s(d)}function s(d){return d===41?c(d):tT(t,o,a,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(d)}function o(d){return mn(d)?cf(t,l)(d):c(d)}function a(d){return n(d)}function l(d){return d===34||d===39||d===40?rT(t,u,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(d):c(d)}function u(d){return mn(d)?cf(t,c)(d):c(d)}function c(d){return d===41?(t.enter("resourceMarker"),t.consume(d),t.exit("resourceMarker"),t.exit("resource"),e):n(d)}}function FB(t,e,n){const r=this;return i;function i(a){return nT.call(r,t,s,o,"reference","referenceMarker","referenceString")(a)}function s(a){return r.parser.defined.includes(Qs(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(a):n(a)}function o(a){return n(a)}}function jB(t,e,n){return r;function r(s){return t.enter("reference"),t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),i}function i(s){return s===93?(t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),t.exit("reference"),e):n(s)}}const VB={name:"labelStartImage",resolveAll:wv.resolveAll,tokenize:BB};function BB(t,e,n){const r=this;return i;function i(a){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(a),t.exit("labelImageMarker"),s}function s(a){return a===91?(t.enter("labelMarker"),t.consume(a),t.exit("labelMarker"),t.exit("labelImage"),o):n(a)}function o(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):e(a)}}const UB={name:"labelStartLink",resolveAll:wv.resolveAll,tokenize:zB};function zB(t,e,n){const r=this;return i;function i(o){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(o),t.exit("labelMarker"),t.exit("labelLink"),s}function s(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):e(o)}}const W1={name:"lineEnding",tokenize:qB};function qB(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),Xt(t,e,"linePrefix")}}const Dp={name:"thematicBreak",tokenize:$B};function $B(t,e,n){let r=0,i;return s;function s(u){return t.enter("thematicBreak"),o(u)}function o(u){return i=u,a(u)}function a(u){return u===i?(t.enter("thematicBreakSequence"),l(u)):r>=3&&(u===null||gt(u))?(t.exit("thematicBreak"),e(u)):n(u)}function l(u){return u===i?(t.consume(u),r++,l):(t.exit("thematicBreakSequence"),Vt(u)?Xt(t,a,"whitespace")(u):a(u))}}const Ei={continuation:{tokenize:KB},exit:YB,name:"list",tokenize:GB},HB={partial:!0,tokenize:XB},WB={partial:!0,tokenize:QB};function GB(t,e,n){const r=this,i=r.events[r.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return a;function a(p){const _=r.containerState.type||(p===42||p===43||p===45?"listUnordered":"listOrdered");if(_==="listUnordered"?!r.containerState.marker||p===r.containerState.marker:Z2(p)){if(r.containerState.type||(r.containerState.type=_,t.enter(_,{_container:!0})),_==="listUnordered")return t.enter("listItemPrefix"),p===42||p===45?t.check(Dp,n,u)(p):u(p);if(!r.interrupt||p===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),l(p)}return n(p)}function l(p){return Z2(p)&&++o<10?(t.consume(p),l):(!r.interrupt||o<2)&&(r.containerState.marker?p===r.containerState.marker:p===41||p===46)?(t.exit("listItemValue"),u(p)):n(p)}function u(p){return t.enter("listItemMarker"),t.consume(p),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||p,t.check(ld,r.interrupt?n:c,t.attempt(HB,g,d))}function c(p){return r.containerState.initialBlankLine=!0,s++,g(p)}function d(p){return Vt(p)?(t.enter("listItemPrefixWhitespace"),t.consume(p),t.exit("listItemPrefixWhitespace"),g):n(p)}function g(p){return r.containerState.size=s+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(p)}}function KB(t,e,n){const r=this;return r.containerState._closeFlow=void 0,t.check(ld,i,s);function i(a){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Xt(t,e,"listItemIndent",r.containerState.size+1)(a)}function s(a){return r.containerState.furtherBlankLines||!Vt(a)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(a)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(WB,e,o)(a))}function o(a){return r.containerState._closeFlow=!0,r.interrupt=void 0,Xt(t,t.attempt(Ei,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a)}}function QB(t,e,n){const r=this;return Xt(t,i,"listItemIndent",r.containerState.size+1);function i(s){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?e(s):n(s)}}function YB(t){t.exit(this.containerState.type)}function XB(t,e,n){const r=this;return Xt(t,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(s){const o=r.events[r.events.length-1];return!Vt(s)&&o&&o[1].type==="listItemPrefixWhitespace"?e(s):n(s)}}const P4={name:"setextUnderline",resolveTo:JB,tokenize:ZB};function JB(t,e){let n=t.length,r,i,s;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(i=n)}else t[n][1].type==="content"&&t.splice(n,1),!s&&t[n][1].type==="definition"&&(s=n);const o={type:"setextHeading",start:{...t[r][1].start},end:{...t[t.length-1][1].end}};return t[i][1].type="setextHeadingText",s?(t.splice(i,0,["enter",o,e]),t.splice(s+1,0,["exit",t[r][1],e]),t[r][1].end={...t[s][1].end}):t[r][1]=o,t.push(["exit",o,e]),t}function ZB(t,e,n){const r=this;let i;return s;function s(u){let c=r.events.length,d;for(;c--;)if(r.events[c][1].type!=="lineEnding"&&r.events[c][1].type!=="linePrefix"&&r.events[c][1].type!=="content"){d=r.events[c][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||d)?(t.enter("setextHeadingLine"),i=u,o(u)):n(u)}function o(u){return t.enter("setextHeadingLineSequence"),a(u)}function a(u){return u===i?(t.consume(u),a):(t.exit("setextHeadingLineSequence"),Vt(u)?Xt(t,l,"lineSuffix")(u):l(u))}function l(u){return u===null||gt(u)?(t.exit("setextHeadingLine"),e(u)):n(u)}}const eU={tokenize:tU};function tU(t){const e=this,n=t.attempt(ld,r,t.attempt(this.parser.constructs.flowInitial,i,Xt(t,t.attempt(this.parser.constructs.flow,i,t.attempt(oB,i)),"linePrefix")));return n;function r(s){if(s===null){t.consume(s);return}return t.enter("lineEndingBlank"),t.consume(s),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function i(s){if(s===null){t.consume(s);return}return t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const nU={resolveAll:sT()},rU=iT("string"),iU=iT("text");function iT(t){return{resolveAll:sT(t==="text"?sU:void 0),tokenize:e};function e(n){const r=this,i=this.parser.constructs[t],s=n.attempt(i,o,a);return o;function o(c){return u(c)?s(c):a(c)}function a(c){if(c===null){n.consume(c);return}return n.enter("data"),n.consume(c),l}function l(c){return u(c)?(n.exit("data"),s(c)):(n.consume(c),l)}function u(c){if(c===null)return!0;const d=i[c];let g=-1;if(d)for(;++g<d.length;){const p=d[g];if(!p.previous||p.previous.call(r,r.previous))return!0}return!1}}}function sT(t){return e;function e(n,r){let i=-1,s;for(;++i<=n.length;)s===void 0?n[i]&&n[i][1].type==="data"&&(s=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==s+2&&(n[s][1].end=n[i-1][1].end,n.splice(s+2,i-s-2),i=s+2),s=void 0);return t?t(n,r):n}}function sU(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const r=t[n-1][1],i=e.sliceStream(r);let s=i.length,o=-1,a=0,l;for(;s--;){const u=i[s];if(typeof u=="string"){for(o=u.length;u.charCodeAt(o-1)===32;)a++,o--;if(o)break;o=-1}else if(u===-2)l=!0,a++;else if(u!==-1){s++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(a=0),a){const u={type:n===t.length||l||a<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?o:r.start._bufferIndex+o,_index:r.start._index+s,line:r.end.line,column:r.end.column-a,offset:r.end.offset-a},end:{...r.end}};r.end={...u.start},r.start.offset===r.end.offset?Object.assign(r,u):(t.splice(n,0,["enter",u,e],["exit",u,e]),n+=2)}n++}return t}const oU={42:Ei,43:Ei,45:Ei,48:Ei,49:Ei,50:Ei,51:Ei,52:Ei,53:Ei,54:Ei,55:Ei,56:Ei,57:Ei,62:XI},aU={91:hB},lU={[-2]:H1,[-1]:H1,32:H1},uU={35:yB,42:Dp,45:[P4,Dp],60:bB,61:P4,95:Dp,96:C4,126:C4},cU={38:ZI,92:JI},hU={[-5]:W1,[-4]:W1,[-3]:W1,33:VB,38:ZI,42:ey,60:[UV,TB],91:UB,92:[mB,JI],93:wv,95:ey,96:eB},fU={null:[ey,nU]},dU={null:[42,95]},pU={null:[]},mU=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:dU,contentInitial:aU,disable:pU,document:oU,flow:uU,flowInitial:lU,insideSpan:fU,string:cU,text:hU},Symbol.toStringTag,{value:"Module"}));function gU(t,e,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},s=[];let o=[],a=[];const l={attempt:F(X),check:F(W),consume:C,enter:L,exit:V,interrupt:F(W,{interrupt:!0})},u={code:null,containerState:{},defineSkip:k,events:[],now:_,parser:t,previous:null,sliceSerialize:g,sliceStream:p,write:d};let c=e.tokenize.call(u,l);return e.resolveAll&&s.push(e),u;function d(x){return o=ws(o,x),D(),o[o.length-1]!==null?[]:(A(e,0),u.events=Rg(s,u.events,u),u.events)}function g(x,T){return vU(p(x),T)}function p(x){return yU(o,x)}function _(){const{_bufferIndex:x,_index:T,line:N,column:J,offset:ae}=r;return{_bufferIndex:x,_index:T,line:N,column:J,offset:ae}}function k(x){i[x.line]=x.column,I()}function D(){let x;for(;r._index<o.length;){const T=o[r._index];if(typeof T=="string")for(x=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===x&&r._bufferIndex<T.length;)w(T.charCodeAt(r._bufferIndex));else w(T)}}function w(x){c=c(x)}function C(x){gt(x)?(r.line++,r.column=1,r.offset+=x===-3?2:1,I()):x!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=x}function L(x,T){const N=T||{};return N.type=x,N.start=_(),u.events.push(["enter",N,u]),a.push(N),N}function V(x){const T=a.pop();return T.end=_(),u.events.push(["exit",T,u]),T}function X(x,T){A(x,T.from)}function W(x,T){T.restore()}function F(x,T){return N;function N(J,ae,ye){let ve,ee,ue,z;return Array.isArray(J)?j(J):"tokenize"in J?j([J]):_e(J);function _e(re){return ce;function ce(we){const be=we!==null&&re[we],ke=we!==null&&re.null,Re=[...Array.isArray(be)?be:be?[be]:[],...Array.isArray(ke)?ke:ke?[ke]:[]];return j(Re)(we)}}function j(re){return ve=re,ee=0,re.length===0?ye:R(re[ee])}function R(re){return ce;function ce(we){return z=E(),ue=re,re.partial||(u.currentConstruct=re),re.name&&u.parser.constructs.disable.null.includes(re.name)?ne():re.tokenize.call(T?Object.assign(Object.create(u),T):u,l,Z,ne)(we)}}function Z(re){return x(ue,z),ae}function ne(re){return z.restore(),++ee<ve.length?R(ve[ee]):ye}}}function A(x,T){x.resolveAll&&!s.includes(x)&&s.push(x),x.resolve&&es(u.events,T,u.events.length-T,x.resolve(u.events.slice(T),u)),x.resolveTo&&(u.events=x.resolveTo(u.events,u))}function E(){const x=_(),T=u.previous,N=u.currentConstruct,J=u.events.length,ae=Array.from(a);return{from:J,restore:ye};function ye(){r=x,u.previous=T,u.currentConstruct=N,u.events.length=J,a=ae,I()}}function I(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function yU(t,e){const n=e.start._index,r=e.start._bufferIndex,i=e.end._index,s=e.end._bufferIndex;let o;if(n===i)o=[t[n].slice(r,s)];else{if(o=t.slice(n,i),r>-1){const a=o[0];typeof a=="string"?o[0]=a.slice(r):o.shift()}s>0&&o.push(t[i].slice(0,s))}return o}function vU(t,e){let n=-1;const r=[];let i;for(;++n<t.length;){const s=t[n];let o;if(typeof s=="string")o=s;else switch(s){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=e?" ":"	";break}case-1:{if(!e&&i)continue;o=" ";break}default:o=String.fromCharCode(s)}i=s===-2,r.push(o)}return r.join("")}function wU(t){const r={constructs:QI([mU,...(t||{}).extensions||[]]),content:i(DV),defined:[],document:i(MV),flow:i(eU),lazy:{},string:i(rU),text:i(iU)};return r;function i(s){return o;function o(a){return gU(r,s,a)}}}function _U(t){for(;!eT(t););return t}const L4=/[\0\t\n\r]/g;function bU(){let t=1,e="",n=!0,r;return i;function i(s,o,a){const l=[];let u,c,d,g,p;for(s=e+(typeof s=="string"?s.toString():new TextDecoder(o||void 0).decode(s)),d=0,e="",n&&(s.charCodeAt(0)===65279&&d++,n=void 0);d<s.length;){if(L4.lastIndex=d,u=L4.exec(s),g=u&&u.index!==void 0?u.index:s.length,p=s.charCodeAt(g),!u){e=s.slice(d);break}if(p===10&&d===g&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),d<g&&(l.push(s.slice(d,g)),t+=g-d),p){case 0:{l.push(65533),t++;break}case 9:{for(c=Math.ceil(t/4)*4,l.push(-2);t++<c;)l.push(-1);break}case 10:{l.push(-4),t=1;break}default:r=!0,t=1}d=g+1}return a&&(r&&l.push(-5),e&&l.push(e),l.push(null)),l}}const xU=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function kU(t){return t.replace(xU,SU)}function SU(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),s=i===120||i===88;return YI(n.slice(s?2:1),s?16:10)}return vv(n)||t}const oT={}.hasOwnProperty;function AU(t,e,n){return typeof e!="string"&&(n=e,e=void 0),EU(n)(_U(wU(n).document().write(bU()(t,e,!0))))}function EU(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(Ee),autolinkProtocol:E,autolinkEmail:E,atxHeading:s(G),blockQuote:s(ke),characterEscape:E,characterReference:E,codeFenced:s(Re),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:s(Re,o),codeText:s(qe,o),codeTextData:E,data:E,codeFlowValue:E,definition:s(ze),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:s(it),hardBreakEscape:s(Be),hardBreakTrailing:s(Be),htmlFlow:s(St,o),htmlFlowData:E,htmlText:s(St,o),htmlTextData:E,image:s(lt),label:o,link:s(Ee),listItem:s(We),listItemValue:g,listOrdered:s(Ge,d),listUnordered:s(Ge),paragraph:s(ut),reference:R,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:s(G),strong:s(st),thematicBreak:s(Nt)},exit:{atxHeading:l(),atxHeadingSequence:X,autolink:l(),autolinkEmail:be,autolinkProtocol:we,blockQuote:l(),characterEscapeValue:I,characterReferenceMarkerHexadecimal:ne,characterReferenceMarkerNumeric:ne,characterReferenceValue:re,characterReference:ce,codeFenced:l(D),codeFencedFence:k,codeFencedFenceInfo:p,codeFencedFenceMeta:_,codeFlowValue:I,codeIndented:l(w),codeText:l(ae),codeTextData:I,data:I,definition:l(),definitionDestinationString:V,definitionLabelString:C,definitionTitleString:L,emphasis:l(),hardBreakEscape:l(T),hardBreakTrailing:l(T),htmlFlow:l(N),htmlFlowData:I,htmlText:l(J),htmlTextData:I,image:l(ve),label:ue,labelText:ee,lineEnding:x,link:l(ye),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:Z,resourceDestinationString:z,resourceTitleString:_e,resource:j,setextHeading:l(A),setextHeadingLineSequence:F,setextHeadingText:W,strong:l(),thematicBreak:l()}};aT(e,(t||{}).mdastExtensions||[]);const n={};return r;function r(de){let Te={type:"root",children:[]};const Ve={stack:[Te],tokenStack:[],config:e,enter:a,exit:u,buffer:o,resume:c,data:n},De=[];let $e=-1;for(;++$e<de.length;)if(de[$e][1].type==="listOrdered"||de[$e][1].type==="listUnordered")if(de[$e][0]==="enter")De.push($e);else{const He=De.pop();$e=i(de,He,$e)}for($e=-1;++$e<de.length;){const He=e[de[$e][0]];oT.call(He,de[$e][1].type)&&He[de[$e][1].type].call(Object.assign({sliceSerialize:de[$e][2].sliceSerialize},Ve),de[$e][1])}if(Ve.tokenStack.length>0){const He=Ve.tokenStack[Ve.tokenStack.length-1];(He[1]||R4).call(Ve,void 0,He[0])}for(Te.position={start:Ua(de.length>0?de[0][1].start:{line:1,column:1,offset:0}),end:Ua(de.length>0?de[de.length-2][1].end:{line:1,column:1,offset:0})},$e=-1;++$e<e.transforms.length;)Te=e.transforms[$e](Te)||Te;return Te}function i(de,Te,Ve){let De=Te-1,$e=-1,He=!1,en,vt,wt,_t;for(;++De<=Ve;){const It=de[De];switch(It[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{It[0]==="enter"?$e++:$e--,_t=void 0;break}case"lineEndingBlank":{It[0]==="enter"&&(en&&!_t&&!$e&&!wt&&(wt=De),_t=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:_t=void 0}if(!$e&&It[0]==="enter"&&It[1].type==="listItemPrefix"||$e===-1&&It[0]==="exit"&&(It[1].type==="listUnordered"||It[1].type==="listOrdered")){if(en){let et=De;for(vt=void 0;et--;){const Dt=de[et];if(Dt[1].type==="lineEnding"||Dt[1].type==="lineEndingBlank"){if(Dt[0]==="exit")continue;vt&&(de[vt][1].type="lineEndingBlank",He=!0),Dt[1].type="lineEnding",vt=et}else if(!(Dt[1].type==="linePrefix"||Dt[1].type==="blockQuotePrefix"||Dt[1].type==="blockQuotePrefixWhitespace"||Dt[1].type==="blockQuoteMarker"||Dt[1].type==="listItemIndent"))break}wt&&(!vt||wt<vt)&&(en._spread=!0),en.end=Object.assign({},vt?de[vt][1].start:It[1].end),de.splice(vt||De,0,["exit",en,It[2]]),De++,Ve++}if(It[1].type==="listItemPrefix"){const et={type:"listItem",_spread:!1,start:Object.assign({},It[1].start),end:void 0};en=et,de.splice(De,0,["enter",et,It[2]]),De++,Ve++,wt=void 0,_t=!0}}}return de[Te][1]._spread=He,Ve}function s(de,Te){return Ve;function Ve(De){a.call(this,de(De),De),Te&&Te.call(this,De)}}function o(){this.stack.push({type:"fragment",children:[]})}function a(de,Te,Ve){this.stack[this.stack.length-1].children.push(de),this.stack.push(de),this.tokenStack.push([Te,Ve||void 0]),de.position={start:Ua(Te.start),end:void 0}}function l(de){return Te;function Te(Ve){de&&de.call(this,Ve),u.call(this,Ve)}}function u(de,Te){const Ve=this.stack.pop(),De=this.tokenStack.pop();if(De)De[0].type!==de.type&&(Te?Te.call(this,de,De[0]):(De[1]||R4).call(this,de,De[0]));else throw new Error("Cannot close `"+de.type+"` ("+uf({start:de.start,end:de.end})+"): its not open");Ve.position.end=Ua(de.end)}function c(){return yv(this.stack.pop())}function d(){this.data.expectingFirstListItemValue=!0}function g(de){if(this.data.expectingFirstListItemValue){const Te=this.stack[this.stack.length-2];Te.start=Number.parseInt(this.sliceSerialize(de),10),this.data.expectingFirstListItemValue=void 0}}function p(){const de=this.resume(),Te=this.stack[this.stack.length-1];Te.lang=de}function _(){const de=this.resume(),Te=this.stack[this.stack.length-1];Te.meta=de}function k(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function D(){const de=this.resume(),Te=this.stack[this.stack.length-1];Te.value=de.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function w(){const de=this.resume(),Te=this.stack[this.stack.length-1];Te.value=de.replace(/(\r?\n|\r)$/g,"")}function C(de){const Te=this.resume(),Ve=this.stack[this.stack.length-1];Ve.label=Te,Ve.identifier=Qs(this.sliceSerialize(de)).toLowerCase()}function L(){const de=this.resume(),Te=this.stack[this.stack.length-1];Te.title=de}function V(){const de=this.resume(),Te=this.stack[this.stack.length-1];Te.url=de}function X(de){const Te=this.stack[this.stack.length-1];if(!Te.depth){const Ve=this.sliceSerialize(de).length;Te.depth=Ve}}function W(){this.data.setextHeadingSlurpLineEnding=!0}function F(de){const Te=this.stack[this.stack.length-1];Te.depth=this.sliceSerialize(de).codePointAt(0)===61?1:2}function A(){this.data.setextHeadingSlurpLineEnding=void 0}function E(de){const Ve=this.stack[this.stack.length-1].children;let De=Ve[Ve.length-1];(!De||De.type!=="text")&&(De=Kt(),De.position={start:Ua(de.start),end:void 0},Ve.push(De)),this.stack.push(De)}function I(de){const Te=this.stack.pop();Te.value+=this.sliceSerialize(de),Te.position.end=Ua(de.end)}function x(de){const Te=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Ve=Te.children[Te.children.length-1];Ve.position.end=Ua(de.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(Te.type)&&(E.call(this,de),I.call(this,de))}function T(){this.data.atHardBreak=!0}function N(){const de=this.resume(),Te=this.stack[this.stack.length-1];Te.value=de}function J(){const de=this.resume(),Te=this.stack[this.stack.length-1];Te.value=de}function ae(){const de=this.resume(),Te=this.stack[this.stack.length-1];Te.value=de}function ye(){const de=this.stack[this.stack.length-1];if(this.data.inReference){const Te=this.data.referenceType||"shortcut";de.type+="Reference",de.referenceType=Te,delete de.url,delete de.title}else delete de.identifier,delete de.label;this.data.referenceType=void 0}function ve(){const de=this.stack[this.stack.length-1];if(this.data.inReference){const Te=this.data.referenceType||"shortcut";de.type+="Reference",de.referenceType=Te,delete de.url,delete de.title}else delete de.identifier,delete de.label;this.data.referenceType=void 0}function ee(de){const Te=this.sliceSerialize(de),Ve=this.stack[this.stack.length-2];Ve.label=kU(Te),Ve.identifier=Qs(Te).toLowerCase()}function ue(){const de=this.stack[this.stack.length-1],Te=this.resume(),Ve=this.stack[this.stack.length-1];if(this.data.inReference=!0,Ve.type==="link"){const De=de.children;Ve.children=De}else Ve.alt=Te}function z(){const de=this.resume(),Te=this.stack[this.stack.length-1];Te.url=de}function _e(){const de=this.resume(),Te=this.stack[this.stack.length-1];Te.title=de}function j(){this.data.inReference=void 0}function R(){this.data.referenceType="collapsed"}function Z(de){const Te=this.resume(),Ve=this.stack[this.stack.length-1];Ve.label=Te,Ve.identifier=Qs(this.sliceSerialize(de)).toLowerCase(),this.data.referenceType="full"}function ne(de){this.data.characterReferenceType=de.type}function re(de){const Te=this.sliceSerialize(de),Ve=this.data.characterReferenceType;let De;Ve?(De=YI(Te,Ve==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):De=vv(Te);const $e=this.stack[this.stack.length-1];$e.value+=De}function ce(de){const Te=this.stack.pop();Te.position.end=Ua(de.end)}function we(de){I.call(this,de);const Te=this.stack[this.stack.length-1];Te.url=this.sliceSerialize(de)}function be(de){I.call(this,de);const Te=this.stack[this.stack.length-1];Te.url="mailto:"+this.sliceSerialize(de)}function ke(){return{type:"blockquote",children:[]}}function Re(){return{type:"code",lang:null,meta:null,value:""}}function qe(){return{type:"inlineCode",value:""}}function ze(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function it(){return{type:"emphasis",children:[]}}function G(){return{type:"heading",depth:0,children:[]}}function Be(){return{type:"break"}}function St(){return{type:"html",value:""}}function lt(){return{type:"image",title:null,url:"",alt:null}}function Ee(){return{type:"link",title:null,url:"",children:[]}}function Ge(de){return{type:"list",ordered:de.type==="listOrdered",start:null,spread:de._spread,children:[]}}function We(de){return{type:"listItem",spread:de._spread,checked:null,children:[]}}function ut(){return{type:"paragraph",children:[]}}function st(){return{type:"strong",children:[]}}function Kt(){return{type:"text",value:""}}function Nt(){return{type:"thematicBreak"}}}function Ua(t){return{line:t.line,column:t.column,offset:t.offset}}function aT(t,e){let n=-1;for(;++n<e.length;){const r=e[n];Array.isArray(r)?aT(t,r):IU(t,r)}}function IU(t,e){let n;for(n in e)if(oT.call(e,n))switch(n){case"canContainEols":{const r=e[n];r&&t[n].push(...r);break}case"transforms":{const r=e[n];r&&t[n].push(...r);break}case"enter":case"exit":{const r=e[n];r&&Object.assign(t[n],r);break}}}function R4(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+uf({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+uf({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+uf({start:e.start,end:e.end})+") is still open")}function TU(t){const e=this;e.parser=n;function n(r){return AU(r,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function CU(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function NU(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function PU(t,e){const n=e.value?e.value+`
`:"",r={},i=e.lang?e.lang.split(/\s+/):[];i.length>0&&(r.className=["language-"+i[0]]);let s={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return e.meta&&(s.data={meta:e.meta}),t.patch(e,s),s=t.applyData(e,s),s={type:"element",tagName:"pre",properties:{},children:[s]},t.patch(e,s),s}function LU(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function RU(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function DU(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",r=String(e.identifier).toUpperCase(),i=oh(r.toLowerCase()),s=t.footnoteOrder.indexOf(r);let o,a=t.footnoteCounts.get(r);a===void 0?(a=0,t.footnoteOrder.push(r),o=t.footnoteOrder.length):o=s+1,a+=1,t.footnoteCounts.set(r,a);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(a>1?"-"+a:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};t.patch(e,l);const u={type:"element",tagName:"sup",properties:{},children:[l]};return t.patch(e,u),t.applyData(e,u)}function OU(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function MU(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function lT(t,e){const n=e.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+r}];const i=t.all(e),s=i[0];s&&s.type==="text"?s.value="["+s.value:i.unshift({type:"text",value:"["});const o=i[i.length-1];return o&&o.type==="text"?o.value+=r:i.push({type:"text",value:r}),i}function FU(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return lT(t,e);const i={src:oh(r.url||""),alt:e.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"img",properties:i,children:[]};return t.patch(e,s),t.applyData(e,s)}function jU(t,e){const n={src:oh(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,r),t.applyData(e,r)}function VU(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,r),t.applyData(e,r)}function BU(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return lT(t,e);const i={href:oh(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"a",properties:i,children:t.all(e)};return t.patch(e,s),t.applyData(e,s)}function UU(t,e){const n={href:oh(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function zU(t,e,n){const r=t.all(e),i=n?qU(n):uT(e),s={},o=[];if(typeof e.checked=="boolean"){const c=r[0];let d;c&&c.type==="element"&&c.tagName==="p"?d=c:(d={type:"element",tagName:"p",properties:{},children:[]},r.unshift(d)),d.children.length>0&&d.children.unshift({type:"text",value:" "}),d.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let a=-1;for(;++a<r.length;){const c=r[a];(i||a!==0||c.type!=="element"||c.tagName!=="p")&&o.push({type:"text",value:`
`}),c.type==="element"&&c.tagName==="p"&&!i?o.push(...c.children):o.push(c)}const l=r[r.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&o.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:s,children:o};return t.patch(e,u),t.applyData(e,u)}function qU(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let r=-1;for(;!e&&++r<n.length;)e=uT(n[r])}return e}function uT(t){const e=t.spread;return e??t.children.length>1}function $U(t,e){const n={},r=t.all(e);let i=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++i<r.length;){const o=r[i];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const s={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(r,!0)};return t.patch(e,s),t.applyData(e,s)}function HU(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function WU(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function GU(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function KU(t,e){const n=t.all(e),r=n.shift(),i=[];if(r){const o={type:"element",tagName:"thead",properties:{},children:t.wrap([r],!0)};t.patch(e.children[0],o),i.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},a=dv(e.children[1]),l=zI(e.children[e.children.length-1]);a&&l&&(o.position={start:a,end:l}),i.push(o)}const s={type:"element",tagName:"table",properties:{},children:t.wrap(i,!0)};return t.patch(e,s),t.applyData(e,s)}function QU(t,e,n){const r=n?n.children:void 0,s=(r?r.indexOf(e):1)===0?"th":"td",o=n&&n.type==="table"?n.align:void 0,a=o?o.length:e.children.length;let l=-1;const u=[];for(;++l<a;){const d=e.children[l],g={},p=o?o[l]:void 0;p&&(g.align=p);let _={type:"element",tagName:s,properties:g,children:[]};d&&(_.children=t.all(d),t.patch(d,_),_=t.applyData(d,_)),u.push(_)}const c={type:"element",tagName:"tr",properties:{},children:t.wrap(u,!0)};return t.patch(e,c),t.applyData(e,c)}function YU(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const D4=9,O4=32;function XU(t){const e=String(t),n=/\r?\n|\r/g;let r=n.exec(e),i=0;const s=[];for(;r;)s.push(M4(e.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(e);return s.push(M4(e.slice(i),i>0,!1)),s.join("")}function M4(t,e,n){let r=0,i=t.length;if(e){let s=t.codePointAt(r);for(;s===D4||s===O4;)r++,s=t.codePointAt(r)}if(n){let s=t.codePointAt(i-1);for(;s===D4||s===O4;)i--,s=t.codePointAt(i-1)}return i>r?t.slice(r,i):""}function JU(t,e){const n={type:"text",value:XU(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function ZU(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const ez={blockquote:CU,break:NU,code:PU,delete:LU,emphasis:RU,footnoteReference:DU,heading:OU,html:MU,imageReference:FU,image:jU,inlineCode:VU,linkReference:BU,link:UU,listItem:zU,list:$U,paragraph:HU,root:WU,strong:GU,table:KU,tableCell:YU,tableRow:QU,text:JU,thematicBreak:ZU,toml:Zd,yaml:Zd,definition:Zd,footnoteDefinition:Zd};function Zd(){}const cT=-1,Dg=0,hf=1,Mm=2,_v=3,bv=4,xv=5,kv=6,hT=7,fT=8,F4=typeof self=="object"?self:globalThis,tz=(t,e)=>{const n=(i,s)=>(t.set(s,i),i),r=i=>{if(t.has(i))return t.get(i);const[s,o]=e[i];switch(s){case Dg:case cT:return n(o,i);case hf:{const a=n([],i);for(const l of o)a.push(r(l));return a}case Mm:{const a=n({},i);for(const[l,u]of o)a[r(l)]=r(u);return a}case _v:return n(new Date(o),i);case bv:{const{source:a,flags:l}=o;return n(new RegExp(a,l),i)}case xv:{const a=n(new Map,i);for(const[l,u]of o)a.set(r(l),r(u));return a}case kv:{const a=n(new Set,i);for(const l of o)a.add(r(l));return a}case hT:{const{name:a,message:l}=o;return n(new F4[a](l),i)}case fT:return n(BigInt(o),i);case"BigInt":return n(Object(BigInt(o)),i);case"ArrayBuffer":return n(new Uint8Array(o).buffer,o);case"DataView":{const{buffer:a}=new Uint8Array(o);return n(new DataView(a),o)}}return n(new F4[s](o),i)};return r},j4=t=>tz(new Map,t)(0),Hu="",{toString:nz}={},{keys:rz}=Object,Mh=t=>{const e=typeof t;if(e!=="object"||!t)return[Dg,e];const n=nz.call(t).slice(8,-1);switch(n){case"Array":return[hf,Hu];case"Object":return[Mm,Hu];case"Date":return[_v,Hu];case"RegExp":return[bv,Hu];case"Map":return[xv,Hu];case"Set":return[kv,Hu];case"DataView":return[hf,n]}return n.includes("Array")?[hf,n]:n.includes("Error")?[hT,n]:[Mm,n]},ep=([t,e])=>t===Dg&&(e==="function"||e==="symbol"),iz=(t,e,n,r)=>{const i=(o,a)=>{const l=r.push(o)-1;return n.set(a,l),l},s=o=>{if(n.has(o))return n.get(o);let[a,l]=Mh(o);switch(a){case Dg:{let c=o;switch(l){case"bigint":a=fT,c=o.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+l);c=null;break;case"undefined":return i([cT],o)}return i([a,c],o)}case hf:{if(l){let g=o;return l==="DataView"?g=new Uint8Array(o.buffer):l==="ArrayBuffer"&&(g=new Uint8Array(o)),i([l,[...g]],o)}const c=[],d=i([a,c],o);for(const g of o)c.push(s(g));return d}case Mm:{if(l)switch(l){case"BigInt":return i([l,o.toString()],o);case"Boolean":case"Number":case"String":return i([l,o.valueOf()],o)}if(e&&"toJSON"in o)return s(o.toJSON());const c=[],d=i([a,c],o);for(const g of rz(o))(t||!ep(Mh(o[g])))&&c.push([s(g),s(o[g])]);return d}case _v:return i([a,o.toISOString()],o);case bv:{const{source:c,flags:d}=o;return i([a,{source:c,flags:d}],o)}case xv:{const c=[],d=i([a,c],o);for(const[g,p]of o)(t||!(ep(Mh(g))||ep(Mh(p))))&&c.push([s(g),s(p)]);return d}case kv:{const c=[],d=i([a,c],o);for(const g of o)(t||!ep(Mh(g)))&&c.push(s(g));return d}}const{message:u}=o;return i([a,{name:l,message:u}],o)};return s},V4=(t,{json:e,lossy:n}={})=>{const r=[];return iz(!(e||n),!!e,new Map,r)(t),r},Fm=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?j4(V4(t,e)):structuredClone(t):(t,e)=>j4(V4(t,e));function sz(t,e){const n=[{type:"text",value:""}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function oz(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function az(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||sz,r=t.options.footnoteBackLabel||oz,i=t.options.footnoteLabel||"Footnotes",s=t.options.footnoteLabelTagName||"h2",o=t.options.footnoteLabelProperties||{className:["sr-only"]},a=[];let l=-1;for(;++l<t.footnoteOrder.length;){const u=t.footnoteById.get(t.footnoteOrder[l]);if(!u)continue;const c=t.all(u),d=String(u.identifier).toUpperCase(),g=oh(d.toLowerCase());let p=0;const _=[],k=t.footnoteCounts.get(d);for(;k!==void 0&&++p<=k;){_.length>0&&_.push({type:"text",value:" "});let C=typeof n=="string"?n:n(l,p);typeof C=="string"&&(C={type:"text",value:C}),_.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+g+(p>1?"-"+p:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(l,p),className:["data-footnote-backref"]},children:Array.isArray(C)?C:[C]})}const D=c[c.length-1];if(D&&D.type==="element"&&D.tagName==="p"){const C=D.children[D.children.length-1];C&&C.type==="text"?C.value+=" ":D.children.push({type:"text",value:" "}),D.children.push(..._)}else c.push(..._);const w={type:"element",tagName:"li",properties:{id:e+"fn-"+g},children:t.wrap(c,!0)};t.patch(u,w),a.push(w)}if(a.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...Fm(o),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(a,!0)},{type:"text",value:`
`}]}}const Og=function(t){if(t==null)return hz;if(typeof t=="function")return Mg(t);if(typeof t=="object")return Array.isArray(t)?lz(t):uz(t);if(typeof t=="string")return cz(t);throw new Error("Expected function, string, or object as test")};function lz(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=Og(t[n]);return Mg(r);function r(...i){let s=-1;for(;++s<e.length;)if(e[s].apply(this,i))return!0;return!1}}function uz(t){const e=t;return Mg(n);function n(r){const i=r;let s;for(s in t)if(i[s]!==e[s])return!1;return!0}}function cz(t){return Mg(e);function e(n){return n&&n.type===t}}function Mg(t){return e;function e(n,r,i){return!!(fz(n)&&t.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function hz(){return!0}function fz(t){return t!==null&&typeof t=="object"&&"type"in t}const dT=[],dz=!0,ty=!1,pz="skip";function pT(t,e,n,r){let i;typeof e=="function"&&typeof n!="function"?(r=n,n=e):i=e;const s=Og(i),o=r?-1:1;a(t,void 0,[])();function a(l,u,c){const d=l&&typeof l=="object"?l:{};if(typeof d.type=="string"){const p=typeof d.tagName=="string"?d.tagName:typeof d.name=="string"?d.name:void 0;Object.defineProperty(g,"name",{value:"node ("+(l.type+(p?"<"+p+">":""))+")"})}return g;function g(){let p=dT,_,k,D;if((!e||s(l,u,c[c.length-1]||void 0))&&(p=mz(n(l,c)),p[0]===ty))return p;if("children"in l&&l.children){const w=l;if(w.children&&p[0]!==pz)for(k=(r?w.children.length:-1)+o,D=c.concat(w);k>-1&&k<w.children.length;){const C=w.children[k];if(_=a(C,k,D)(),_[0]===ty)return _;k=typeof _[1]=="number"?_[1]:k+o}}return p}}}function mz(t){return Array.isArray(t)?t:typeof t=="number"?[dz,t]:t==null?dT:[t]}function Sv(t,e,n,r){let i,s,o;typeof e=="function"&&typeof n!="function"?(s=void 0,o=e,i=n):(s=e,o=n,i=r),pT(t,s,a,i);function a(l,u){const c=u[u.length-1],d=c?c.children.indexOf(l):void 0;return o(l,d,c)}}const ny={}.hasOwnProperty,gz={};function yz(t,e){const n=e||gz,r=new Map,i=new Map,s=new Map,o={...ez,...n.handlers},a={all:u,applyData:wz,definitionById:r,footnoteById:i,footnoteCounts:s,footnoteOrder:[],handlers:o,one:l,options:n,patch:vz,wrap:bz};return Sv(t,function(c){if(c.type==="definition"||c.type==="footnoteDefinition"){const d=c.type==="definition"?r:i,g=String(c.identifier).toUpperCase();d.has(g)||d.set(g,c)}}),a;function l(c,d){const g=c.type,p=a.handlers[g];if(ny.call(a.handlers,g)&&p)return p(a,c,d);if(a.options.passThrough&&a.options.passThrough.includes(g)){if("children"in c){const{children:k,...D}=c,w=Fm(D);return w.children=a.all(c),w}return Fm(c)}return(a.options.unknownHandler||_z)(a,c,d)}function u(c){const d=[];if("children"in c){const g=c.children;let p=-1;for(;++p<g.length;){const _=a.one(g[p],c);if(_){if(p&&g[p-1].type==="break"&&(!Array.isArray(_)&&_.type==="text"&&(_.value=B4(_.value)),!Array.isArray(_)&&_.type==="element")){const k=_.children[0];k&&k.type==="text"&&(k.value=B4(k.value))}Array.isArray(_)?d.push(..._):d.push(_)}}}return d}}function vz(t,e){t.position&&(e.position=oV(t))}function wz(t,e){let n=e;if(t&&t.data){const r=t.data.hName,i=t.data.hChildren,s=t.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const o="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:o}}n.type==="element"&&s&&Object.assign(n.properties,Fm(s)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function _z(t,e){const n=e.data||{},r="value"in e&&!(ny.call(n,"hProperties")||ny.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function bz(t,e){const n=[];let r=-1;for(e&&n.push({type:"text",value:`
`});++r<t.length;)r&&n.push({type:"text",value:`
`}),n.push(t[r]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function B4(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function U4(t,e){const n=yz(t,e),r=n.one(t,void 0),i=az(n),s=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&s.children.push({type:"text",value:`
`},i),s}function xz(t,e){return t&&"run"in t?async function(n,r){const i=U4(n,{file:r,...e});await t.run(i,r)}:function(n,r){return U4(n,{file:r,...t||e})}}function z4(t){if(t)throw t}var Op=Object.prototype.hasOwnProperty,mT=Object.prototype.toString,q4=Object.defineProperty,$4=Object.getOwnPropertyDescriptor,H4=function(e){return typeof Array.isArray=="function"?Array.isArray(e):mT.call(e)==="[object Array]"},W4=function(e){if(!e||mT.call(e)!=="[object Object]")return!1;var n=Op.call(e,"constructor"),r=e.constructor&&e.constructor.prototype&&Op.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!n&&!r)return!1;var i;for(i in e);return typeof i>"u"||Op.call(e,i)},G4=function(e,n){q4&&n.name==="__proto__"?q4(e,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):e[n.name]=n.newValue},K4=function(e,n){if(n==="__proto__")if(Op.call(e,n)){if($4)return $4(e,n).value}else return;return e[n]},kz=function t(){var e,n,r,i,s,o,a=arguments[0],l=1,u=arguments.length,c=!1;for(typeof a=="boolean"&&(c=a,a=arguments[1]||{},l=2),(a==null||typeof a!="object"&&typeof a!="function")&&(a={});l<u;++l)if(e=arguments[l],e!=null)for(n in e)r=K4(a,n),i=K4(e,n),a!==i&&(c&&i&&(W4(i)||(s=H4(i)))?(s?(s=!1,o=r&&H4(r)?r:[]):o=r&&W4(r)?r:{},G4(a,{name:n,newValue:t(c,o,i)})):typeof i<"u"&&G4(a,{name:n,newValue:i}));return a};const G1=yy(kz);function ry(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function Sz(){const t=[],e={run:n,use:r};return e;function n(...i){let s=-1;const o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);a(null,...i);function a(l,...u){const c=t[++s];let d=-1;if(l){o(l);return}for(;++d<i.length;)(u[d]===null||u[d]===void 0)&&(u[d]=i[d]);i=u,c?Az(c,a)(...u):o(null,...u)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return t.push(i),e}}function Az(t,e){let n;return r;function r(...o){const a=t.length>o.length;let l;a&&o.push(i);try{l=t.apply(this,o)}catch(u){const c=u;if(a&&n)throw c;return i(c)}a||(l&&l.then&&typeof l.then=="function"?l.then(s,i):l instanceof Error?i(l):s(l))}function i(o,...a){n||(n=!0,e(o,...a))}function s(o){i(null,o)}}const bo={basename:Ez,dirname:Iz,extname:Tz,join:Cz,sep:"/"};function Ez(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');ud(t);let n=0,r=-1,i=t.length,s;if(e===void 0||e.length===0||e.length>t.length){for(;i--;)if(t.codePointAt(i)===47){if(s){n=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":t.slice(n,r)}if(e===t)return"";let o=-1,a=e.length-1;for(;i--;)if(t.codePointAt(i)===47){if(s){n=i+1;break}}else o<0&&(s=!0,o=i+1),a>-1&&(t.codePointAt(i)===e.codePointAt(a--)?a<0&&(r=i):(a=-1,r=o));return n===r?r=o:r<0&&(r=t.length),t.slice(n,r)}function Iz(t){if(ud(t),t.length===0)return".";let e=-1,n=t.length,r;for(;--n;)if(t.codePointAt(n)===47){if(r){e=n;break}}else r||(r=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function Tz(t){ud(t);let e=t.length,n=-1,r=0,i=-1,s=0,o;for(;e--;){const a=t.codePointAt(e);if(a===47){if(o){r=e+1;break}continue}n<0&&(o=!0,n=e+1),a===46?i<0?i=e:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||n<0||s===0||s===1&&i===n-1&&i===r+1?"":t.slice(i,n)}function Cz(...t){let e=-1,n;for(;++e<t.length;)ud(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":Nz(n)}function Nz(t){ud(t);const e=t.codePointAt(0)===47;let n=Pz(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function Pz(t,e){let n="",r=0,i=-1,s=0,o=-1,a,l;for(;++o<=t.length;){if(o<t.length)a=t.codePointAt(o);else{if(a===47)break;a=47}if(a===47){if(!(i===o-1||s===1))if(i!==o-1&&s===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=o,s=0;continue}}else if(n.length>0){n="",r=0,i=o,s=0;continue}}e&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+t.slice(i+1,o):n=t.slice(i+1,o),r=o-i-1;i=o,s=0}else a===46&&s>-1?s++:s=-1}return n}function ud(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const Lz={cwd:Rz};function Rz(){return"/"}function iy(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function Dz(t){if(typeof t=="string")t=new URL(t);else if(!iy(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return Oz(t)}function Oz(t){if(t.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const r=e.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(e)}const K1=["history","path","basename","stem","extname","dirname"];class gT{constructor(e){let n;e?iy(e)?n={path:e}:typeof e=="string"||Mz(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":Lz.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<K1.length;){const s=K1[r];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let i;for(i in n)K1.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?bo.basename(this.path):void 0}set basename(e){Y1(e,"basename"),Q1(e,"basename"),this.path=bo.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?bo.dirname(this.path):void 0}set dirname(e){Q4(this.basename,"dirname"),this.path=bo.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?bo.extname(this.path):void 0}set extname(e){if(Q1(e,"extname"),Q4(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=bo.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){iy(e)&&(e=Dz(e)),Y1(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?bo.basename(this.path,this.extname):void 0}set stem(e){Y1(e,"stem"),Q1(e,"stem"),this.path=bo.join(this.dirname||"",e+(this.extname||""))}fail(e,n,r){const i=this.message(e,n,r);throw i.fatal=!0,i}info(e,n,r){const i=this.message(e,n,r);return i.fatal=void 0,i}message(e,n,r){const i=new Qr(e,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function Q1(t,e){if(t&&t.includes(bo.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+bo.sep+"`")}function Y1(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function Q4(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function Mz(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const Fz=function(t){const r=this.constructor.prototype,i=r[t],s=function(){return i.apply(s,arguments)};return Object.setPrototypeOf(s,r),s},jz={}.hasOwnProperty;class Av extends Fz{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=Sz()}copy(){const e=new Av;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];e.use(...r)}return e.data(G1(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(Z1("data",this.frozen),this.namespace[e]=n,this):jz.call(this.namespace,e)&&this.namespace[e]||void 0:e?(Z1("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(e,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=tp(e),r=this.parser||this.Parser;return X1("parse",r),r(String(n),n)}process(e,n){const r=this;return this.freeze(),X1("process",this.parser||this.Parser),J1("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(s,o){const a=tp(e),l=r.parse(a);r.run(l,a,function(c,d,g){if(c||!d||!g)return u(c);const p=d,_=r.stringify(p,g);Uz(_)?g.value=_:g.result=_,u(c,g)});function u(c,d){c||!d?o(c):s?s(d):n(void 0,d)}}}processSync(e){let n=!1,r;return this.freeze(),X1("processSync",this.parser||this.Parser),J1("processSync",this.compiler||this.Compiler),this.process(e,i),X4("processSync","process",n),r;function i(s,o){n=!0,z4(s),r=o}}run(e,n,r){Y4(e),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?s(void 0,r):new Promise(s);function s(o,a){const l=tp(n);i.run(e,l,u);function u(c,d,g){const p=d||e;c?a(c):o?o(p):r(void 0,p,g)}}}runSync(e,n){let r=!1,i;return this.run(e,n,s),X4("runSync","run",r),i;function s(o,a){z4(o),i=a,r=!0}}stringify(e,n){this.freeze();const r=tp(n),i=this.compiler||this.Compiler;return J1("stringify",i),Y4(e),i(e,r)}use(e,...n){const r=this.attachers,i=this.namespace;if(Z1("use",this.frozen),e!=null)if(typeof e=="function")l(e,n);else if(typeof e=="object")Array.isArray(e)?a(e):o(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function s(u){if(typeof u=="function")l(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[c,...d]=u;l(c,d)}else o(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function o(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");a(u.plugins),u.settings&&(i.settings=G1(!0,i.settings,u.settings))}function a(u){let c=-1;if(u!=null)if(Array.isArray(u))for(;++c<u.length;){const d=u[c];s(d)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function l(u,c){let d=-1,g=-1;for(;++d<r.length;)if(r[d][0]===u){g=d;break}if(g===-1)r.push([u,...c]);else if(c.length>0){let[p,..._]=c;const k=r[g][1];ry(k)&&ry(p)&&(p=G1(!0,k,p)),r[g]=[u,p,..._]}}}}const Vz=new Av().freeze();function X1(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function J1(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function Z1(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function Y4(t){if(!ry(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function X4(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function tp(t){return Bz(t)?t:new gT(t)}function Bz(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function Uz(t){return typeof t=="string"||zz(t)}function zz(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const qz="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",J4=[],Z4={allowDangerousHtml:!0},$z=/^(https?|ircs?|mailto|xmpp)$/i,Hz=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function yT(t){const e=Wz(t),n=Gz(t);return Kz(e.runSync(e.parse(n),n),t)}function Wz(t){const e=t.rehypePlugins||J4,n=t.remarkPlugins||J4,r=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...Z4}:Z4;return Vz().use(TU).use(n).use(xz,r).use(e)}function Gz(t){const e=t.children||"",n=new gT;return typeof e=="string"&&(n.value=e),n}function Kz(t,e){const n=e.allowedElements,r=e.allowElement,i=e.components,s=e.disallowedElements,o=e.skipHtml,a=e.unwrapDisallowed,l=e.urlTransform||Qz;for(const c of Hz)Object.hasOwn(e,c.from)&&(""+c.from+(c.to?"use `"+c.to+"` instead":"remove it")+qz+c.id,void 0);return Sv(t,u),hV(t,{Fragment:oe.Fragment,components:i,ignoreInvalidStyle:!0,jsx:oe.jsx,jsxs:oe.jsxs,passKeys:!0,passNode:!0});function u(c,d,g){if(c.type==="raw"&&g&&typeof d=="number")return o?g.children.splice(d,1):g.children[d]={type:"text",value:c.value},d;if(c.type==="element"){let p;for(p in $1)if(Object.hasOwn($1,p)&&Object.hasOwn(c.properties,p)){const _=c.properties[p],k=$1[p];(k===null||k.includes(c.tagName))&&(c.properties[p]=l(String(_||""),p,c))}}if(c.type==="element"){let p=n?!n.includes(c.tagName):s?s.includes(c.tagName):!1;if(!p&&r&&typeof d=="number"&&(p=!r(c,d,g)),p&&g&&typeof d=="number")return a&&c.children?g.children.splice(d,1,...c.children):g.children.splice(d,1),d}}}function Qz(t){const e=t.indexOf(":"),n=t.indexOf("?"),r=t.indexOf("#"),i=t.indexOf("/");return e===-1||i!==-1&&e>i||n!==-1&&e>n||r!==-1&&e>r||$z.test(t.slice(0,e))?t:""}function Yz({note:t,onEdit:e,onDelete:n,onToggleFavorite:r,index:i}){var c,d,g;const s=new Date(t.createdAt).toLocaleDateString("es-ES",{month:"short",day:"numeric",year:"numeric"}),o=t.reminder&&new Date(t.reminder)>new Date,a=o?new Date(t.reminder).toLocaleDateString("es-ES",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):null,l=((c=t.todos)==null?void 0:c.filter(p=>p.completed).length)||0,u=((d=t.todos)==null?void 0:d.length)||0;return oe.jsxs("div",{className:`note-card animate-fade-in ${o?"has-reminder":""}`,style:{animationDelay:`${i*.05}s`},onClick:()=>e(t),children:[oe.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[oe.jsx("span",{className:"note-date",children:s}),oe.jsx("button",{className:"btn-icon",onClick:p=>{p.stopPropagation(),r(t.id)},style:{color:t.isFavorite?"#fbbf24":"inherit"},children:oe.jsx(jS,{size:16,fill:t.isFavorite?"#fbbf24":"none"})})]}),oe.jsx("h3",{className:"note-title",children:t.title||"Sin ttulo"}),oe.jsx("div",{className:"note-preview",children:oe.jsx(yT,{children:((g=t.content)==null?void 0:g.substring(0,200))||"Sin contenido..."})}),t.category&&t.category!=="general"&&oe.jsx("div",{style:{display:"flex",gap:"0.5rem",marginTop:"0.5rem"},children:oe.jsxs("span",{className:"category-badge",style:{fontSize:"0.75rem",padding:"0.25rem 0.75rem"},children:[" ",t.category]})}),u>0&&oe.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.875rem",color:"var(--text-secondary)"},children:[oe.jsx(FS,{size:16}),oe.jsxs("span",{children:[l,"/",u," completadas"]})]}),o&&oe.jsxs("div",{className:"reminder-badge",children:[oe.jsx(OS,{size:14}),a]}),oe.jsx("div",{className:"note-tags",children:t.tags&&t.tags.map(p=>oe.jsx("span",{className:"tag",children:p},p))}),oe.jsx("div",{style:{display:"flex",justifyContent:"flex-end",gap:"0.5rem",marginTop:"1rem"},children:oe.jsx("button",{className:"btn-icon",onClick:p=>{p.stopPropagation(),confirm("Ests seguro de eliminar esta nota?")&&n(t.id)},title:"Eliminar",children:oe.jsx(VS,{size:16})})})]})}function e3(t,e){const n=String(t);if(typeof e!="string")throw new TypeError("Expected character");let r=0,i=n.indexOf(e);for(;i!==-1;)r++,i=n.indexOf(e,i+e.length);return r}function Xz(t){if(typeof t!="string")throw new TypeError("Expected a string");return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function Jz(t,e,n){const i=Og((n||{}).ignore||[]),s=Zz(e);let o=-1;for(;++o<s.length;)pT(t,"text",a);function a(u,c){let d=-1,g;for(;++d<c.length;){const p=c[d],_=g?g.children:void 0;if(i(p,_?_.indexOf(p):void 0,g))return;g=p}if(g)return l(u,c)}function l(u,c){const d=c[c.length-1],g=s[o][0],p=s[o][1];let _=0;const D=d.children.indexOf(u);let w=!1,C=[];g.lastIndex=0;let L=g.exec(u.value);for(;L;){const V=L.index,X={index:L.index,input:L.input,stack:[...c,u]};let W=p(...L,X);if(typeof W=="string"&&(W=W.length>0?{type:"text",value:W}:void 0),W===!1?g.lastIndex=V+1:(_!==V&&C.push({type:"text",value:u.value.slice(_,V)}),Array.isArray(W)?C.push(...W):W&&C.push(W),_=V+L[0].length,w=!0),!g.global)break;L=g.exec(u.value)}return w?(_<u.value.length&&C.push({type:"text",value:u.value.slice(_)}),d.children.splice(D,1,...C)):C=[u],D+C.length}}function Zz(t){const e=[];if(!Array.isArray(t))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!t[0]||Array.isArray(t[0])?t:[t];let r=-1;for(;++r<n.length;){const i=n[r];e.push([eq(i[0]),tq(i[1])])}return e}function eq(t){return typeof t=="string"?new RegExp(Xz(t),"g"):t}function tq(t){return typeof t=="function"?t:function(){return t}}const e0="phrasing",t0=["autolink","link","image","label"];function nq(){return{transforms:[uq],enter:{literalAutolink:iq,literalAutolinkEmail:n0,literalAutolinkHttp:n0,literalAutolinkWww:n0},exit:{literalAutolink:lq,literalAutolinkEmail:aq,literalAutolinkHttp:sq,literalAutolinkWww:oq}}}function rq(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:e0,notInConstruct:t0},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:e0,notInConstruct:t0},{character:":",before:"[ps]",after:"\\/",inConstruct:e0,notInConstruct:t0}]}}function iq(t){this.enter({type:"link",title:null,url:"",children:[]},t)}function n0(t){this.config.enter.autolinkProtocol.call(this,t)}function sq(t){this.config.exit.autolinkProtocol.call(this,t)}function oq(t){this.config.exit.data.call(this,t);const e=this.stack[this.stack.length-1];e.type,e.url="http://"+this.sliceSerialize(t)}function aq(t){this.config.exit.autolinkEmail.call(this,t)}function lq(t){this.exit(t)}function uq(t){Jz(t,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,cq],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),hq]],{ignore:["link","linkReference"]})}function cq(t,e,n,r,i){let s="";if(!vT(i)||(/^w/i.test(e)&&(n=e+n,e="",s="http://"),!fq(n)))return!1;const o=dq(n+r);if(!o[0])return!1;const a={type:"link",title:null,url:s+e+o[0],children:[{type:"text",value:e+o[0]}]};return o[1]?[a,{type:"text",value:o[1]}]:a}function hq(t,e,n,r){return!vT(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+e+"@"+n,children:[{type:"text",value:e+"@"+n}]}}function fq(t){const e=t.split(".");return!(e.length<2||e[e.length-1]&&(/_/.test(e[e.length-1])||!/[a-zA-Z\d]/.test(e[e.length-1]))||e[e.length-2]&&(/_/.test(e[e.length-2])||!/[a-zA-Z\d]/.test(e[e.length-2])))}function dq(t){const e=/[!"&'),.:;<>?\]}]+$/.exec(t);if(!e)return[t,void 0];t=t.slice(0,e.index);let n=e[0],r=n.indexOf(")");const i=e3(t,"(");let s=e3(t,")");for(;r!==-1&&i>s;)t+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),s++;return[t,n]}function vT(t,e){const n=t.input.charCodeAt(t.index-1);return(t.index===0||wu(n)||Lg(n))&&(!e||n!==47)}wT.peek=xq;function pq(){this.buffer()}function mq(t){this.enter({type:"footnoteReference",identifier:"",label:""},t)}function gq(){this.buffer()}function yq(t){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},t)}function vq(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Qs(this.sliceSerialize(t)).toLowerCase(),n.label=e}function wq(t){this.exit(t)}function _q(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Qs(this.sliceSerialize(t)).toLowerCase(),n.label=e}function bq(t){this.exit(t)}function xq(){return"["}function wT(t,e,n,r){const i=n.createTracker(r);let s=i.move("[^");const o=n.enter("footnoteReference"),a=n.enter("reference");return s+=i.move(n.safe(n.associationId(t),{after:"]",before:s})),a(),o(),s+=i.move("]"),s}function kq(){return{enter:{gfmFootnoteCallString:pq,gfmFootnoteCall:mq,gfmFootnoteDefinitionLabelString:gq,gfmFootnoteDefinition:yq},exit:{gfmFootnoteCallString:vq,gfmFootnoteCall:wq,gfmFootnoteDefinitionLabelString:_q,gfmFootnoteDefinition:bq}}}function Sq(t){let e=!1;return t&&t.firstLineBlank&&(e=!0),{handlers:{footnoteDefinition:n,footnoteReference:wT},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,i,s,o){const a=s.createTracker(o);let l=a.move("[^");const u=s.enter("footnoteDefinition"),c=s.enter("label");return l+=a.move(s.safe(s.associationId(r),{before:l,after:"]"})),c(),l+=a.move("]:"),r.children&&r.children.length>0&&(a.shift(4),l+=a.move((e?`
`:" ")+s.indentLines(s.containerFlow(r,a.current()),e?_T:Aq))),u(),l}}function Aq(t,e,n){return e===0?t:_T(t,e,n)}function _T(t,e,n){return(n?"":"    ")+t}const Eq=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];bT.peek=Pq;function Iq(){return{canContainEols:["delete"],enter:{strikethrough:Cq},exit:{strikethrough:Nq}}}function Tq(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:Eq}],handlers:{delete:bT}}}function Cq(t){this.enter({type:"delete",children:[]},t)}function Nq(t){this.exit(t)}function bT(t,e,n,r){const i=n.createTracker(r),s=n.enter("strikethrough");let o=i.move("~~");return o+=n.containerPhrasing(t,{...i.current(),before:o,after:"~"}),o+=i.move("~~"),s(),o}function Pq(){return"~"}function Lq(t){return t.length}function Rq(t,e){const n=e||{},r=(n.align||[]).concat(),i=n.stringLength||Lq,s=[],o=[],a=[],l=[];let u=0,c=-1;for(;++c<t.length;){const k=[],D=[];let w=-1;for(t[c].length>u&&(u=t[c].length);++w<t[c].length;){const C=Dq(t[c][w]);if(n.alignDelimiters!==!1){const L=i(C);D[w]=L,(l[w]===void 0||L>l[w])&&(l[w]=L)}k.push(C)}o[c]=k,a[c]=D}let d=-1;if(typeof r=="object"&&"length"in r)for(;++d<u;)s[d]=t3(r[d]);else{const k=t3(r);for(;++d<u;)s[d]=k}d=-1;const g=[],p=[];for(;++d<u;){const k=s[d];let D="",w="";k===99?(D=":",w=":"):k===108?D=":":k===114&&(w=":");let C=n.alignDelimiters===!1?1:Math.max(1,l[d]-D.length-w.length);const L=D+"-".repeat(C)+w;n.alignDelimiters!==!1&&(C=D.length+C+w.length,C>l[d]&&(l[d]=C),p[d]=C),g[d]=L}o.splice(1,0,g),a.splice(1,0,p),c=-1;const _=[];for(;++c<o.length;){const k=o[c],D=a[c];d=-1;const w=[];for(;++d<u;){const C=k[d]||"";let L="",V="";if(n.alignDelimiters!==!1){const X=l[d]-(D[d]||0),W=s[d];W===114?L=" ".repeat(X):W===99?X%2?(L=" ".repeat(X/2+.5),V=" ".repeat(X/2-.5)):(L=" ".repeat(X/2),V=L):V=" ".repeat(X)}n.delimiterStart!==!1&&!d&&w.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&C==="")&&(n.delimiterStart!==!1||d)&&w.push(" "),n.alignDelimiters!==!1&&w.push(L),w.push(C),n.alignDelimiters!==!1&&w.push(V),n.padding!==!1&&w.push(" "),(n.delimiterEnd!==!1||d!==u-1)&&w.push("|")}_.push(n.delimiterEnd===!1?w.join("").replace(/ +$/,""):w.join(""))}return _.join(`
`)}function Dq(t){return t==null?"":String(t)}function t3(t){const e=typeof t=="string"?t.codePointAt(0):0;return e===67||e===99?99:e===76||e===108?108:e===82||e===114?114:0}function Oq(t,e,n,r){const i=n.enter("blockquote"),s=n.createTracker(r);s.move("> "),s.shift(2);const o=n.indentLines(n.containerFlow(t,s.current()),Mq);return i(),o}function Mq(t,e,n){return">"+(n?"":" ")+t}function Fq(t,e){return n3(t,e.inConstruct,!0)&&!n3(t,e.notInConstruct,!1)}function n3(t,e,n){if(typeof e=="string"&&(e=[e]),!e||e.length===0)return n;let r=-1;for(;++r<e.length;)if(t.includes(e[r]))return!0;return!1}function r3(t,e,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&Fq(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function jq(t,e){const n=String(t);let r=n.indexOf(e),i=r,s=0,o=0;if(typeof e!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++s>o&&(o=s):s=1,i=r+e.length,r=n.indexOf(e,i);return o}function Vq(t,e){return!!(e.options.fences===!1&&t.value&&!t.lang&&/[^ \r\n]/.test(t.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(t.value))}function Bq(t){const e=t.options.fence||"`";if(e!=="`"&&e!=="~")throw new Error("Cannot serialize code with `"+e+"` for `options.fence`, expected `` ` `` or `~`");return e}function Uq(t,e,n,r){const i=Bq(n),s=t.value||"",o=i==="`"?"GraveAccent":"Tilde";if(Vq(t,n)){const d=n.enter("codeIndented"),g=n.indentLines(s,zq);return d(),g}const a=n.createTracker(r),l=i.repeat(Math.max(jq(s,i)+1,3)),u=n.enter("codeFenced");let c=a.move(l);if(t.lang){const d=n.enter(`codeFencedLang${o}`);c+=a.move(n.safe(t.lang,{before:c,after:" ",encode:["`"],...a.current()})),d()}if(t.lang&&t.meta){const d=n.enter(`codeFencedMeta${o}`);c+=a.move(" "),c+=a.move(n.safe(t.meta,{before:c,after:`
`,encode:["`"],...a.current()})),d()}return c+=a.move(`
`),s&&(c+=a.move(s+`
`)),c+=a.move(l),u(),c}function zq(t,e,n){return(n?"":"    ")+t}function Ev(t){const e=t.options.quote||'"';if(e!=='"'&&e!=="'")throw new Error("Cannot serialize title with `"+e+"` for `options.quote`, expected `\"`, or `'`");return e}function qq(t,e,n,r){const i=Ev(n),s=i==='"'?"Quote":"Apostrophe",o=n.enter("definition");let a=n.enter("label");const l=n.createTracker(r);let u=l.move("[");return u+=l.move(n.safe(n.associationId(t),{before:u,after:"]",...l.current()})),u+=l.move("]: "),a(),!t.url||/[\0- \u007F]/.test(t.url)?(a=n.enter("destinationLiteral"),u+=l.move("<"),u+=l.move(n.safe(t.url,{before:u,after:">",...l.current()})),u+=l.move(">")):(a=n.enter("destinationRaw"),u+=l.move(n.safe(t.url,{before:u,after:t.title?" ":`
`,...l.current()}))),a(),t.title&&(a=n.enter(`title${s}`),u+=l.move(" "+i),u+=l.move(n.safe(t.title,{before:u,after:i,...l.current()})),u+=l.move(i),a()),o(),u}function $q(t){const e=t.options.emphasis||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize emphasis with `"+e+"` for `options.emphasis`, expected `*`, or `_`");return e}function Uf(t){return"&#x"+t.toString(16).toUpperCase()+";"}function jm(t,e,n){const r=Gc(t),i=Gc(e);return r===void 0?i===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}xT.peek=Hq;function xT(t,e,n,r){const i=$q(n),s=n.enter("emphasis"),o=n.createTracker(r),a=o.move(i);let l=o.move(n.containerPhrasing(t,{after:i,before:a,...o.current()}));const u=l.charCodeAt(0),c=jm(r.before.charCodeAt(r.before.length-1),u,i);c.inside&&(l=Uf(u)+l.slice(1));const d=l.charCodeAt(l.length-1),g=jm(r.after.charCodeAt(0),d,i);g.inside&&(l=l.slice(0,-1)+Uf(d));const p=o.move(i);return s(),n.attentionEncodeSurroundingInfo={after:g.outside,before:c.outside},a+l+p}function Hq(t,e,n){return n.options.emphasis||"*"}function Wq(t,e){let n=!1;return Sv(t,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,ty}),!!((!t.depth||t.depth<3)&&yv(t)&&(e.options.setext||n))}function Gq(t,e,n,r){const i=Math.max(Math.min(6,t.depth||1),1),s=n.createTracker(r);if(Wq(t,n)){const c=n.enter("headingSetext"),d=n.enter("phrasing"),g=n.containerPhrasing(t,{...s.current(),before:`
`,after:`
`});return d(),c(),g+`
`+(i===1?"=":"-").repeat(g.length-(Math.max(g.lastIndexOf("\r"),g.lastIndexOf(`
`))+1))}const o="#".repeat(i),a=n.enter("headingAtx"),l=n.enter("phrasing");s.move(o+" ");let u=n.containerPhrasing(t,{before:"# ",after:`
`,...s.current()});return/^[\t ]/.test(u)&&(u=Uf(u.charCodeAt(0))+u.slice(1)),u=u?o+" "+u:o,n.options.closeAtx&&(u+=" "+o),l(),a(),u}kT.peek=Kq;function kT(t){return t.value||""}function Kq(){return"<"}ST.peek=Qq;function ST(t,e,n,r){const i=Ev(n),s=i==='"'?"Quote":"Apostrophe",o=n.enter("image");let a=n.enter("label");const l=n.createTracker(r);let u=l.move("![");return u+=l.move(n.safe(t.alt,{before:u,after:"]",...l.current()})),u+=l.move("]("),a(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(a=n.enter("destinationLiteral"),u+=l.move("<"),u+=l.move(n.safe(t.url,{before:u,after:">",...l.current()})),u+=l.move(">")):(a=n.enter("destinationRaw"),u+=l.move(n.safe(t.url,{before:u,after:t.title?" ":")",...l.current()}))),a(),t.title&&(a=n.enter(`title${s}`),u+=l.move(" "+i),u+=l.move(n.safe(t.title,{before:u,after:i,...l.current()})),u+=l.move(i),a()),u+=l.move(")"),o(),u}function Qq(){return"!"}AT.peek=Yq;function AT(t,e,n,r){const i=t.referenceType,s=n.enter("imageReference");let o=n.enter("label");const a=n.createTracker(r);let l=a.move("![");const u=n.safe(t.alt,{before:l,after:"]",...a.current()});l+=a.move(u+"]["),o();const c=n.stack;n.stack=[],o=n.enter("reference");const d=n.safe(n.associationId(t),{before:l,after:"]",...a.current()});return o(),n.stack=c,s(),i==="full"||!u||u!==d?l+=a.move(d+"]"):i==="shortcut"?l=l.slice(0,-1):l+=a.move("]"),l}function Yq(){return"!"}ET.peek=Xq;function ET(t,e,n){let r=t.value||"",i="`",s=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++s<n.unsafe.length;){const o=n.unsafe[s],a=n.compilePattern(o);let l;if(o.atBreak)for(;l=a.exec(r);){let u=l.index;r.charCodeAt(u)===10&&r.charCodeAt(u-1)===13&&u--,r=r.slice(0,u)+" "+r.slice(l.index+1)}}return i+r+i}function Xq(){return"`"}function IT(t,e){const n=yv(t);return!!(!e.options.resourceLink&&t.url&&!t.title&&t.children&&t.children.length===1&&t.children[0].type==="text"&&(n===t.url||"mailto:"+n===t.url)&&/^[a-z][a-z+.-]+:/i.test(t.url)&&!/[\0- <>\u007F]/.test(t.url))}TT.peek=Jq;function TT(t,e,n,r){const i=Ev(n),s=i==='"'?"Quote":"Apostrophe",o=n.createTracker(r);let a,l;if(IT(t,n)){const c=n.stack;n.stack=[],a=n.enter("autolink");let d=o.move("<");return d+=o.move(n.containerPhrasing(t,{before:d,after:">",...o.current()})),d+=o.move(">"),a(),n.stack=c,d}a=n.enter("link"),l=n.enter("label");let u=o.move("[");return u+=o.move(n.containerPhrasing(t,{before:u,after:"](",...o.current()})),u+=o.move("]("),l(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(l=n.enter("destinationLiteral"),u+=o.move("<"),u+=o.move(n.safe(t.url,{before:u,after:">",...o.current()})),u+=o.move(">")):(l=n.enter("destinationRaw"),u+=o.move(n.safe(t.url,{before:u,after:t.title?" ":")",...o.current()}))),l(),t.title&&(l=n.enter(`title${s}`),u+=o.move(" "+i),u+=o.move(n.safe(t.title,{before:u,after:i,...o.current()})),u+=o.move(i),l()),u+=o.move(")"),a(),u}function Jq(t,e,n){return IT(t,n)?"<":"["}CT.peek=Zq;function CT(t,e,n,r){const i=t.referenceType,s=n.enter("linkReference");let o=n.enter("label");const a=n.createTracker(r);let l=a.move("[");const u=n.containerPhrasing(t,{before:l,after:"]",...a.current()});l+=a.move(u+"]["),o();const c=n.stack;n.stack=[],o=n.enter("reference");const d=n.safe(n.associationId(t),{before:l,after:"]",...a.current()});return o(),n.stack=c,s(),i==="full"||!u||u!==d?l+=a.move(d+"]"):i==="shortcut"?l=l.slice(0,-1):l+=a.move("]"),l}function Zq(){return"["}function Iv(t){const e=t.options.bullet||"*";if(e!=="*"&&e!=="+"&&e!=="-")throw new Error("Cannot serialize items with `"+e+"` for `options.bullet`, expected `*`, `+`, or `-`");return e}function e$(t){const e=Iv(t),n=t.options.bulletOther;if(!n)return e==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===e)throw new Error("Expected `bullet` (`"+e+"`) and `bulletOther` (`"+n+"`) to be different");return n}function t$(t){const e=t.options.bulletOrdered||".";if(e!=="."&&e!==")")throw new Error("Cannot serialize items with `"+e+"` for `options.bulletOrdered`, expected `.` or `)`");return e}function NT(t){const e=t.options.rule||"*";if(e!=="*"&&e!=="-"&&e!=="_")throw new Error("Cannot serialize rules with `"+e+"` for `options.rule`, expected `*`, `-`, or `_`");return e}function n$(t,e,n,r){const i=n.enter("list"),s=n.bulletCurrent;let o=t.ordered?t$(n):Iv(n);const a=t.ordered?o==="."?")":".":e$(n);let l=e&&n.bulletLastUsed?o===n.bulletLastUsed:!1;if(!t.ordered){const c=t.children?t.children[0]:void 0;if((o==="*"||o==="-")&&c&&(!c.children||!c.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(l=!0),NT(n)===o&&c){let d=-1;for(;++d<t.children.length;){const g=t.children[d];if(g&&g.type==="listItem"&&g.children&&g.children[0]&&g.children[0].type==="thematicBreak"){l=!0;break}}}}l&&(o=a),n.bulletCurrent=o;const u=n.containerFlow(t,r);return n.bulletLastUsed=o,n.bulletCurrent=s,i(),u}function r$(t){const e=t.options.listItemIndent||"one";if(e!=="tab"&&e!=="one"&&e!=="mixed")throw new Error("Cannot serialize items with `"+e+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return e}function i$(t,e,n,r){const i=r$(n);let s=n.bulletCurrent||Iv(n);e&&e.type==="list"&&e.ordered&&(s=(typeof e.start=="number"&&e.start>-1?e.start:1)+(n.options.incrementListMarker===!1?0:e.children.indexOf(t))+s);let o=s.length+1;(i==="tab"||i==="mixed"&&(e&&e.type==="list"&&e.spread||t.spread))&&(o=Math.ceil(o/4)*4);const a=n.createTracker(r);a.move(s+" ".repeat(o-s.length)),a.shift(o);const l=n.enter("listItem"),u=n.indentLines(n.containerFlow(t,a.current()),c);return l(),u;function c(d,g,p){return g?(p?"":" ".repeat(o))+d:(p?s:s+" ".repeat(o-s.length))+d}}function s$(t,e,n,r){const i=n.enter("paragraph"),s=n.enter("phrasing"),o=n.containerPhrasing(t,r);return s(),i(),o}const o$=Og(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function a$(t,e,n,r){return(t.children.some(function(o){return o$(o)})?n.containerPhrasing:n.containerFlow).call(n,t,r)}function l$(t){const e=t.options.strong||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize strong with `"+e+"` for `options.strong`, expected `*`, or `_`");return e}PT.peek=u$;function PT(t,e,n,r){const i=l$(n),s=n.enter("strong"),o=n.createTracker(r),a=o.move(i+i);let l=o.move(n.containerPhrasing(t,{after:i,before:a,...o.current()}));const u=l.charCodeAt(0),c=jm(r.before.charCodeAt(r.before.length-1),u,i);c.inside&&(l=Uf(u)+l.slice(1));const d=l.charCodeAt(l.length-1),g=jm(r.after.charCodeAt(0),d,i);g.inside&&(l=l.slice(0,-1)+Uf(d));const p=o.move(i+i);return s(),n.attentionEncodeSurroundingInfo={after:g.outside,before:c.outside},a+l+p}function u$(t,e,n){return n.options.strong||"*"}function c$(t,e,n,r){return n.safe(t.value,r)}function h$(t){const e=t.options.ruleRepetition||3;if(e<3)throw new Error("Cannot serialize rules with repetition `"+e+"` for `options.ruleRepetition`, expected `3` or more");return e}function f$(t,e,n){const r=(NT(n)+(n.options.ruleSpaces?" ":"")).repeat(h$(n));return n.options.ruleSpaces?r.slice(0,-1):r}const LT={blockquote:Oq,break:r3,code:Uq,definition:qq,emphasis:xT,hardBreak:r3,heading:Gq,html:kT,image:ST,imageReference:AT,inlineCode:ET,link:TT,linkReference:CT,list:n$,listItem:i$,paragraph:s$,root:a$,strong:PT,text:c$,thematicBreak:f$};function d$(){return{enter:{table:p$,tableData:i3,tableHeader:i3,tableRow:g$},exit:{codeText:y$,table:m$,tableData:r0,tableHeader:r0,tableRow:r0}}}function p$(t){const e=t._align;this.enter({type:"table",align:e.map(function(n){return n==="none"?null:n}),children:[]},t),this.data.inTable=!0}function m$(t){this.exit(t),this.data.inTable=void 0}function g$(t){this.enter({type:"tableRow",children:[]},t)}function r0(t){this.exit(t)}function i3(t){this.enter({type:"tableCell",children:[]},t)}function y$(t){let e=this.resume();this.data.inTable&&(e=e.replace(/\\([\\|])/g,v$));const n=this.stack[this.stack.length-1];n.type,n.value=e,this.exit(t)}function v$(t,e){return e==="|"?e:t}function w$(t){const e=t||{},n=e.tableCellPadding,r=e.tablePipeAlign,i=e.stringLength,s=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:g,table:o,tableCell:l,tableRow:a}};function o(p,_,k,D){return u(c(p,k,D),p.align)}function a(p,_,k,D){const w=d(p,k,D),C=u([w]);return C.slice(0,C.indexOf(`
`))}function l(p,_,k,D){const w=k.enter("tableCell"),C=k.enter("phrasing"),L=k.containerPhrasing(p,{...D,before:s,after:s});return C(),w(),L}function u(p,_){return Rq(p,{align:_,alignDelimiters:r,padding:n,stringLength:i})}function c(p,_,k){const D=p.children;let w=-1;const C=[],L=_.enter("table");for(;++w<D.length;)C[w]=d(D[w],_,k);return L(),C}function d(p,_,k){const D=p.children;let w=-1;const C=[],L=_.enter("tableRow");for(;++w<D.length;)C[w]=l(D[w],p,_,k);return L(),C}function g(p,_,k){let D=LT.inlineCode(p,_,k);return k.stack.includes("tableCell")&&(D=D.replace(/\|/g,"\\$&")),D}}function _$(){return{exit:{taskListCheckValueChecked:s3,taskListCheckValueUnchecked:s3,paragraph:x$}}}function b$(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:k$}}}function s3(t){const e=this.stack[this.stack.length-2];e.type,e.checked=t.type==="taskListCheckValueChecked"}function x$(t){const e=this.stack[this.stack.length-2];if(e&&e.type==="listItem"&&typeof e.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const i=e.children;let s=-1,o;for(;++s<i.length;){const a=i[s];if(a.type==="paragraph"){o=a;break}}o===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(t)}function k$(t,e,n,r){const i=t.children[0],s=typeof t.checked=="boolean"&&i&&i.type==="paragraph",o="["+(t.checked?"x":" ")+"] ",a=n.createTracker(r);s&&a.move(o);let l=LT.listItem(t,e,n,{...r,...a.current()});return s&&(l=l.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,u)),l;function u(c){return c+o}}function S$(){return[nq(),kq(),Iq(),d$(),_$()]}function A$(t){return{extensions:[rq(),Sq(t),Tq(),w$(t),b$()]}}const E$={tokenize:L$,partial:!0},RT={tokenize:R$,partial:!0},DT={tokenize:D$,partial:!0},OT={tokenize:O$,partial:!0},I$={tokenize:M$,partial:!0},MT={name:"wwwAutolink",tokenize:N$,previous:jT},FT={name:"protocolAutolink",tokenize:P$,previous:VT},ga={name:"emailAutolink",tokenize:C$,previous:BT},Oo={};function T$(){return{text:Oo}}let Hl=48;for(;Hl<123;)Oo[Hl]=ga,Hl++,Hl===58?Hl=65:Hl===91&&(Hl=97);Oo[43]=ga;Oo[45]=ga;Oo[46]=ga;Oo[95]=ga;Oo[72]=[ga,FT];Oo[104]=[ga,FT];Oo[87]=[ga,MT];Oo[119]=[ga,MT];function C$(t,e,n){const r=this;let i,s;return o;function o(d){return!sy(d)||!BT.call(r,r.previous)||Tv(r.events)?n(d):(t.enter("literalAutolink"),t.enter("literalAutolinkEmail"),a(d))}function a(d){return sy(d)?(t.consume(d),a):d===64?(t.consume(d),l):n(d)}function l(d){return d===46?t.check(I$,c,u)(d):d===45||d===95||Wr(d)?(s=!0,t.consume(d),l):c(d)}function u(d){return t.consume(d),i=!0,l}function c(d){return s&&i&&ui(r.previous)?(t.exit("literalAutolinkEmail"),t.exit("literalAutolink"),e(d)):n(d)}}function N$(t,e,n){const r=this;return i;function i(o){return o!==87&&o!==119||!jT.call(r,r.previous)||Tv(r.events)?n(o):(t.enter("literalAutolink"),t.enter("literalAutolinkWww"),t.check(E$,t.attempt(RT,t.attempt(DT,s),n),n)(o))}function s(o){return t.exit("literalAutolinkWww"),t.exit("literalAutolink"),e(o)}}function P$(t,e,n){const r=this;let i="",s=!1;return o;function o(d){return(d===72||d===104)&&VT.call(r,r.previous)&&!Tv(r.events)?(t.enter("literalAutolink"),t.enter("literalAutolinkHttp"),i+=String.fromCodePoint(d),t.consume(d),a):n(d)}function a(d){if(ui(d)&&i.length<5)return i+=String.fromCodePoint(d),t.consume(d),a;if(d===58){const g=i.toLowerCase();if(g==="http"||g==="https")return t.consume(d),l}return n(d)}function l(d){return d===47?(t.consume(d),s?u:(s=!0,l)):n(d)}function u(d){return d===null||Om(d)||mn(d)||wu(d)||Lg(d)?n(d):t.attempt(RT,t.attempt(DT,c),n)(d)}function c(d){return t.exit("literalAutolinkHttp"),t.exit("literalAutolink"),e(d)}}function L$(t,e,n){let r=0;return i;function i(o){return(o===87||o===119)&&r<3?(r++,t.consume(o),i):o===46&&r===3?(t.consume(o),s):n(o)}function s(o){return o===null?n(o):e(o)}}function R$(t,e,n){let r,i,s;return o;function o(u){return u===46||u===95?t.check(OT,l,a)(u):u===null||mn(u)||wu(u)||u!==45&&Lg(u)?l(u):(s=!0,t.consume(u),o)}function a(u){return u===95?r=!0:(i=r,r=void 0),t.consume(u),o}function l(u){return i||r||!s?n(u):e(u)}}function D$(t,e){let n=0,r=0;return i;function i(o){return o===40?(n++,t.consume(o),i):o===41&&r<n?s(o):o===33||o===34||o===38||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===60||o===63||o===93||o===95||o===126?t.check(OT,e,s)(o):o===null||mn(o)||wu(o)?e(o):(t.consume(o),i)}function s(o){return o===41&&r++,t.consume(o),i}}function O$(t,e,n){return r;function r(a){return a===33||a===34||a===39||a===41||a===42||a===44||a===46||a===58||a===59||a===63||a===95||a===126?(t.consume(a),r):a===38?(t.consume(a),s):a===93?(t.consume(a),i):a===60||a===null||mn(a)||wu(a)?e(a):n(a)}function i(a){return a===null||a===40||a===91||mn(a)||wu(a)?e(a):r(a)}function s(a){return ui(a)?o(a):n(a)}function o(a){return a===59?(t.consume(a),r):ui(a)?(t.consume(a),o):n(a)}}function M$(t,e,n){return r;function r(s){return t.consume(s),i}function i(s){return Wr(s)?n(s):e(s)}}function jT(t){return t===null||t===40||t===42||t===95||t===91||t===93||t===126||mn(t)}function VT(t){return!ui(t)}function BT(t){return!(t===47||sy(t))}function sy(t){return t===43||t===45||t===46||t===95||Wr(t)}function Tv(t){let e=t.length,n=!1;for(;e--;){const r=t[e][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return t.length>0&&!n&&(t[t.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const F$={tokenize:H$,partial:!0};function j$(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:z$,continuation:{tokenize:q$},exit:$$}},text:{91:{name:"gfmFootnoteCall",tokenize:U$},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:V$,resolveTo:B$}}}}function V$(t,e,n){const r=this;let i=r.events.length;const s=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o;for(;i--;){const l=r.events[i][1];if(l.type==="labelImage"){o=l;break}if(l.type==="gfmFootnoteCall"||l.type==="labelLink"||l.type==="label"||l.type==="image"||l.type==="link")break}return a;function a(l){if(!o||!o._balanced)return n(l);const u=Qs(r.sliceSerialize({start:o.end,end:r.now()}));return u.codePointAt(0)!==94||!s.includes(u.slice(1))?n(l):(t.enter("gfmFootnoteCallLabelMarker"),t.consume(l),t.exit("gfmFootnoteCallLabelMarker"),e(l))}}function B$(t,e){let n=t.length;for(;n--;)if(t[n][1].type==="labelImage"&&t[n][0]==="enter"){t[n][1];break}t[n+1][1].type="data",t[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},t[n+3][1].start),end:Object.assign({},t[t.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},t[n+3][1].end),end:Object.assign({},t[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const s={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},t[t.length-1][1].start)},o={type:"chunkString",contentType:"string",start:Object.assign({},s.start),end:Object.assign({},s.end)},a=[t[n+1],t[n+2],["enter",r,e],t[n+3],t[n+4],["enter",i,e],["exit",i,e],["enter",s,e],["enter",o,e],["exit",o,e],["exit",s,e],t[t.length-2],t[t.length-1],["exit",r,e]];return t.splice(n,t.length-n+1,...a),t}function U$(t,e,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s=0,o;return a;function a(d){return t.enter("gfmFootnoteCall"),t.enter("gfmFootnoteCallLabelMarker"),t.consume(d),t.exit("gfmFootnoteCallLabelMarker"),l}function l(d){return d!==94?n(d):(t.enter("gfmFootnoteCallMarker"),t.consume(d),t.exit("gfmFootnoteCallMarker"),t.enter("gfmFootnoteCallString"),t.enter("chunkString").contentType="string",u)}function u(d){if(s>999||d===93&&!o||d===null||d===91||mn(d))return n(d);if(d===93){t.exit("chunkString");const g=t.exit("gfmFootnoteCallString");return i.includes(Qs(r.sliceSerialize(g)))?(t.enter("gfmFootnoteCallLabelMarker"),t.consume(d),t.exit("gfmFootnoteCallLabelMarker"),t.exit("gfmFootnoteCall"),e):n(d)}return mn(d)||(o=!0),s++,t.consume(d),d===92?c:u}function c(d){return d===91||d===92||d===93?(t.consume(d),s++,u):u(d)}}function z$(t,e,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s,o=0,a;return l;function l(_){return t.enter("gfmFootnoteDefinition")._container=!0,t.enter("gfmFootnoteDefinitionLabel"),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(_),t.exit("gfmFootnoteDefinitionLabelMarker"),u}function u(_){return _===94?(t.enter("gfmFootnoteDefinitionMarker"),t.consume(_),t.exit("gfmFootnoteDefinitionMarker"),t.enter("gfmFootnoteDefinitionLabelString"),t.enter("chunkString").contentType="string",c):n(_)}function c(_){if(o>999||_===93&&!a||_===null||_===91||mn(_))return n(_);if(_===93){t.exit("chunkString");const k=t.exit("gfmFootnoteDefinitionLabelString");return s=Qs(r.sliceSerialize(k)),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(_),t.exit("gfmFootnoteDefinitionLabelMarker"),t.exit("gfmFootnoteDefinitionLabel"),g}return mn(_)||(a=!0),o++,t.consume(_),_===92?d:c}function d(_){return _===91||_===92||_===93?(t.consume(_),o++,c):c(_)}function g(_){return _===58?(t.enter("definitionMarker"),t.consume(_),t.exit("definitionMarker"),i.includes(s)||i.push(s),Xt(t,p,"gfmFootnoteDefinitionWhitespace")):n(_)}function p(_){return e(_)}}function q$(t,e,n){return t.check(ld,e,t.attempt(F$,e,n))}function $$(t){t.exit("gfmFootnoteDefinition")}function H$(t,e,n){const r=this;return Xt(t,i,"gfmFootnoteDefinitionIndent",5);function i(s){const o=r.events[r.events.length-1];return o&&o[1].type==="gfmFootnoteDefinitionIndent"&&o[2].sliceSerialize(o[1],!0).length===4?e(s):n(s)}}function W$(t){let n=(t||{}).singleTilde;const r={name:"strikethrough",tokenize:s,resolveAll:i};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function i(o,a){let l=-1;for(;++l<o.length;)if(o[l][0]==="enter"&&o[l][1].type==="strikethroughSequenceTemporary"&&o[l][1]._close){let u=l;for(;u--;)if(o[u][0]==="exit"&&o[u][1].type==="strikethroughSequenceTemporary"&&o[u][1]._open&&o[l][1].end.offset-o[l][1].start.offset===o[u][1].end.offset-o[u][1].start.offset){o[l][1].type="strikethroughSequence",o[u][1].type="strikethroughSequence";const c={type:"strikethrough",start:Object.assign({},o[u][1].start),end:Object.assign({},o[l][1].end)},d={type:"strikethroughText",start:Object.assign({},o[u][1].end),end:Object.assign({},o[l][1].start)},g=[["enter",c,a],["enter",o[u][1],a],["exit",o[u][1],a],["enter",d,a]],p=a.parser.constructs.insideSpan.null;p&&es(g,g.length,0,Rg(p,o.slice(u+1,l),a)),es(g,g.length,0,[["exit",d,a],["enter",o[l][1],a],["exit",o[l][1],a],["exit",c,a]]),es(o,u-1,l-u+3,g),l=u+g.length-2;break}}for(l=-1;++l<o.length;)o[l][1].type==="strikethroughSequenceTemporary"&&(o[l][1].type="data");return o}function s(o,a,l){const u=this.previous,c=this.events;let d=0;return g;function g(_){return u===126&&c[c.length-1][1].type!=="characterEscape"?l(_):(o.enter("strikethroughSequenceTemporary"),p(_))}function p(_){const k=Gc(u);if(_===126)return d>1?l(_):(o.consume(_),d++,p);if(d<2&&!n)return l(_);const D=o.exit("strikethroughSequenceTemporary"),w=Gc(_);return D._open=!w||w===2&&!!k,D._close=!k||k===2&&!!w,a(_)}}}class G${constructor(){this.map=[]}add(e,n,r){K$(this,e,n,r)}consume(e){if(this.map.sort(function(s,o){return s[0]-o[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(e.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),e.length=this.map[n][0];r.push(e.slice()),e.length=0;let i=r.pop();for(;i;){for(const s of i)e.push(s);i=r.pop()}this.map.length=0}}function K$(t,e,n,r){let i=0;if(!(n===0&&r.length===0)){for(;i<t.map.length;){if(t.map[i][0]===e){t.map[i][1]+=n,t.map[i][2].push(...r);return}i+=1}t.map.push([e,n,r])}}function Q$(t,e){let n=!1;const r=[];for(;e<t.length;){const i=t[e];if(n){if(i[0]==="enter")i[1].type==="tableContent"&&r.push(t[e+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(t[e-1][1].type==="tableDelimiterMarker"){const s=r.length-1;r[s]=r[s]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(n=!0);e+=1}return r}function Y$(){return{flow:{null:{name:"table",tokenize:X$,resolveAll:J$}}}}function X$(t,e,n){const r=this;let i=0,s=0,o;return a;function a(I){let x=r.events.length-1;for(;x>-1;){const J=r.events[x][1].type;if(J==="lineEnding"||J==="linePrefix")x--;else break}const T=x>-1?r.events[x][1].type:null,N=T==="tableHead"||T==="tableRow"?W:l;return N===W&&r.parser.lazy[r.now().line]?n(I):N(I)}function l(I){return t.enter("tableHead"),t.enter("tableRow"),u(I)}function u(I){return I===124||(o=!0,s+=1),c(I)}function c(I){return I===null?n(I):gt(I)?s>1?(s=0,r.interrupt=!0,t.exit("tableRow"),t.enter("lineEnding"),t.consume(I),t.exit("lineEnding"),p):n(I):Vt(I)?Xt(t,c,"whitespace")(I):(s+=1,o&&(o=!1,i+=1),I===124?(t.enter("tableCellDivider"),t.consume(I),t.exit("tableCellDivider"),o=!0,c):(t.enter("data"),d(I)))}function d(I){return I===null||I===124||mn(I)?(t.exit("data"),c(I)):(t.consume(I),I===92?g:d)}function g(I){return I===92||I===124?(t.consume(I),d):d(I)}function p(I){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(I):(t.enter("tableDelimiterRow"),o=!1,Vt(I)?Xt(t,_,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(I):_(I))}function _(I){return I===45||I===58?D(I):I===124?(o=!0,t.enter("tableCellDivider"),t.consume(I),t.exit("tableCellDivider"),k):X(I)}function k(I){return Vt(I)?Xt(t,D,"whitespace")(I):D(I)}function D(I){return I===58?(s+=1,o=!0,t.enter("tableDelimiterMarker"),t.consume(I),t.exit("tableDelimiterMarker"),w):I===45?(s+=1,w(I)):I===null||gt(I)?V(I):X(I)}function w(I){return I===45?(t.enter("tableDelimiterFiller"),C(I)):X(I)}function C(I){return I===45?(t.consume(I),C):I===58?(o=!0,t.exit("tableDelimiterFiller"),t.enter("tableDelimiterMarker"),t.consume(I),t.exit("tableDelimiterMarker"),L):(t.exit("tableDelimiterFiller"),L(I))}function L(I){return Vt(I)?Xt(t,V,"whitespace")(I):V(I)}function V(I){return I===124?_(I):I===null||gt(I)?!o||i!==s?X(I):(t.exit("tableDelimiterRow"),t.exit("tableHead"),e(I)):X(I)}function X(I){return n(I)}function W(I){return t.enter("tableRow"),F(I)}function F(I){return I===124?(t.enter("tableCellDivider"),t.consume(I),t.exit("tableCellDivider"),F):I===null||gt(I)?(t.exit("tableRow"),e(I)):Vt(I)?Xt(t,F,"whitespace")(I):(t.enter("data"),A(I))}function A(I){return I===null||I===124||mn(I)?(t.exit("data"),F(I)):(t.consume(I),I===92?E:A)}function E(I){return I===92||I===124?(t.consume(I),A):A(I)}}function J$(t,e){let n=-1,r=!0,i=0,s=[0,0,0,0],o=[0,0,0,0],a=!1,l=0,u,c,d;const g=new G$;for(;++n<t.length;){const p=t[n],_=p[1];p[0]==="enter"?_.type==="tableHead"?(a=!1,l!==0&&(o3(g,e,l,u,c),c=void 0,l=0),u={type:"table",start:Object.assign({},_.start),end:Object.assign({},_.end)},g.add(n,0,[["enter",u,e]])):_.type==="tableRow"||_.type==="tableDelimiterRow"?(r=!0,d=void 0,s=[0,0,0,0],o=[0,n+1,0,0],a&&(a=!1,c={type:"tableBody",start:Object.assign({},_.start),end:Object.assign({},_.end)},g.add(n,0,[["enter",c,e]])),i=_.type==="tableDelimiterRow"?2:c?3:1):i&&(_.type==="data"||_.type==="tableDelimiterMarker"||_.type==="tableDelimiterFiller")?(r=!1,o[2]===0&&(s[1]!==0&&(o[0]=o[1],d=np(g,e,s,i,void 0,d),s=[0,0,0,0]),o[2]=n)):_.type==="tableCellDivider"&&(r?r=!1:(s[1]!==0&&(o[0]=o[1],d=np(g,e,s,i,void 0,d)),s=o,o=[s[1],n,0,0])):_.type==="tableHead"?(a=!0,l=n):_.type==="tableRow"||_.type==="tableDelimiterRow"?(l=n,s[1]!==0?(o[0]=o[1],d=np(g,e,s,i,n,d)):o[1]!==0&&(d=np(g,e,o,i,n,d)),i=0):i&&(_.type==="data"||_.type==="tableDelimiterMarker"||_.type==="tableDelimiterFiller")&&(o[3]=n)}for(l!==0&&o3(g,e,l,u,c),g.consume(e.events),n=-1;++n<e.events.length;){const p=e.events[n];p[0]==="enter"&&p[1].type==="table"&&(p[1]._align=Q$(e.events,n))}return t}function np(t,e,n,r,i,s){const o=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",a="tableContent";n[0]!==0&&(s.end=Object.assign({},Zu(e.events,n[0])),t.add(n[0],0,[["exit",s,e]]));const l=Zu(e.events,n[1]);if(s={type:o,start:Object.assign({},l),end:Object.assign({},l)},t.add(n[1],0,[["enter",s,e]]),n[2]!==0){const u=Zu(e.events,n[2]),c=Zu(e.events,n[3]),d={type:a,start:Object.assign({},u),end:Object.assign({},c)};if(t.add(n[2],0,[["enter",d,e]]),r!==2){const g=e.events[n[2]],p=e.events[n[3]];if(g[1].end=Object.assign({},p[1].end),g[1].type="chunkText",g[1].contentType="text",n[3]>n[2]+1){const _=n[2]+1,k=n[3]-n[2]-1;t.add(_,k,[])}}t.add(n[3]+1,0,[["exit",d,e]])}return i!==void 0&&(s.end=Object.assign({},Zu(e.events,i)),t.add(i,0,[["exit",s,e]]),s=void 0),s}function o3(t,e,n,r,i){const s=[],o=Zu(e.events,n);i&&(i.end=Object.assign({},o),s.push(["exit",i,e])),r.end=Object.assign({},o),s.push(["exit",r,e]),t.add(n+1,0,s)}function Zu(t,e){const n=t[e],r=n[0]==="enter"?"start":"end";return n[1][r]}const Z$={name:"tasklistCheck",tokenize:tH};function eH(){return{text:{91:Z$}}}function tH(t,e,n){const r=this;return i;function i(l){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(l):(t.enter("taskListCheck"),t.enter("taskListCheckMarker"),t.consume(l),t.exit("taskListCheckMarker"),s)}function s(l){return mn(l)?(t.enter("taskListCheckValueUnchecked"),t.consume(l),t.exit("taskListCheckValueUnchecked"),o):l===88||l===120?(t.enter("taskListCheckValueChecked"),t.consume(l),t.exit("taskListCheckValueChecked"),o):n(l)}function o(l){return l===93?(t.enter("taskListCheckMarker"),t.consume(l),t.exit("taskListCheckMarker"),t.exit("taskListCheck"),a):n(l)}function a(l){return gt(l)?e(l):Vt(l)?t.check({tokenize:nH},e,n)(l):n(l)}}function nH(t,e,n){return Xt(t,r,"whitespace");function r(i){return i===null?n(i):e(i)}}function rH(t){return QI([T$(),j$(),W$(t),Y$(),eH()])}const iH={};function sH(t){const e=this,n=t||iH,r=e.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),s=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),o=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push(rH(n)),s.push(S$()),o.push(A$(n))}const oH="modulepreload",aH=function(t,e){return new URL(t,e).href},a3={},i0=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){const o=document.getElementsByTagName("link"),a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=Promise.allSettled(n.map(u=>{if(u=aH(u,r),u in a3)return;a3[u]=!0;const c=u.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(!!r)for(let _=o.length-1;_>=0;_--){const k=o[_];if(k.href===u&&(!c||k.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${u}"]${d}`))return;const p=document.createElement("link");if(p.rel=c?"stylesheet":oH,c||(p.as="script"),p.crossOrigin="",p.href=u,l&&p.setAttribute("nonce",l),document.head.appendChild(p),c)return new Promise((_,k)=>{p.addEventListener("load",_),p.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${u}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})};function ln(t){"@babel/helpers - typeof";return ln=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ln(t)}var Zs=Uint8Array,Xi=Uint16Array,Cv=Int32Array,Nv=new Zs([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Pv=new Zs([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),l3=new Zs([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),UT=function(t,e){for(var n=new Xi(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var i=new Cv(n[30]),r=1;r<30;++r)for(var s=n[r];s<n[r+1];++s)i[s]=s-n[r]<<5|r;return{b:n,r:i}},zT=UT(Nv,2),lH=zT.b,oy=zT.r;lH[28]=258,oy[258]=28;var uH=UT(Pv,0),u3=uH.r,ay=new Xi(32768);for(var Ln=0;Ln<32768;++Ln){var za=(Ln&43690)>>1|(Ln&21845)<<1;za=(za&52428)>>2|(za&13107)<<2,za=(za&61680)>>4|(za&3855)<<4,ay[Ln]=((za&65280)>>8|(za&255)<<8)>>1}var ff=function(t,e,n){for(var r=t.length,i=0,s=new Xi(e);i<r;++i)t[i]&&++s[t[i]-1];var o=new Xi(e);for(i=1;i<e;++i)o[i]=o[i-1]+s[i-1]<<1;var a;if(n){a=new Xi(1<<e);var l=15-e;for(i=0;i<r;++i)if(t[i])for(var u=i<<4|t[i],c=e-t[i],d=o[t[i]-1]++<<c,g=d|(1<<c)-1;d<=g;++d)a[ay[d]>>l]=u}else for(a=new Xi(r),i=0;i<r;++i)t[i]&&(a[i]=ay[o[t[i]-1]++]>>15-t[i]);return a},_u=new Zs(288);for(var Ln=0;Ln<144;++Ln)_u[Ln]=8;for(var Ln=144;Ln<256;++Ln)_u[Ln]=9;for(var Ln=256;Ln<280;++Ln)_u[Ln]=7;for(var Ln=280;Ln<288;++Ln)_u[Ln]=8;var Vm=new Zs(32);for(var Ln=0;Ln<32;++Ln)Vm[Ln]=5;var cH=ff(_u,9,0),hH=ff(Vm,5,0),qT=function(t){return(t+7)/8|0},fH=function(t,e,n){return(n==null||n>t.length)&&(n=t.length),new Zs(t.subarray(e,n))},Yo=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8},Fh=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8,t[r+2]|=n>>16},s0=function(t,e){for(var n=[],r=0;r<t.length;++r)t[r]&&n.push({s:r,f:t[r]});var i=n.length,s=n.slice();if(!i)return{t:HT,l:0};if(i==1){var o=new Zs(n[0].s+1);return o[n[0].s]=1,{t:o,l:1}}n.sort(function(X,W){return X.f-W.f}),n.push({s:-1,f:25001});var a=n[0],l=n[1],u=0,c=1,d=2;for(n[0]={s:-1,f:a.f+l.f,l:a,r:l};c!=i-1;)a=n[n[u].f<n[d].f?u++:d++],l=n[u!=c&&n[u].f<n[d].f?u++:d++],n[c++]={s:-1,f:a.f+l.f,l:a,r:l};for(var g=s[0].s,r=1;r<i;++r)s[r].s>g&&(g=s[r].s);var p=new Xi(g+1),_=ly(n[c-1],p,0);if(_>e){var r=0,k=0,D=_-e,w=1<<D;for(s.sort(function(W,F){return p[F.s]-p[W.s]||W.f-F.f});r<i;++r){var C=s[r].s;if(p[C]>e)k+=w-(1<<_-p[C]),p[C]=e;else break}for(k>>=D;k>0;){var L=s[r].s;p[L]<e?k-=1<<e-p[L]++-1:++r}for(;r>=0&&k;--r){var V=s[r].s;p[V]==e&&(--p[V],++k)}_=e}return{t:new Zs(p),l:_}},ly=function(t,e,n){return t.s==-1?Math.max(ly(t.l,e,n+1),ly(t.r,e,n+1)):e[t.s]=n},c3=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new Xi(++e),r=0,i=t[0],s=1,o=function(l){n[r++]=l},a=1;a<=e;++a)if(t[a]==i&&a!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(i),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(i);s=1,i=t[a]}return{c:n.subarray(0,r),n:e}},jh=function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},$T=function(t,e,n){var r=n.length,i=qT(e+2);t[i]=r&255,t[i+1]=r>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var s=0;s<r;++s)t[i+s+4]=n[s];return(i+4+r)*8},h3=function(t,e,n,r,i,s,o,a,l,u,c){Yo(e,c++,n),++i[256];for(var d=s0(i,15),g=d.t,p=d.l,_=s0(s,15),k=_.t,D=_.l,w=c3(g),C=w.c,L=w.n,V=c3(k),X=V.c,W=V.n,F=new Xi(19),A=0;A<C.length;++A)++F[C[A]&31];for(var A=0;A<X.length;++A)++F[X[A]&31];for(var E=s0(F,7),I=E.t,x=E.l,T=19;T>4&&!I[l3[T-1]];--T);var N=u+5<<3,J=jh(i,_u)+jh(s,Vm)+o,ae=jh(i,g)+jh(s,k)+o+14+3*T+jh(F,I)+2*F[16]+3*F[17]+7*F[18];if(l>=0&&N<=J&&N<=ae)return $T(e,c,t.subarray(l,l+u));var ye,ve,ee,ue;if(Yo(e,c,1+(ae<J)),c+=2,ae<J){ye=ff(g,p,0),ve=g,ee=ff(k,D,0),ue=k;var z=ff(I,x,0);Yo(e,c,L-257),Yo(e,c+5,W-1),Yo(e,c+10,T-4),c+=14;for(var A=0;A<T;++A)Yo(e,c+3*A,I[l3[A]]);c+=3*T;for(var _e=[C,X],j=0;j<2;++j)for(var R=_e[j],A=0;A<R.length;++A){var Z=R[A]&31;Yo(e,c,z[Z]),c+=I[Z],Z>15&&(Yo(e,c,R[A]>>5&127),c+=R[A]>>12)}}else ye=cH,ve=_u,ee=hH,ue=Vm;for(var A=0;A<a;++A){var ne=r[A];if(ne>255){var Z=ne>>18&31;Fh(e,c,ye[Z+257]),c+=ve[Z+257],Z>7&&(Yo(e,c,ne>>23&31),c+=Nv[Z]);var re=ne&31;Fh(e,c,ee[re]),c+=ue[re],re>3&&(Fh(e,c,ne>>5&8191),c+=Pv[re])}else Fh(e,c,ye[ne]),c+=ve[ne]}return Fh(e,c,ye[256]),c+ve[256]},dH=new Cv([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),HT=new Zs(0),pH=function(t,e,n,r,i,s){var o=s.z||t.length,a=new Zs(r+o+5*(1+Math.ceil(o/7e3))+i),l=a.subarray(r,a.length-i),u=s.l,c=(s.r||0)&7;if(e){c&&(l[0]=s.r>>3);for(var d=dH[e-1],g=d>>13,p=d&8191,_=(1<<n)-1,k=s.p||new Xi(32768),D=s.h||new Xi(_+1),w=Math.ceil(n/3),C=2*w,L=function(it){return(t[it]^t[it+1]<<w^t[it+2]<<C)&_},V=new Cv(25e3),X=new Xi(288),W=new Xi(32),F=0,A=0,E=s.i||0,I=0,x=s.w||0,T=0;E+2<o;++E){var N=L(E),J=E&32767,ae=D[N];if(k[J]=ae,D[N]=J,x<=E){var ye=o-E;if((F>7e3||I>24576)&&(ye>423||!u)){c=h3(t,l,0,V,X,W,A,I,T,E-T,c),I=F=A=0,T=E;for(var ve=0;ve<286;++ve)X[ve]=0;for(var ve=0;ve<30;++ve)W[ve]=0}var ee=2,ue=0,z=p,_e=J-ae&32767;if(ye>2&&N==L(E-_e))for(var j=Math.min(g,ye)-1,R=Math.min(32767,E),Z=Math.min(258,ye);_e<=R&&--z&&J!=ae;){if(t[E+ee]==t[E+ee-_e]){for(var ne=0;ne<Z&&t[E+ne]==t[E+ne-_e];++ne);if(ne>ee){if(ee=ne,ue=_e,ne>j)break;for(var re=Math.min(_e,ne-2),ce=0,ve=0;ve<re;++ve){var we=E-_e+ve&32767,be=k[we],ke=we-be&32767;ke>ce&&(ce=ke,ae=we)}}}J=ae,ae=k[J],_e+=J-ae&32767}if(ue){V[I++]=268435456|oy[ee]<<18|u3[ue];var Re=oy[ee]&31,qe=u3[ue]&31;A+=Nv[Re]+Pv[qe],++X[257+Re],++W[qe],x=E+ee,++F}else V[I++]=t[E],++X[t[E]]}}for(E=Math.max(E,x);E<o;++E)V[I++]=t[E],++X[t[E]];c=h3(t,l,u,V,X,W,A,I,T,E-T,c),u||(s.r=c&7|l[c/8|0]<<3,c-=7,s.h=D,s.p=k,s.i=E,s.w=x)}else{for(var E=s.w||0;E<o+u;E+=65535){var ze=E+65535;ze>=o&&(l[c/8|0]=u,ze=o),c=$T(l,c+1,t.subarray(E,ze))}s.i=o}return fH(a,0,r+qT(c)+i)},WT=function(){var t=1,e=0;return{p:function(n){for(var r=t,i=e,s=n.length|0,o=0;o!=s;){for(var a=Math.min(o+2655,s);o<a;++o)i+=r+=n[o];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}t=r,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},mH=function(t,e,n,r,i){if(!i&&(i={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),o=new Zs(s.length+t.length);o.set(s),o.set(t,s.length),t=o,i.w=s.length}return pH(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,n,r,i)},GT=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},gH=function(t,e){var n=e.level,r=n==0?0:n<6?1:n==9?3:2;if(t[0]=120,t[1]=r<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=WT();i.p(e.dictionary),GT(t,2,i.d())}};function uy(t,e){e||(e={});var n=WT();n.p(t);var r=mH(t,e,e.dictionary?6:2,4);return gH(r,e),GT(r,r.length-4,n.d()),r}var yH=typeof TextDecoder<"u"&&new TextDecoder,vH=0;try{yH.decode(HT,{stream:!0}),vH=1}catch{}function wH(t){if(Array.isArray(t))return t}function _H(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function f3(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function bH(t,e){if(t){if(typeof t=="string")return f3(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f3(t,e):void 0}}function xH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function d3(t,e){return wH(t)||_H(t,e)||bH(t,e)||xH()}function p3(t,e="utf8"){return new TextDecoder(e).decode(t)}const kH=new TextEncoder;function SH(t){return kH.encode(t)}const AH=1024*8,EH=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),o0={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class Lv{constructor(e=AH,n={}){an(this,"buffer");an(this,"byteLength");an(this,"byteOffset");an(this,"length");an(this,"offset");an(this,"lastWrittenByte");an(this,"littleEndian");an(this,"_data");an(this,"_mark");an(this,"_marks");let r=!1;typeof e=="number"?e=new ArrayBuffer(e):(r=!0,this.lastWrittenByte=e.byteLength);const i=n.offset?n.offset>>>0:0,s=e.byteLength-i;let o=i;(ArrayBuffer.isView(e)||e instanceof Lv)&&(e.byteLength!==e.buffer.byteLength&&(o=e.byteOffset+i),e=e.buffer),r?this.lastWrittenByte=s:this.lastWrittenByte=0,this.buffer=e,this.length=s,this.byteLength=s,this.byteOffset=o,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,o,s),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const r=(this.offset+e)*2,i=new Uint8Array(r);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,n){const r=o0[n].BYTES_PER_ELEMENT*e,i=this.byteOffset+this.offset,s=this.buffer.slice(i,i+r);if(this.littleEndian===EH&&n!=="uint8"&&n!=="int8"){const a=new Uint8Array(this.buffer.slice(i,i+r));a.reverse();const l=new o0[n](a.buffer);return this.offset+=r,l.reverse(),l}const o=new o0[n](s);return this.offset+=r,o}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let n="";for(let r=0;r<e;r++)n+=this.readChar();return n}readUtf8(e=1){return p3(this.readBytes(e))}decodeText(e=1,n="utf8"){return p3(this.readBytes(e),n)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let n=0;n<e.length;n++)this._data.setUint8(this.offset++,e[n]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let n=0;n<e.length;n++)this.writeUint8(e.charCodeAt(n));return this}writeUtf8(e){return this.writeBytes(SH(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function ah(t){let e=t.length;for(;--e>=0;)t[e]=0}const IH=3,TH=258,KT=29,CH=256,NH=CH+1+KT,QT=30,PH=512,LH=new Array((NH+2)*2);ah(LH);const RH=new Array(QT*2);ah(RH);const DH=new Array(PH);ah(DH);const OH=new Array(TH-IH+1);ah(OH);const MH=new Array(KT);ah(MH);const FH=new Array(QT);ah(FH);const jH=(t,e,n,r)=>{let i=t&65535|0,s=t>>>16&65535|0,o=0;for(;n!==0;){o=n>2e3?2e3:n,n-=o;do i=i+e[r++]|0,s=s+i|0;while(--o);i%=65521,s%=65521}return i|s<<16|0};var cy=jH;const VH=()=>{let t,e=[];for(var n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=t&1?3988292384^t>>>1:t>>>1;e[n]=t}return e},BH=new Uint32Array(VH()),UH=(t,e,n,r)=>{const i=BH,s=r+n;t^=-1;for(let o=r;o<s;o++)t=t>>>8^i[(t^e[o])&255];return t^-1};var vo=UH,hy={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},YT={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const zH=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var qH=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const n=e.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const r in n)zH(n,r)&&(t[r]=n[r])}}return t},$H=t=>{let e=0;for(let r=0,i=t.length;r<i;r++)e+=t[r].length;const n=new Uint8Array(e);for(let r=0,i=0,s=t.length;r<s;r++){let o=t[r];n.set(o,i),i+=o.length}return n},XT={assign:qH,flattenChunks:$H};let JT=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{JT=!1}const zf=new Uint8Array(256);for(let t=0;t<256;t++)zf[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;zf[254]=zf[254]=1;var HH=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,n,r,i,s,o=t.length,a=0;for(i=0;i<o;i++)n=t.charCodeAt(i),(n&64512)===55296&&i+1<o&&(r=t.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),a+=n<128?1:n<2048?2:n<65536?3:4;for(e=new Uint8Array(a),s=0,i=0;s<a;i++)n=t.charCodeAt(i),(n&64512)===55296&&i+1<o&&(r=t.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),n<128?e[s++]=n:n<2048?(e[s++]=192|n>>>6,e[s++]=128|n&63):n<65536?(e[s++]=224|n>>>12,e[s++]=128|n>>>6&63,e[s++]=128|n&63):(e[s++]=240|n>>>18,e[s++]=128|n>>>12&63,e[s++]=128|n>>>6&63,e[s++]=128|n&63);return e};const WH=(t,e)=>{if(e<65534&&t.subarray&&JT)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let n="";for(let r=0;r<e;r++)n+=String.fromCharCode(t[r]);return n};var GH=(t,e)=>{const n=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let r,i;const s=new Array(n*2);for(i=0,r=0;r<n;){let o=t[r++];if(o<128){s[i++]=o;continue}let a=zf[o];if(a>4){s[i++]=65533,r+=a-1;continue}for(o&=a===2?31:a===3?15:7;a>1&&r<n;)o=o<<6|t[r++]&63,a--;if(a>1){s[i++]=65533;continue}o<65536?s[i++]=o:(o-=65536,s[i++]=55296|o>>10&1023,s[i++]=56320|o&1023)}return WH(s,i)},KH=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let n=e-1;for(;n>=0&&(t[n]&192)===128;)n--;return n<0||n===0?e:n+zf[t[n]]>e?n:e},fy={string2buf:HH,buf2string:GH,utf8border:KH};function QH(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var YH=QH;const rp=16209,XH=16191;var JH=function(e,n){let r,i,s,o,a,l,u,c,d,g,p,_,k,D,w,C,L,V,X,W,F,A,E,I;const x=e.state;r=e.next_in,E=e.input,i=r+(e.avail_in-5),s=e.next_out,I=e.output,o=s-(n-e.avail_out),a=s+(e.avail_out-257),l=x.dmax,u=x.wsize,c=x.whave,d=x.wnext,g=x.window,p=x.hold,_=x.bits,k=x.lencode,D=x.distcode,w=(1<<x.lenbits)-1,C=(1<<x.distbits)-1;e:do{_<15&&(p+=E[r++]<<_,_+=8,p+=E[r++]<<_,_+=8),L=k[p&w];t:for(;;){if(V=L>>>24,p>>>=V,_-=V,V=L>>>16&255,V===0)I[s++]=L&65535;else if(V&16){X=L&65535,V&=15,V&&(_<V&&(p+=E[r++]<<_,_+=8),X+=p&(1<<V)-1,p>>>=V,_-=V),_<15&&(p+=E[r++]<<_,_+=8,p+=E[r++]<<_,_+=8),L=D[p&C];n:for(;;){if(V=L>>>24,p>>>=V,_-=V,V=L>>>16&255,V&16){if(W=L&65535,V&=15,_<V&&(p+=E[r++]<<_,_+=8,_<V&&(p+=E[r++]<<_,_+=8)),W+=p&(1<<V)-1,W>l){e.msg="invalid distance too far back",x.mode=rp;break e}if(p>>>=V,_-=V,V=s-o,W>V){if(V=W-V,V>c&&x.sane){e.msg="invalid distance too far back",x.mode=rp;break e}if(F=0,A=g,d===0){if(F+=u-V,V<X){X-=V;do I[s++]=g[F++];while(--V);F=s-W,A=I}}else if(d<V){if(F+=u+d-V,V-=d,V<X){X-=V;do I[s++]=g[F++];while(--V);if(F=0,d<X){V=d,X-=V;do I[s++]=g[F++];while(--V);F=s-W,A=I}}}else if(F+=d-V,V<X){X-=V;do I[s++]=g[F++];while(--V);F=s-W,A=I}for(;X>2;)I[s++]=A[F++],I[s++]=A[F++],I[s++]=A[F++],X-=3;X&&(I[s++]=A[F++],X>1&&(I[s++]=A[F++]))}else{F=s-W;do I[s++]=I[F++],I[s++]=I[F++],I[s++]=I[F++],X-=3;while(X>2);X&&(I[s++]=I[F++],X>1&&(I[s++]=I[F++]))}}else if(V&64){e.msg="invalid distance code",x.mode=rp;break e}else{L=D[(L&65535)+(p&(1<<V)-1)];continue n}break}}else if(V&64)if(V&32){x.mode=XH;break e}else{e.msg="invalid literal/length code",x.mode=rp;break e}else{L=k[(L&65535)+(p&(1<<V)-1)];continue t}break}}while(r<i&&s<a);X=_>>3,r-=X,_-=X<<3,p&=(1<<_)-1,e.next_in=r,e.next_out=s,e.avail_in=r<i?5+(i-r):5-(r-i),e.avail_out=s<a?257+(a-s):257-(s-a),x.hold=p,x.bits=_};const Wu=15,m3=852,g3=592,y3=0,a0=1,v3=2,ZH=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),eW=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),tW=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),nW=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),rW=(t,e,n,r,i,s,o,a)=>{const l=a.bits;let u=0,c=0,d=0,g=0,p=0,_=0,k=0,D=0,w=0,C=0,L,V,X,W,F,A=null,E;const I=new Uint16Array(Wu+1),x=new Uint16Array(Wu+1);let T=null,N,J,ae;for(u=0;u<=Wu;u++)I[u]=0;for(c=0;c<r;c++)I[e[n+c]]++;for(p=l,g=Wu;g>=1&&I[g]===0;g--);if(p>g&&(p=g),g===0)return i[s++]=1<<24|64<<16|0,i[s++]=1<<24|64<<16|0,a.bits=1,0;for(d=1;d<g&&I[d]===0;d++);for(p<d&&(p=d),D=1,u=1;u<=Wu;u++)if(D<<=1,D-=I[u],D<0)return-1;if(D>0&&(t===y3||g!==1))return-1;for(x[1]=0,u=1;u<Wu;u++)x[u+1]=x[u]+I[u];for(c=0;c<r;c++)e[n+c]!==0&&(o[x[e[n+c]]++]=c);if(t===y3?(A=T=o,E=20):t===a0?(A=ZH,T=eW,E=257):(A=tW,T=nW,E=0),C=0,c=0,u=d,F=s,_=p,k=0,X=-1,w=1<<p,W=w-1,t===a0&&w>m3||t===v3&&w>g3)return 1;for(;;){N=u-k,o[c]+1<E?(J=0,ae=o[c]):o[c]>=E?(J=T[o[c]-E],ae=A[o[c]-E]):(J=96,ae=0),L=1<<u-k,V=1<<_,d=V;do V-=L,i[F+(C>>k)+V]=N<<24|J<<16|ae|0;while(V!==0);for(L=1<<u-1;C&L;)L>>=1;if(L!==0?(C&=L-1,C+=L):C=0,c++,--I[u]===0){if(u===g)break;u=e[n+o[c]]}if(u>p&&(C&W)!==X){for(k===0&&(k=p),F+=d,_=u-k,D=1<<_;_+k<g&&(D-=I[_+k],!(D<=0));)_++,D<<=1;if(w+=1<<_,t===a0&&w>m3||t===v3&&w>g3)return 1;X=C&W,i[X]=p<<24|_<<16|F-s|0}}return C!==0&&(i[F+C]=u-k<<24|64<<16|0),a.bits=p,0};var df=rW;const iW=0,ZT=1,e6=2,{Z_FINISH:w3,Z_BLOCK:sW,Z_TREES:ip,Z_OK:bu,Z_STREAM_END:oW,Z_NEED_DICT:aW,Z_STREAM_ERROR:Ts,Z_DATA_ERROR:t6,Z_MEM_ERROR:n6,Z_BUF_ERROR:lW,Z_DEFLATED:_3}=YT,Fg=16180,b3=16181,x3=16182,k3=16183,S3=16184,A3=16185,E3=16186,I3=16187,T3=16188,C3=16189,Bm=16190,Xo=16191,l0=16192,N3=16193,u0=16194,P3=16195,L3=16196,R3=16197,D3=16198,sp=16199,op=16200,O3=16201,M3=16202,F3=16203,j3=16204,V3=16205,c0=16206,B3=16207,U3=16208,On=16209,r6=16210,i6=16211,uW=852,cW=592,hW=15,fW=hW,z3=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function dW(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Cu=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<Fg||e.mode>i6?1:0},s6=t=>{if(Cu(t))return Ts;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=Fg,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(uW),e.distcode=e.distdyn=new Int32Array(cW),e.sane=1,e.back=-1,bu},o6=t=>{if(Cu(t))return Ts;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,s6(t)},a6=(t,e)=>{let n;if(Cu(t))return Ts;const r=t.state;return e<0?(n=0,e=-e):(n=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?Ts:(r.window!==null&&r.wbits!==e&&(r.window=null),r.wrap=n,r.wbits=e,o6(t))},l6=(t,e)=>{if(!t)return Ts;const n=new dW;t.state=n,n.strm=t,n.window=null,n.mode=Fg;const r=a6(t,e);return r!==bu&&(t.state=null),r},pW=t=>l6(t,fW);let q3=!0,h0,f0;const mW=t=>{if(q3){h0=new Int32Array(512),f0=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(df(ZT,t.lens,0,288,h0,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;df(e6,t.lens,0,32,f0,0,t.work,{bits:5}),q3=!1}t.lencode=h0,t.lenbits=9,t.distcode=f0,t.distbits=5},u6=(t,e,n,r)=>{let i;const s=t.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),r>=s.wsize?(s.window.set(e.subarray(n-s.wsize,n),0),s.wnext=0,s.whave=s.wsize):(i=s.wsize-s.wnext,i>r&&(i=r),s.window.set(e.subarray(n-r,n-r+i),s.wnext),r-=i,r?(s.window.set(e.subarray(n-r,n),0),s.wnext=r,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i))),0},gW=(t,e)=>{let n,r,i,s,o,a,l,u,c,d,g,p,_,k,D=0,w,C,L,V,X,W,F,A;const E=new Uint8Array(4);let I,x;const T=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Cu(t)||!t.output||!t.input&&t.avail_in!==0)return Ts;n=t.state,n.mode===Xo&&(n.mode=l0),o=t.next_out,i=t.output,l=t.avail_out,s=t.next_in,r=t.input,a=t.avail_in,u=n.hold,c=n.bits,d=a,g=l,A=bu;e:for(;;)switch(n.mode){case Fg:if(n.wrap===0){n.mode=l0;break}for(;c<16;){if(a===0)break e;a--,u+=r[s++]<<c,c+=8}if(n.wrap&2&&u===35615){n.wbits===0&&(n.wbits=15),n.check=0,E[0]=u&255,E[1]=u>>>8&255,n.check=vo(n.check,E,2,0),u=0,c=0,n.mode=b3;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((u&255)<<8)+(u>>8))%31){t.msg="incorrect header check",n.mode=On;break}if((u&15)!==_3){t.msg="unknown compression method",n.mode=On;break}if(u>>>=4,c-=4,F=(u&15)+8,n.wbits===0&&(n.wbits=F),F>15||F>n.wbits){t.msg="invalid window size",n.mode=On;break}n.dmax=1<<n.wbits,n.flags=0,t.adler=n.check=1,n.mode=u&512?C3:Xo,u=0,c=0;break;case b3:for(;c<16;){if(a===0)break e;a--,u+=r[s++]<<c,c+=8}if(n.flags=u,(n.flags&255)!==_3){t.msg="unknown compression method",n.mode=On;break}if(n.flags&57344){t.msg="unknown header flags set",n.mode=On;break}n.head&&(n.head.text=u>>8&1),n.flags&512&&n.wrap&4&&(E[0]=u&255,E[1]=u>>>8&255,n.check=vo(n.check,E,2,0)),u=0,c=0,n.mode=x3;case x3:for(;c<32;){if(a===0)break e;a--,u+=r[s++]<<c,c+=8}n.head&&(n.head.time=u),n.flags&512&&n.wrap&4&&(E[0]=u&255,E[1]=u>>>8&255,E[2]=u>>>16&255,E[3]=u>>>24&255,n.check=vo(n.check,E,4,0)),u=0,c=0,n.mode=k3;case k3:for(;c<16;){if(a===0)break e;a--,u+=r[s++]<<c,c+=8}n.head&&(n.head.xflags=u&255,n.head.os=u>>8),n.flags&512&&n.wrap&4&&(E[0]=u&255,E[1]=u>>>8&255,n.check=vo(n.check,E,2,0)),u=0,c=0,n.mode=S3;case S3:if(n.flags&1024){for(;c<16;){if(a===0)break e;a--,u+=r[s++]<<c,c+=8}n.length=u,n.head&&(n.head.extra_len=u),n.flags&512&&n.wrap&4&&(E[0]=u&255,E[1]=u>>>8&255,n.check=vo(n.check,E,2,0)),u=0,c=0}else n.head&&(n.head.extra=null);n.mode=A3;case A3:if(n.flags&1024&&(p=n.length,p>a&&(p=a),p&&(n.head&&(F=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(s,s+p),F)),n.flags&512&&n.wrap&4&&(n.check=vo(n.check,r,p,s)),a-=p,s+=p,n.length-=p),n.length))break e;n.length=0,n.mode=E3;case E3:if(n.flags&2048){if(a===0)break e;p=0;do F=r[s+p++],n.head&&F&&n.length<65536&&(n.head.name+=String.fromCharCode(F));while(F&&p<a);if(n.flags&512&&n.wrap&4&&(n.check=vo(n.check,r,p,s)),a-=p,s+=p,F)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=I3;case I3:if(n.flags&4096){if(a===0)break e;p=0;do F=r[s+p++],n.head&&F&&n.length<65536&&(n.head.comment+=String.fromCharCode(F));while(F&&p<a);if(n.flags&512&&n.wrap&4&&(n.check=vo(n.check,r,p,s)),a-=p,s+=p,F)break e}else n.head&&(n.head.comment=null);n.mode=T3;case T3:if(n.flags&512){for(;c<16;){if(a===0)break e;a--,u+=r[s++]<<c,c+=8}if(n.wrap&4&&u!==(n.check&65535)){t.msg="header crc mismatch",n.mode=On;break}u=0,c=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=Xo;break;case C3:for(;c<32;){if(a===0)break e;a--,u+=r[s++]<<c,c+=8}t.adler=n.check=z3(u),u=0,c=0,n.mode=Bm;case Bm:if(n.havedict===0)return t.next_out=o,t.avail_out=l,t.next_in=s,t.avail_in=a,n.hold=u,n.bits=c,aW;t.adler=n.check=1,n.mode=Xo;case Xo:if(e===sW||e===ip)break e;case l0:if(n.last){u>>>=c&7,c-=c&7,n.mode=c0;break}for(;c<3;){if(a===0)break e;a--,u+=r[s++]<<c,c+=8}switch(n.last=u&1,u>>>=1,c-=1,u&3){case 0:n.mode=N3;break;case 1:if(mW(n),n.mode=sp,e===ip){u>>>=2,c-=2;break e}break;case 2:n.mode=L3;break;case 3:t.msg="invalid block type",n.mode=On}u>>>=2,c-=2;break;case N3:for(u>>>=c&7,c-=c&7;c<32;){if(a===0)break e;a--,u+=r[s++]<<c,c+=8}if((u&65535)!==(u>>>16^65535)){t.msg="invalid stored block lengths",n.mode=On;break}if(n.length=u&65535,u=0,c=0,n.mode=u0,e===ip)break e;case u0:n.mode=P3;case P3:if(p=n.length,p){if(p>a&&(p=a),p>l&&(p=l),p===0)break e;i.set(r.subarray(s,s+p),o),a-=p,s+=p,l-=p,o+=p,n.length-=p;break}n.mode=Xo;break;case L3:for(;c<14;){if(a===0)break e;a--,u+=r[s++]<<c,c+=8}if(n.nlen=(u&31)+257,u>>>=5,c-=5,n.ndist=(u&31)+1,u>>>=5,c-=5,n.ncode=(u&15)+4,u>>>=4,c-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=On;break}n.have=0,n.mode=R3;case R3:for(;n.have<n.ncode;){for(;c<3;){if(a===0)break e;a--,u+=r[s++]<<c,c+=8}n.lens[T[n.have++]]=u&7,u>>>=3,c-=3}for(;n.have<19;)n.lens[T[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,I={bits:n.lenbits},A=df(iW,n.lens,0,19,n.lencode,0,n.work,I),n.lenbits=I.bits,A){t.msg="invalid code lengths set",n.mode=On;break}n.have=0,n.mode=D3;case D3:for(;n.have<n.nlen+n.ndist;){for(;D=n.lencode[u&(1<<n.lenbits)-1],w=D>>>24,C=D>>>16&255,L=D&65535,!(w<=c);){if(a===0)break e;a--,u+=r[s++]<<c,c+=8}if(L<16)u>>>=w,c-=w,n.lens[n.have++]=L;else{if(L===16){for(x=w+2;c<x;){if(a===0)break e;a--,u+=r[s++]<<c,c+=8}if(u>>>=w,c-=w,n.have===0){t.msg="invalid bit length repeat",n.mode=On;break}F=n.lens[n.have-1],p=3+(u&3),u>>>=2,c-=2}else if(L===17){for(x=w+3;c<x;){if(a===0)break e;a--,u+=r[s++]<<c,c+=8}u>>>=w,c-=w,F=0,p=3+(u&7),u>>>=3,c-=3}else{for(x=w+7;c<x;){if(a===0)break e;a--,u+=r[s++]<<c,c+=8}u>>>=w,c-=w,F=0,p=11+(u&127),u>>>=7,c-=7}if(n.have+p>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=On;break}for(;p--;)n.lens[n.have++]=F}}if(n.mode===On)break;if(n.lens[256]===0){t.msg="invalid code -- missing end-of-block",n.mode=On;break}if(n.lenbits=9,I={bits:n.lenbits},A=df(ZT,n.lens,0,n.nlen,n.lencode,0,n.work,I),n.lenbits=I.bits,A){t.msg="invalid literal/lengths set",n.mode=On;break}if(n.distbits=6,n.distcode=n.distdyn,I={bits:n.distbits},A=df(e6,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,I),n.distbits=I.bits,A){t.msg="invalid distances set",n.mode=On;break}if(n.mode=sp,e===ip)break e;case sp:n.mode=op;case op:if(a>=6&&l>=258){t.next_out=o,t.avail_out=l,t.next_in=s,t.avail_in=a,n.hold=u,n.bits=c,JH(t,g),o=t.next_out,i=t.output,l=t.avail_out,s=t.next_in,r=t.input,a=t.avail_in,u=n.hold,c=n.bits,n.mode===Xo&&(n.back=-1);break}for(n.back=0;D=n.lencode[u&(1<<n.lenbits)-1],w=D>>>24,C=D>>>16&255,L=D&65535,!(w<=c);){if(a===0)break e;a--,u+=r[s++]<<c,c+=8}if(C&&!(C&240)){for(V=w,X=C,W=L;D=n.lencode[W+((u&(1<<V+X)-1)>>V)],w=D>>>24,C=D>>>16&255,L=D&65535,!(V+w<=c);){if(a===0)break e;a--,u+=r[s++]<<c,c+=8}u>>>=V,c-=V,n.back+=V}if(u>>>=w,c-=w,n.back+=w,n.length=L,C===0){n.mode=V3;break}if(C&32){n.back=-1,n.mode=Xo;break}if(C&64){t.msg="invalid literal/length code",n.mode=On;break}n.extra=C&15,n.mode=O3;case O3:if(n.extra){for(x=n.extra;c<x;){if(a===0)break e;a--,u+=r[s++]<<c,c+=8}n.length+=u&(1<<n.extra)-1,u>>>=n.extra,c-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=M3;case M3:for(;D=n.distcode[u&(1<<n.distbits)-1],w=D>>>24,C=D>>>16&255,L=D&65535,!(w<=c);){if(a===0)break e;a--,u+=r[s++]<<c,c+=8}if(!(C&240)){for(V=w,X=C,W=L;D=n.distcode[W+((u&(1<<V+X)-1)>>V)],w=D>>>24,C=D>>>16&255,L=D&65535,!(V+w<=c);){if(a===0)break e;a--,u+=r[s++]<<c,c+=8}u>>>=V,c-=V,n.back+=V}if(u>>>=w,c-=w,n.back+=w,C&64){t.msg="invalid distance code",n.mode=On;break}n.offset=L,n.extra=C&15,n.mode=F3;case F3:if(n.extra){for(x=n.extra;c<x;){if(a===0)break e;a--,u+=r[s++]<<c,c+=8}n.offset+=u&(1<<n.extra)-1,u>>>=n.extra,c-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=On;break}n.mode=j3;case j3:if(l===0)break e;if(p=g-l,n.offset>p){if(p=n.offset-p,p>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=On;break}p>n.wnext?(p-=n.wnext,_=n.wsize-p):_=n.wnext-p,p>n.length&&(p=n.length),k=n.window}else k=i,_=o-n.offset,p=n.length;p>l&&(p=l),l-=p,n.length-=p;do i[o++]=k[_++];while(--p);n.length===0&&(n.mode=op);break;case V3:if(l===0)break e;i[o++]=n.length,l--,n.mode=op;break;case c0:if(n.wrap){for(;c<32;){if(a===0)break e;a--,u|=r[s++]<<c,c+=8}if(g-=l,t.total_out+=g,n.total+=g,n.wrap&4&&g&&(t.adler=n.check=n.flags?vo(n.check,i,g,o-g):cy(n.check,i,g,o-g)),g=l,n.wrap&4&&(n.flags?u:z3(u))!==n.check){t.msg="incorrect data check",n.mode=On;break}u=0,c=0}n.mode=B3;case B3:if(n.wrap&&n.flags){for(;c<32;){if(a===0)break e;a--,u+=r[s++]<<c,c+=8}if(n.wrap&4&&u!==(n.total&4294967295)){t.msg="incorrect length check",n.mode=On;break}u=0,c=0}n.mode=U3;case U3:A=oW;break e;case On:A=t6;break e;case r6:return n6;case i6:default:return Ts}return t.next_out=o,t.avail_out=l,t.next_in=s,t.avail_in=a,n.hold=u,n.bits=c,(n.wsize||g!==t.avail_out&&n.mode<On&&(n.mode<c0||e!==w3))&&u6(t,t.output,t.next_out,g-t.avail_out),d-=t.avail_in,g-=t.avail_out,t.total_in+=d,t.total_out+=g,n.total+=g,n.wrap&4&&g&&(t.adler=n.check=n.flags?vo(n.check,i,g,t.next_out-g):cy(n.check,i,g,t.next_out-g)),t.data_type=n.bits+(n.last?64:0)+(n.mode===Xo?128:0)+(n.mode===sp||n.mode===u0?256:0),(d===0&&g===0||e===w3)&&A===bu&&(A=lW),A},yW=t=>{if(Cu(t))return Ts;let e=t.state;return e.window&&(e.window=null),t.state=null,bu},vW=(t,e)=>{if(Cu(t))return Ts;const n=t.state;return n.wrap&2?(n.head=e,e.done=!1,bu):Ts},wW=(t,e)=>{const n=e.length;let r,i,s;return Cu(t)||(r=t.state,r.wrap!==0&&r.mode!==Bm)?Ts:r.mode===Bm&&(i=1,i=cy(i,e,n,0),i!==r.check)?t6:(s=u6(t,e,n,n),s?(r.mode=r6,n6):(r.havedict=1,bu))};var _W=o6,bW=a6,xW=s6,kW=pW,SW=l6,AW=gW,EW=yW,IW=vW,TW=wW,CW="pako inflate (from Nodeca project)",ea={inflateReset:_W,inflateReset2:bW,inflateResetKeep:xW,inflateInit:kW,inflateInit2:SW,inflate:AW,inflateEnd:EW,inflateGetHeader:IW,inflateSetDictionary:TW,inflateInfo:CW};function NW(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var PW=NW;const c6=Object.prototype.toString,{Z_NO_FLUSH:LW,Z_FINISH:RW,Z_OK:qf,Z_STREAM_END:d0,Z_NEED_DICT:p0,Z_STREAM_ERROR:DW,Z_DATA_ERROR:$3,Z_MEM_ERROR:OW}=YT;function cd(t){this.options=XT.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new YH,this.strm.avail_out=0;let n=ea.inflateInit2(this.strm,e.windowBits);if(n!==qf)throw new Error(hy[n]);if(this.header=new PW,ea.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=fy.string2buf(e.dictionary):c6.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=ea.inflateSetDictionary(this.strm,e.dictionary),n!==qf)))throw new Error(hy[n])}cd.prototype.push=function(t,e){const n=this.strm,r=this.options.chunkSize,i=this.options.dictionary;let s,o,a;if(this.ended)return!1;for(e===~~e?o=e:o=e===!0?RW:LW,c6.call(t)==="[object ArrayBuffer]"?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),s=ea.inflate(n,o),s===p0&&i&&(s=ea.inflateSetDictionary(n,i),s===qf?s=ea.inflate(n,o):s===$3&&(s=p0));n.avail_in>0&&s===d0&&n.state.wrap>0&&t[n.next_in]!==0;)ea.inflateReset(n),s=ea.inflate(n,o);switch(s){case DW:case $3:case p0:case OW:return this.onEnd(s),this.ended=!0,!1}if(a=n.avail_out,n.next_out&&(n.avail_out===0||s===d0))if(this.options.to==="string"){let l=fy.utf8border(n.output,n.next_out),u=n.next_out-l,c=fy.buf2string(n.output,l);n.next_out=u,n.avail_out=r-u,u&&n.output.set(n.output.subarray(l,l+u),0),this.onData(c)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(s===qf&&a===0)){if(s===d0)return s=ea.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};cd.prototype.onData=function(t){this.chunks.push(t)};cd.prototype.onEnd=function(t){t===qf&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=XT.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function MW(t,e){const n=new cd(e);if(n.push(t),n.err)throw n.msg||hy[n.err];return n.result}var FW=cd,jW=MW,VW={Inflate:FW,inflate:jW};const{Inflate:BW,inflate:UW}=VW;var H3=BW,zW=UW;const h6=[];for(let t=0;t<256;t++){let e=t;for(let n=0;n<8;n++)e&1?e=3988292384^e>>>1:e=e>>>1;h6[t]=e}const W3=4294967295;function qW(t,e,n){let r=t;for(let i=0;i<n;i++)r=h6[(r^e[i])&255]^r>>>8;return r}function $W(t,e){return(qW(W3,t,e)^W3)>>>0}function G3(t,e,n){const r=t.readUint32(),i=$W(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(i!==r)throw new Error(`CRC mismatch for chunk ${n}. Expected ${r}, found ${i}`)}function f6(t,e,n){for(let r=0;r<n;r++)e[r]=t[r]}function d6(t,e,n,r){let i=0;for(;i<r;i++)e[i]=t[i];for(;i<n;i++)e[i]=t[i]+e[i-r]&255}function p6(t,e,n,r){let i=0;if(n.length===0)for(;i<r;i++)e[i]=t[i];else for(;i<r;i++)e[i]=t[i]+n[i]&255}function m6(t,e,n,r,i){let s=0;if(n.length===0){for(;s<i;s++)e[s]=t[s];for(;s<r;s++)e[s]=t[s]+(e[s-i]>>1)&255}else{for(;s<i;s++)e[s]=t[s]+(n[s]>>1)&255;for(;s<r;s++)e[s]=t[s]+(e[s-i]+n[s]>>1)&255}}function g6(t,e,n,r,i){let s=0;if(n.length===0){for(;s<i;s++)e[s]=t[s];for(;s<r;s++)e[s]=t[s]+e[s-i]&255}else{for(;s<i;s++)e[s]=t[s]+n[s]&255;for(;s<r;s++)e[s]=t[s]+HW(e[s-i],n[s],n[s-i])&255}}function HW(t,e,n){const r=t+e-n,i=Math.abs(r-t),s=Math.abs(r-e),o=Math.abs(r-n);return i<=s&&i<=o?t:s<=o?e:n}function WW(t,e,n,r,i,s){switch(t){case 0:f6(e,n,i);break;case 1:d6(e,n,i,s);break;case 2:p6(e,n,r,i);break;case 3:m6(e,n,r,i,s);break;case 4:g6(e,n,r,i,s);break;default:throw new Error(`Unsupported filter: ${t}`)}}const GW=new Uint16Array([255]),KW=new Uint8Array(GW.buffer),QW=KW[0]===255;function YW(t){const{data:e,width:n,height:r,channels:i,depth:s}=t,o=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],a=Math.ceil(s/8)*i,l=new Uint8Array(r*n*a);let u=0;for(let c=0;c<7;c++){const d=o[c],g=Math.ceil((n-d.x)/d.xStep),p=Math.ceil((r-d.y)/d.yStep);if(g<=0||p<=0)continue;const _=g*a,k=new Uint8Array(_);for(let D=0;D<p;D++){const w=e[u++],C=e.subarray(u,u+_);u+=_;const L=new Uint8Array(_);WW(w,C,L,k,_,a),k.set(L);for(let V=0;V<g;V++){const X=d.x+V*d.xStep,W=d.y+D*d.yStep;if(!(X>=n||W>=r))for(let F=0;F<a;F++)l[(W*n+X)*a+F]=L[V*a+F]}}}if(s===16){const c=new Uint16Array(l.buffer);if(QW)for(let d=0;d<c.length;d++)c[d]=XW(c[d]);return c}else return l}function XW(t){return(t&255)<<8|t>>8&255}const JW=new Uint16Array([255]),ZW=new Uint8Array(JW.buffer),eG=ZW[0]===255,tG=new Uint8Array(0);function K3(t){const{data:e,width:n,height:r,channels:i,depth:s}=t,o=Math.ceil(s/8)*i,a=Math.ceil(s/8*i*n),l=new Uint8Array(r*a);let u=tG,c=0,d,g;for(let p=0;p<r;p++){switch(d=e.subarray(c+1,c+1+a),g=l.subarray(p*a,(p+1)*a),e[c]){case 0:f6(d,g,a);break;case 1:d6(d,g,a,o);break;case 2:p6(d,g,u,a);break;case 3:m6(d,g,u,a,o);break;case 4:g6(d,g,u,a,o);break;default:throw new Error(`Unsupported filter: ${e[c]}`)}u=g,c+=a+1}if(s===16){const p=new Uint16Array(l.buffer);if(eG)for(let _=0;_<p.length;_++)p[_]=nG(p[_]);return p}else return l}function nG(t){return(t&255)<<8|t>>8&255}const Mp=Uint8Array.of(137,80,78,71,13,10,26,10);function Q3(t){if(!rG(t.readBytes(Mp.length)))throw new Error("wrong PNG signature")}function rG(t){if(t.length<Mp.length)return!1;for(let e=0;e<Mp.length;e++)if(t[e]!==Mp[e])return!1;return!0}const iG="tEXt",sG=0,y6=new TextDecoder("latin1");function oG(t){if(lG(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const aG=/^[\u0000-\u00FF]*$/;function lG(t){if(!aG.test(t))throw new Error("invalid latin1 text")}function uG(t,e,n){const r=v6(e);t[r]=cG(e,n-r.length-1)}function v6(t){for(t.mark();t.readByte()!==sG;);const e=t.offset;t.reset();const n=y6.decode(t.readBytes(e-t.offset-1));return t.skip(1),oG(n),n}function cG(t,e){return y6.decode(t.readBytes(e))}const Wi={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},m0={UNKNOWN:-1,DEFLATE:0},Y3={UNKNOWN:-1,ADAPTIVE:0},g0={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},ap={NONE:0,BACKGROUND:1,PREVIOUS:2},y0={SOURCE:0,OVER:1};class hG extends Lv{constructor(n,r={}){super(n);an(this,"_checkCrc");an(this,"_inflator");an(this,"_png");an(this,"_apng");an(this,"_end");an(this,"_hasPalette");an(this,"_palette");an(this,"_hasTransparency");an(this,"_transparency");an(this,"_compressionMethod");an(this,"_filterMethod");an(this,"_interlaceMethod");an(this,"_colorType");an(this,"_isAnimated");an(this,"_numberOfFrames");an(this,"_numberOfPlays");an(this,"_frames");an(this,"_writingDataChunks");const{checkCrc:i=!1}=r;this._checkCrc=i,this._inflator=new H3,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=m0.UNKNOWN,this._filterMethod=Y3.UNKNOWN,this._interlaceMethod=g0.UNKNOWN,this._colorType=Wi.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(Q3(this);!this._end;){const n=this.readUint32(),r=this.readChars(4);this.decodeChunk(n,r)}return this.decodeImage(),this._png}decodeApng(){for(Q3(this);!this._end;){const n=this.readUint32(),r=this.readChars(4);this.decodeApngChunk(n,r)}return this.decodeApngImage(),this._apng}decodeChunk(n,r){const i=this.offset;switch(r){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(n);break;case"IDAT":this.decodeIDAT(n);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(n);break;case"iCCP":this.decodeiCCP(n);break;case iG:uG(this._png.text,this,n);break;case"pHYs":this.decodepHYs();break;default:this.skip(n);break}if(this.offset-i!==n)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?G3(this,n+4,r):this.skip(4)}decodeApngChunk(n,r){const i=this.offset;switch(r!=="fdAT"&&r!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),r){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(n);break;default:this.decodeChunk(n,r),this.offset=i+n;break}if(this.offset-i!==n)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?G3(this,n+4,r):this.skip(4)}decodeIHDR(){const n=this._png;n.width=this.readUint32(),n.height=this.readUint32(),n.depth=fG(this.readUint8());const r=this.readUint8();this._colorType=r;let i;switch(r){case Wi.GREYSCALE:i=1;break;case Wi.TRUECOLOUR:i=3;break;case Wi.INDEXED_COLOUR:i=1;break;case Wi.GREYSCALE_ALPHA:i=2;break;case Wi.TRUECOLOUR_ALPHA:i=4;break;case Wi.UNKNOWN:default:throw new Error(`Unknown color type: ${r}`)}if(this._png.channels=i,this._compressionMethod=this.readUint8(),this._compressionMethod!==m0.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const n={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(n)}decodePLTE(n){if(n%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${n}`);const r=n/3;this._hasPalette=!0;const i=[];this._palette=i;for(let s=0;s<r;s++)i.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(n){this._writingDataChunks=!0;const r=n,i=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,i,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodeFDAT(n){this._writingDataChunks=!0;let r=n,i=this.offset+this.byteOffset;if(i+=4,r-=4,this._inflator.push(new Uint8Array(this.buffer,i,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodetRNS(n){switch(this._colorType){case Wi.GREYSCALE:case Wi.TRUECOLOUR:{if(n%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${n}`);if(n/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${n/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(n/2);for(let r=0;r<n/2;r++)this._transparency[r]=this.readUint16();break}case Wi.INDEXED_COLOUR:{if(n>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${n} vs ${this._palette.length})`);let r=0;for(;r<n;r++){const i=this.readByte();this._palette[r].push(i)}for(;r<this._palette.length;r++)this._palette[r].push(255);break}case Wi.UNKNOWN:case Wi.GREYSCALE_ALPHA:case Wi.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(n){const r=v6(this),i=this.readUint8();if(i!==m0.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${i}`);const s=this.readBytes(n-r.length-2);this._png.iccEmbeddedProfile={name:r,profile:zW(s)}}decodepHYs(){const n=this.readUint32(),r=this.readUint32(),i=this.readByte();this._png.resolution={x:n,y:r,unit:i}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let n=0;n<this._numberOfFrames;n++){const r={sequenceNumber:this._frames[n].sequenceNumber,delayNumber:this._frames[n].delayNumber,delayDenominator:this._frames[n].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},i=this._frames.at(n);if(i){if(i.data=K3({data:i.data,width:i.width,height:i.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),n===0||i.xOffset===0&&i.yOffset===0&&i.width===this._png.width&&i.height===this._png.height)r.data=i.data;else{const s=this._apng.frames.at(n-1);this.disposeFrame(i,s,r),this.addFrameDataToCanvas(r,i)}this._apng.frames.push(r)}}return this._apng}disposeFrame(n,r,i){switch(n.disposeOp){case ap.NONE:break;case ap.BACKGROUND:for(let s=0;s<this._png.height;s++)for(let o=0;o<this._png.width;o++){const a=(s*n.width+o)*this._png.channels;for(let l=0;l<this._png.channels;l++)i.data[a+l]=0}break;case ap.PREVIOUS:i.data.set(r.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(n,r){const i=1<<this._png.depth,s=(o,a)=>{const l=((o+r.yOffset)*this._png.width+r.xOffset+a)*this._png.channels,u=(o*r.width+a)*this._png.channels;return{index:l,frameIndex:u}};switch(r.blendOp){case y0.SOURCE:for(let o=0;o<r.height;o++)for(let a=0;a<r.width;a++){const{index:l,frameIndex:u}=s(o,a);for(let c=0;c<this._png.channels;c++)n.data[l+c]=r.data[u+c]}break;case y0.OVER:for(let o=0;o<r.height;o++)for(let a=0;a<r.width;a++){const{index:l,frameIndex:u}=s(o,a);for(let c=0;c<this._png.channels;c++){const d=r.data[u+this._png.channels-1]/i,g=c%(this._png.channels-1)===0?1:r.data[u+c],p=Math.floor(d*g+(1-d)*n.data[l+c]);n.data[l+c]+=p}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var r;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const n=this._isAnimated?((r=this._frames)==null?void 0:r.at(0)).data:this._inflator.result;if(this._filterMethod!==Y3.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===g0.NO_INTERLACE)this._png.data=K3({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===g0.ADAM7)this._png.data=YW({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const n=this._inflator.result,r=this._frames.at(-1);r?r.data=n:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:ap.NONE,blendOp:y0.SOURCE,data:n}),this._inflator=new H3,this._writingDataChunks=!1}}function fG(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var X3;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(X3||(X3={}));function dG(t,e){return new hG(t,e).decode()}var At=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function v0(){At.console&&typeof At.console.log=="function"&&At.console.log.apply(At.console,arguments)}var pn={log:v0,warn:function(t){At.console&&(typeof At.console.warn=="function"?At.console.warn.apply(At.console,arguments):v0.call(null,arguments))},error:function(t){At.console&&(typeof At.console.error=="function"?At.console.error.apply(At.console,arguments):v0(t))}};function w0(t,e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){Ql(r.response,e,n)},r.onerror=function(){pn.error("could not download file")},r.send()}function J3(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function lp(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var Ql=At.saveAs||((typeof window>"u"?"undefined":ln(window))!=="object"||window!==At?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var r=At.URL||At.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?J3(i.href)?w0(t,e,n):lp(i,i.target="_blank"):lp(i)):(i.href=r.createObjectURL(t),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){lp(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download",typeof t=="string")if(J3(t))w0(t,e,n);else{var r=document.createElement("a");r.href=t,r.target="_blank",setTimeout(function(){lp(r)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:ln(s)!=="object"&&(pn.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(t,n),e)}:function(t,e,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof t=="string")return w0(t,e,n);var i=t.type==="application/octet-stream",s=/constructor/i.test(At.HTMLElement)||At.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&s)&&(typeof FileReader>"u"?"undefined":ln(FileReader))==="object"){var a=new FileReader;a.onloadend=function(){var c=a.result;c=o?c:c.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=c:location=c,r=null},a.readAsDataURL(t)}else{var l=At.URL||At.webkitURL,u=l.createObjectURL(t);r?r.location=u:location.href=u,r=null,setTimeout(function(){l.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function w6(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,s=n[r].process,o=i.exec(t);o&&(e=s(o),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var a=this.r.toString(16),l=this.g.toString(16),u=this.b.toString(16);return a.length==1&&(a="0"+a),l.length==1&&(l="0"+l),u.length==1&&(u="0"+u),"#"+a+l+u}}var Fp=At.atob.bind(At),Z3=At.btoa.bind(At);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function _0(t,e){var n=t[0],r=t[1],i=t[2],s=t[3];n=Vr(n,r,i,s,e[0],7,-680876936),s=Vr(s,n,r,i,e[1],12,-389564586),i=Vr(i,s,n,r,e[2],17,606105819),r=Vr(r,i,s,n,e[3],22,-1044525330),n=Vr(n,r,i,s,e[4],7,-176418897),s=Vr(s,n,r,i,e[5],12,1200080426),i=Vr(i,s,n,r,e[6],17,-1473231341),r=Vr(r,i,s,n,e[7],22,-45705983),n=Vr(n,r,i,s,e[8],7,1770035416),s=Vr(s,n,r,i,e[9],12,-1958414417),i=Vr(i,s,n,r,e[10],17,-42063),r=Vr(r,i,s,n,e[11],22,-1990404162),n=Vr(n,r,i,s,e[12],7,1804603682),s=Vr(s,n,r,i,e[13],12,-40341101),i=Vr(i,s,n,r,e[14],17,-1502002290),n=Br(n,r=Vr(r,i,s,n,e[15],22,1236535329),i,s,e[1],5,-165796510),s=Br(s,n,r,i,e[6],9,-1069501632),i=Br(i,s,n,r,e[11],14,643717713),r=Br(r,i,s,n,e[0],20,-373897302),n=Br(n,r,i,s,e[5],5,-701558691),s=Br(s,n,r,i,e[10],9,38016083),i=Br(i,s,n,r,e[15],14,-660478335),r=Br(r,i,s,n,e[4],20,-405537848),n=Br(n,r,i,s,e[9],5,568446438),s=Br(s,n,r,i,e[14],9,-1019803690),i=Br(i,s,n,r,e[3],14,-187363961),r=Br(r,i,s,n,e[8],20,1163531501),n=Br(n,r,i,s,e[13],5,-1444681467),s=Br(s,n,r,i,e[2],9,-51403784),i=Br(i,s,n,r,e[7],14,1735328473),n=Ur(n,r=Br(r,i,s,n,e[12],20,-1926607734),i,s,e[5],4,-378558),s=Ur(s,n,r,i,e[8],11,-2022574463),i=Ur(i,s,n,r,e[11],16,1839030562),r=Ur(r,i,s,n,e[14],23,-35309556),n=Ur(n,r,i,s,e[1],4,-1530992060),s=Ur(s,n,r,i,e[4],11,1272893353),i=Ur(i,s,n,r,e[7],16,-155497632),r=Ur(r,i,s,n,e[10],23,-1094730640),n=Ur(n,r,i,s,e[13],4,681279174),s=Ur(s,n,r,i,e[0],11,-358537222),i=Ur(i,s,n,r,e[3],16,-722521979),r=Ur(r,i,s,n,e[6],23,76029189),n=Ur(n,r,i,s,e[9],4,-640364487),s=Ur(s,n,r,i,e[12],11,-421815835),i=Ur(i,s,n,r,e[15],16,530742520),n=zr(n,r=Ur(r,i,s,n,e[2],23,-995338651),i,s,e[0],6,-198630844),s=zr(s,n,r,i,e[7],10,1126891415),i=zr(i,s,n,r,e[14],15,-1416354905),r=zr(r,i,s,n,e[5],21,-57434055),n=zr(n,r,i,s,e[12],6,1700485571),s=zr(s,n,r,i,e[3],10,-1894986606),i=zr(i,s,n,r,e[10],15,-1051523),r=zr(r,i,s,n,e[1],21,-2054922799),n=zr(n,r,i,s,e[8],6,1873313359),s=zr(s,n,r,i,e[15],10,-30611744),i=zr(i,s,n,r,e[6],15,-1560198380),r=zr(r,i,s,n,e[13],21,1309151649),n=zr(n,r,i,s,e[4],6,-145523070),s=zr(s,n,r,i,e[11],10,-1120210379),i=zr(i,s,n,r,e[2],15,718787259),r=zr(r,i,s,n,e[9],21,-343485551),t[0]=el(n,t[0]),t[1]=el(r,t[1]),t[2]=el(i,t[2]),t[3]=el(s,t[3])}function jg(t,e,n,r,i,s){return e=el(el(e,t),el(r,s)),el(e<<i|e>>>32-i,n)}function Vr(t,e,n,r,i,s,o){return jg(e&n|~e&r,t,e,i,s,o)}function Br(t,e,n,r,i,s,o){return jg(e&r|n&~r,t,e,i,s,o)}function Ur(t,e,n,r,i,s,o){return jg(e^n^r,t,e,i,s,o)}function zr(t,e,n,r,i,s,o){return jg(n^(e|~r),t,e,i,s,o)}function _6(t){var e,n=t.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)_0(r,pG(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(_0(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*n,_0(r,i),r}function pG(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}var ex="0123456789abcdef".split("");function mG(t){for(var e="",n=0;n<4;n++)e+=ex[t>>8*n+4&15]+ex[t>>8*n&15];return e}function gG(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function dy(t){return _6(t).map(gG).join("")}var yG=function(t){for(var e=0;e<t.length;e++)t[e]=mG(t[e]);return t.join("")}(_6("hello"))!="5d41402abc4b2a76b9719d911017c592";function el(t,e){if(yG){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function py(t,e){var n,r,i,s;if(t!==n){for(var o=(i=t,s=1+(256/t.length|0),new Array(s+1).join(i)),a=[],l=0;l<256;l++)a[l]=l;var u=0;for(l=0;l<256;l++){var c=a[l];u=(u+c+o.charCodeAt(l))%256,a[l]=a[u],a[u]=c}n=t,r=a}else a=r;var d=e.length,g=0,p=0,_="";for(l=0;l<d;l++)p=(p+(c=a[g=(g+1)%256]))%256,a[g]=a[p],a[p]=c,o=a[(a[g]+a[p])%256],_+=String.fromCharCode(e.charCodeAt(l)^o);return _}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var tx={print:4,modify:8,copy:16,"annot-forms":32};function ec(t,e,n,r){this.v=1,this.r=2;var i=192;t.forEach(function(a){if(tx.perm!==void 0)throw new Error("Invalid permission: "+a);i+=tx[a]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(e+this.padding).substr(0,32),o=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,o),this.P=-(1+(255^i)),this.encryptionKey=dy(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=py(this.encryptionKey,this.padding)}function tc(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,r=0;r<n;r++){var i=t.charCodeAt(r);e+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):t[r]}return e}function nx(t){if(ln(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,r,i){if(i=i||!1,typeof n!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var s=Math.random().toString(35);return e[n][s]=[r,!!i],s},this.unsubscribe=function(n){for(var r in e)if(e[r][n])return delete e[r][n],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[n]){var o=e[n][s];try{o[0].apply(t,r)}catch(a){At.console&&pn.error("jsPDF PubSub Error",a.message,a)}o[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Um(t){if(!(this instanceof Um))return new Um(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function b6(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function Xl(t,e,n,r,i){if(!(this instanceof Xl))return new Xl(t,e,n,r,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=n,b6.call(this,r,i)}function mc(t,e,n,r,i){if(!(this instanceof mc))return new mc(t,e,n,r,i);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,b6.call(this,r,i)}function at(t){var e,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],s=arguments[3],o=[],a=1,l=16,u="S",c=null;ln(t=t||{})==="object"&&(n=t.orientation,r=t.unit||r,i=t.format||i,s=t.compress||t.compressPdf||s,(c=t.encryption||null)!==null&&(c.userPassword=c.userPassword||"",c.ownerPassword=c.ownerPassword||"",c.userPermissions=c.userPermissions||[]),a=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(l=t.floatPrecision),u=t.defaultPathOperation||"S"),o=t.filters||(s===!0?["FlateEncode"]:o),r=r||"mm",n=(""+(n||"P")).toLowerCase();var d=t.putOnlyUsedFonts||!1,g={},p={internal:{},__private__:{}};p.__private__.PubSub=nx;var _="1.3",k=p.__private__.getPdfVersion=function(){return _};p.__private__.setPdfVersion=function(y){_=y};var D={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return D};var w=p.__private__.getPageFormat=function(y){return D[y]};i=i||"a4";var C="compat",L="advanced",V=C;function X(){this.saveGraphicsState(),G(new mt($e,0,0,-$e,0,Os()*$e).toString()+" cm"),this.setFontSize(this.getFontSize()/$e),u="n",V=L}function W(){this.restoreGraphicsState(),u="S",V=C}var F=p.__private__.combineFontStyleAndFontWeight=function(y,O){if(y=="bold"&&O=="normal"||y=="bold"&&O==400||y=="normal"&&O=="italic"||y=="bold"&&O=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return O&&(y=O==400||O==="normal"?y==="italic"?"italic":"normal":O!=700&&O!=="bold"||y!=="normal"?(O==700?"bold":O)+""+y:"bold"),y};p.advancedAPI=function(y){var O=V===C;return O&&X.call(this),typeof y!="function"||(y(this),O&&W.call(this)),this},p.compatAPI=function(y){var O=V===L;return O&&W.call(this),typeof y!="function"||(y(this),O&&X.call(this)),this},p.isAdvancedAPI=function(){return V===L};var A,E=function(y){if(V!==L)throw new Error(y+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},I=p.roundToPrecision=p.__private__.roundToPrecision=function(y,O){var K=e||O;if(isNaN(y)||isNaN(K))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return y.toFixed(K).replace(/0+$/,"")};A=p.hpf=p.__private__.hpf=typeof l=="number"?function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.hpf");return I(y,l)}:l==="smart"?function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.hpf");return I(y,y>-1&&y<1?16:5)}:function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.hpf");return I(y,16)};var x=p.f2=p.__private__.f2=function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.f2");return I(y,2)},T=p.__private__.f3=function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.f3");return I(y,3)},N=p.scale=p.__private__.scale=function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.scale");return V===C?y*$e:V===L?y:void 0},J=function(y){return N(function(O){return V===C?Os()-O:V===L?O:void 0}(y))};p.__private__.setPrecision=p.setPrecision=function(y){typeof parseInt(y,10)=="number"&&(e=parseInt(y,10))};var ae,ye="00000000000000000000000000000000",ve=p.__private__.getFileId=function(){return ye},ee=p.__private__.setFileId=function(y){return ye=y!==void 0&&/^[a-fA-F0-9]{32}$/.test(y)?y.toUpperCase():ye.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),c!==null&&(Tn=new ec(c.userPermissions,c.userPassword,c.ownerPassword,ye)),ye};p.setFileId=function(y){return ee(y),this},p.getFileId=function(){return ve()};var ue=p.__private__.convertDateToPDFDate=function(y){var O=y.getTimezoneOffset(),K=O<0?"+":"-",te=Math.floor(Math.abs(O/60)),le=Math.abs(O%60),Se=[K,Z(te),"'",Z(le),"'"].join("");return["D:",y.getFullYear(),Z(y.getMonth()+1),Z(y.getDate()),Z(y.getHours()),Z(y.getMinutes()),Z(y.getSeconds()),Se].join("")},z=p.__private__.convertPDFDateToDate=function(y){var O=parseInt(y.substr(2,4),10),K=parseInt(y.substr(6,2),10)-1,te=parseInt(y.substr(8,2),10),le=parseInt(y.substr(10,2),10),Se=parseInt(y.substr(12,2),10),Pe=parseInt(y.substr(14,2),10);return new Date(O,K,te,le,Se,Pe,0)},_e=p.__private__.setCreationDate=function(y){var O;if(y===void 0&&(y=new Date),y instanceof Date)O=ue(y);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(y))throw new Error("Invalid argument passed to jsPDF.setCreationDate");O=y}return ae=O},j=p.__private__.getCreationDate=function(y){var O=ae;return y==="jsDate"&&(O=z(ae)),O};p.setCreationDate=function(y){return _e(y),this},p.getCreationDate=function(y){return j(y)};var R,Z=p.__private__.padd2=function(y){return("0"+parseInt(y)).slice(-2)},ne=p.__private__.padd2Hex=function(y){return("00"+(y=y.toString())).substr(y.length)},re=0,ce=[],we=[],be=0,ke=[],Re=[],qe=!1,ze=we;p.__private__.setCustomOutputDestination=function(y){qe=!0,ze=y};var it=function(y){qe||(ze=y)};p.__private__.resetCustomOutputDestination=function(){qe=!1,ze=we};var G=p.__private__.out=function(y){return y=y.toString(),be+=y.length+1,ze.push(y),ze},Be=p.__private__.write=function(y){return G(arguments.length===1?y.toString():Array.prototype.join.call(arguments," "))},St=p.__private__.getArrayBuffer=function(y){for(var O=y.length,K=new ArrayBuffer(O),te=new Uint8Array(K);O--;)te[O]=y.charCodeAt(O);return K},lt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return lt};var Ee=t.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(y){return Ee=V===L?y/$e:y,this};var Ge,We=p.__private__.getFontSize=p.getFontSize=function(){return V===C?Ee:Ee*$e},ut=t.R2L||!1;p.__private__.setR2L=p.setR2L=function(y){return ut=y,this},p.__private__.getR2L=p.getR2L=function(){return ut};var st,Kt=p.__private__.setZoomMode=function(y){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(y))Ge=y;else if(isNaN(y)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(y)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+y+'" is not recognized.');Ge=y}else Ge=parseInt(y,10)};p.__private__.getZoomMode=function(){return Ge};var Nt,de=p.__private__.setPageMode=function(y){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(y)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+y+'" is not recognized.');st=y};p.__private__.getPageMode=function(){return st};var Te=p.__private__.setLayoutMode=function(y){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(y)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+y+'" is not recognized.');Nt=y};p.__private__.getLayoutMode=function(){return Nt},p.__private__.setDisplayMode=p.setDisplayMode=function(y,O,K){return Kt(y),Te(O),de(K),this};var Ve={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(y){if(Object.keys(Ve).indexOf(y)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Ve[y]},p.__private__.getDocumentProperties=function(){return Ve},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(y){for(var O in Ve)Ve.hasOwnProperty(O)&&y[O]&&(Ve[O]=y[O]);return this},p.__private__.setDocumentProperty=function(y,O){if(Object.keys(Ve).indexOf(y)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Ve[y]=O};var De,$e,He,en,vt,wt={},_t={},It=[],et={},Dt={},pt={},bt={},cn=null,ft=0,dt=[],Ut=new nx(p),Mi=t.hotfixes||[],mr={},Cs={},xr=[],mt=function y(O,K,te,le,Se,Pe){if(!(this instanceof y))return new y(O,K,te,le,Se,Pe);isNaN(O)&&(O=1),isNaN(K)&&(K=0),isNaN(te)&&(te=0),isNaN(le)&&(le=1),isNaN(Se)&&(Se=0),isNaN(Pe)&&(Pe=0),this._matrix=[O,K,te,le,Se,Pe]};Object.defineProperty(mt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(y){this._matrix[0]=y}}),Object.defineProperty(mt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(y){this._matrix[1]=y}}),Object.defineProperty(mt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(y){this._matrix[2]=y}}),Object.defineProperty(mt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(y){this._matrix[3]=y}}),Object.defineProperty(mt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(y){this._matrix[4]=y}}),Object.defineProperty(mt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(y){this._matrix[5]=y}}),Object.defineProperty(mt.prototype,"a",{get:function(){return this._matrix[0]},set:function(y){this._matrix[0]=y}}),Object.defineProperty(mt.prototype,"b",{get:function(){return this._matrix[1]},set:function(y){this._matrix[1]=y}}),Object.defineProperty(mt.prototype,"c",{get:function(){return this._matrix[2]},set:function(y){this._matrix[2]=y}}),Object.defineProperty(mt.prototype,"d",{get:function(){return this._matrix[3]},set:function(y){this._matrix[3]=y}}),Object.defineProperty(mt.prototype,"e",{get:function(){return this._matrix[4]},set:function(y){this._matrix[4]=y}}),Object.defineProperty(mt.prototype,"f",{get:function(){return this._matrix[5]},set:function(y){this._matrix[5]=y}}),Object.defineProperty(mt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(mt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(mt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(mt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),mt.prototype.join=function(y){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(A).join(y)},mt.prototype.multiply=function(y){var O=y.sx*this.sx+y.shy*this.shx,K=y.sx*this.shy+y.shy*this.sy,te=y.shx*this.sx+y.sy*this.shx,le=y.shx*this.shy+y.sy*this.sy,Se=y.tx*this.sx+y.ty*this.shx+this.tx,Pe=y.tx*this.shy+y.ty*this.sy+this.ty;return new mt(O,K,te,le,Se,Pe)},mt.prototype.decompose=function(){var y=this.sx,O=this.shy,K=this.shx,te=this.sy,le=this.tx,Se=this.ty,Pe=Math.sqrt(y*y+O*O),Ye=(y/=Pe)*K+(O/=Pe)*te;K-=y*Ye,te-=O*Ye;var tt=Math.sqrt(K*K+te*te);return Ye/=tt,y*(te/=tt)<O*(K/=tt)&&(y=-y,O=-O,Ye=-Ye,Pe=-Pe),{scale:new mt(Pe,0,0,tt,0,0),translate:new mt(1,0,0,1,le,Se),rotate:new mt(y,O,-O,y,0,0),skew:new mt(1,0,Ye,1,0,0)}},mt.prototype.toString=function(y){return this.join(" ")},mt.prototype.inversed=function(){var y=this.sx,O=this.shy,K=this.shx,te=this.sy,le=this.tx,Se=this.ty,Pe=1/(y*te-O*K),Ye=te*Pe,tt=-O*Pe,yt=-K*Pe,ct=y*Pe;return new mt(Ye,tt,yt,ct,-Ye*le-yt*Se,-tt*le-ct*Se)},mt.prototype.applyToPoint=function(y){var O=y.x*this.sx+y.y*this.shx+this.tx,K=y.x*this.shy+y.y*this.sy+this.ty;return new ni(O,K)},mt.prototype.applyToRectangle=function(y){var O=this.applyToPoint(y),K=this.applyToPoint(new ni(y.x+y.w,y.y+y.h));return new Sa(O.x,O.y,K.x-O.x,K.y-O.y)},mt.prototype.clone=function(){var y=this.sx,O=this.shy,K=this.shx,te=this.sy,le=this.tx,Se=this.ty;return new mt(y,O,K,te,le,Se)},p.Matrix=mt;var Ns=p.matrixMult=function(y,O){return O.multiply(y)},pi=new mt(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=pi;var Yr=function(y,O){if(!Dt[y]){var K=(O instanceof Xl?"Sh":"P")+(Object.keys(et).length+1).toString(10);O.id=K,Dt[y]=K,et[K]=O,Ut.publish("addPattern",O)}};p.ShadingPattern=Xl,p.TilingPattern=mc,p.addShadingPattern=function(y,O){return E("addShadingPattern()"),Yr(y,O),this},p.beginTilingPattern=function(y){E("beginTilingPattern()"),co(y.boundingBox[0],y.boundingBox[1],y.boundingBox[2]-y.boundingBox[0],y.boundingBox[3]-y.boundingBox[1],y.matrix)},p.endTilingPattern=function(y,O){E("endTilingPattern()"),O.stream=Re[R].join(`
`),Yr(y,O),Ut.publish("endTilingPattern",O),xr.pop().restore()};var Xr,gn=p.__private__.newObject=function(){var y=Dn();return ar(y,!0),y},Dn=p.__private__.newObjectDeferred=function(){return re++,ce[re]=function(){return be},re},ar=function(y,O){return O=typeof O=="boolean"&&O,ce[y]=be,O&&G(y+" 0 obj"),y},Lr=p.__private__.newAdditionalObject=function(){var y={objId:Dn(),content:""};return ke.push(y),y},Ps=Dn(),mi=Dn(),gi=p.__private__.decodeColorString=function(y){var O=y.split(" ");if(O.length!==2||O[1]!=="g"&&O[1]!=="G")O.length!==5||O[4]!=="k"&&O[4]!=="K"||(O=[(1-O[0])*(1-O[3]),(1-O[1])*(1-O[3]),(1-O[2])*(1-O[3]),"r"]);else{var K=parseFloat(O[0]);O=[K,K,K,"r"]}for(var te="#",le=0;le<3;le++)te+=("0"+Math.floor(255*parseFloat(O[le])).toString(16)).slice(-2);return te},Jr=p.__private__.encodeColorString=function(y){var O;typeof y=="string"&&(y={ch1:y});var K=y.ch1,te=y.ch2,le=y.ch3,Se=y.ch4,Pe=y.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof K=="string"&&K.charAt(0)!=="#"){var Ye=new w6(K);if(Ye.ok)K=Ye.toHex();else if(!/^\d*\.?\d*$/.test(K))throw new Error('Invalid color "'+K+'" passed to jsPDF.encodeColorString.')}if(typeof K=="string"&&/^#[0-9A-Fa-f]{3}$/.test(K)&&(K="#"+K[1]+K[1]+K[2]+K[2]+K[3]+K[3]),typeof K=="string"&&/^#[0-9A-Fa-f]{6}$/.test(K)){var tt=parseInt(K.substr(1),16);K=tt>>16&255,te=tt>>8&255,le=255&tt}if(te===void 0||Se===void 0&&K===te&&te===le)O=typeof K=="string"?K+" "+Pe[0]:y.precision===2?x(K/255)+" "+Pe[0]:T(K/255)+" "+Pe[0];else if(Se===void 0||ln(Se)==="object"){if(Se&&!isNaN(Se.a)&&Se.a===0)return["1.","1.","1.",Pe[1]].join(" ");O=typeof K=="string"?[K,te,le,Pe[1]].join(" "):y.precision===2?[x(K/255),x(te/255),x(le/255),Pe[1]].join(" "):[T(K/255),T(te/255),T(le/255),Pe[1]].join(" ")}else O=typeof K=="string"?[K,te,le,Se,Pe[2]].join(" "):y.precision===2?[x(K),x(te),x(le),x(Se),Pe[2]].join(" "):[T(K),T(te),T(le),T(Se),Pe[2]].join(" ");return O},yi=p.__private__.getFilters=function(){return o},vi=p.__private__.putStream=function(y){var O=(y=y||{}).data||"",K=y.filters||yi(),te=y.alreadyAppliedFilters||[],le=y.addLength1||!1,Se=O.length,Pe=y.objectId,Ye=function(b){return b};if(c!==null&&Pe===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");c!==null&&(Ye=Tn.encryptor(Pe,0));var tt={};K===!0&&(K=["FlateEncode"]);var yt=y.additionalKeyValues||[],ct=(tt=at.API.processDataByFilters!==void 0?at.API.processDataByFilters(O,K):{data:O,reverseChain:[]}).reverseChain+(Array.isArray(te)?te.join(" "):te.toString());if(tt.data.length!==0&&(yt.push({key:"Length",value:tt.data.length}),le===!0&&yt.push({key:"Length1",value:Se})),ct.length!=0)if(ct.split("/").length-1==1)yt.push({key:"Filter",value:ct});else{yt.push({key:"Filter",value:"["+ct+"]"});for(var zt=0;zt<yt.length;zt+=1)if(yt[zt].key==="DecodeParms"){for(var wn=[],hn=0;hn<tt.reverseChain.split("/").length-1;hn+=1)wn.push("null");wn.push(yt[zt].value),yt[zt].value="["+wn.join(" ")+"]"}}G("<<");for(var f=0;f<yt.length;f++)G("/"+yt[f].key+" "+yt[f].value);G(">>"),tt.data.length!==0&&(G("stream"),G(Ye(tt.data)),G("endstream"))},ro=p.__private__.putPage=function(y){var O=y.number,K=y.data,te=y.objId,le=y.contentsObjId;ar(te,!0),G("<</Type /Page"),G("/Parent "+y.rootDictionaryObjId+" 0 R"),G("/Resources "+y.resourceDictionaryObjId+" 0 R"),G("/MediaBox ["+parseFloat(A(y.mediaBox.bottomLeftX))+" "+parseFloat(A(y.mediaBox.bottomLeftY))+" "+A(y.mediaBox.topRightX)+" "+A(y.mediaBox.topRightY)+"]"),y.cropBox!==null&&G("/CropBox ["+A(y.cropBox.bottomLeftX)+" "+A(y.cropBox.bottomLeftY)+" "+A(y.cropBox.topRightX)+" "+A(y.cropBox.topRightY)+"]"),y.bleedBox!==null&&G("/BleedBox ["+A(y.bleedBox.bottomLeftX)+" "+A(y.bleedBox.bottomLeftY)+" "+A(y.bleedBox.topRightX)+" "+A(y.bleedBox.topRightY)+"]"),y.trimBox!==null&&G("/TrimBox ["+A(y.trimBox.bottomLeftX)+" "+A(y.trimBox.bottomLeftY)+" "+A(y.trimBox.topRightX)+" "+A(y.trimBox.topRightY)+"]"),y.artBox!==null&&G("/ArtBox ["+A(y.artBox.bottomLeftX)+" "+A(y.artBox.bottomLeftY)+" "+A(y.artBox.topRightX)+" "+A(y.artBox.topRightY)+"]"),typeof y.userUnit=="number"&&y.userUnit!==1&&G("/UserUnit "+y.userUnit),Ut.publish("putPage",{objId:te,pageContext:dt[O],pageNumber:O,page:K}),G("/Contents "+le+" 0 R"),G(">>"),G("endobj");var Se=K.join(`
`);return V===L&&(Se+=`
Q`),ar(le,!0),vi({data:Se,filters:yi(),objectId:le}),G("endobj"),te},is=p.__private__.putPages=function(){var y,O,K=[];for(y=1;y<=ft;y++)dt[y].objId=Dn(),dt[y].contentsObjId=Dn();for(y=1;y<=ft;y++)K.push(ro({number:y,data:Re[y],objId:dt[y].objId,contentsObjId:dt[y].contentsObjId,mediaBox:dt[y].mediaBox,cropBox:dt[y].cropBox,bleedBox:dt[y].bleedBox,trimBox:dt[y].trimBox,artBox:dt[y].artBox,userUnit:dt[y].userUnit,rootDictionaryObjId:Ps,resourceDictionaryObjId:mi}));ar(Ps,!0),G("<</Type /Pages");var te="/Kids [";for(O=0;O<ft;O++)te+=K[O]+" 0 R ";G(te+"]"),G("/Count "+ft),G(">>"),G("endobj"),Ut.publish("postPutPages")},ss=function(y){Ut.publish("putFont",{font:y,out:G,newObject:gn,putStream:vi}),y.isAlreadyPutted!==!0&&(y.objectNumber=gn(),G("<<"),G("/Type /Font"),G("/BaseFont /"+tc(y.postScriptName)),G("/Subtype /Type1"),typeof y.encoding=="string"&&G("/Encoding /"+y.encoding),G("/FirstChar 32"),G("/LastChar 255"),G(">>"),G("endobj"))},Fo=function(y){y.objectNumber=gn();var O=[];O.push({key:"Type",value:"/XObject"}),O.push({key:"Subtype",value:"/Form"}),O.push({key:"BBox",value:"["+[A(y.x),A(y.y),A(y.x+y.width),A(y.y+y.height)].join(" ")+"]"}),O.push({key:"Matrix",value:"["+y.matrix.toString()+"]"});var K=y.pages[1].join(`
`);vi({data:K,additionalKeyValues:O,objectId:y.objectNumber}),G("endobj")},io=function(y,O){O||(O=21);var K=gn(),te=function(Pe,Ye){var tt,yt=[],ct=1/(Ye-1);for(tt=0;tt<1;tt+=ct)yt.push(tt);if(yt.push(1),Pe[0].offset!=0){var zt={offset:0,color:Pe[0].color};Pe.unshift(zt)}if(Pe[Pe.length-1].offset!=1){var wn={offset:1,color:Pe[Pe.length-1].color};Pe.push(wn)}for(var hn="",f=0,b=0;b<yt.length;b++){for(tt=yt[b];tt>Pe[f+1].offset;)f++;var P=Pe[f].offset,$=(tt-P)/(Pe[f+1].offset-P),he=Pe[f].color,ge=Pe[f+1].color;hn+=ne(Math.round((1-$)*he[0]+$*ge[0]).toString(16))+ne(Math.round((1-$)*he[1]+$*ge[1]).toString(16))+ne(Math.round((1-$)*he[2]+$*ge[2]).toString(16))}return hn.trim()}(y.colors,O),le=[];le.push({key:"FunctionType",value:"0"}),le.push({key:"Domain",value:"[0.0 1.0]"}),le.push({key:"Size",value:"["+O+"]"}),le.push({key:"BitsPerSample",value:"8"}),le.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),le.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),vi({data:te,additionalKeyValues:le,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:K}),G("endobj"),y.objectNumber=gn(),G("<< /ShadingType "+y.type),G("/ColorSpace /DeviceRGB");var Se="/Coords ["+A(parseFloat(y.coords[0]))+" "+A(parseFloat(y.coords[1]))+" ";y.type===2?Se+=A(parseFloat(y.coords[2]))+" "+A(parseFloat(y.coords[3])):Se+=A(parseFloat(y.coords[2]))+" "+A(parseFloat(y.coords[3]))+" "+A(parseFloat(y.coords[4]))+" "+A(parseFloat(y.coords[5])),G(Se+="]"),y.matrix&&G("/Matrix ["+y.matrix.toString()+"]"),G("/Function "+K+" 0 R"),G("/Extend [true true]"),G(">>"),G("endobj")},os=function(y,O){var K=Dn(),te=gn();O.push({resourcesOid:K,objectOid:te}),y.objectNumber=te;var le=[];le.push({key:"Type",value:"/Pattern"}),le.push({key:"PatternType",value:"1"}),le.push({key:"PaintType",value:"1"}),le.push({key:"TilingType",value:"1"}),le.push({key:"BBox",value:"["+y.boundingBox.map(A).join(" ")+"]"}),le.push({key:"XStep",value:A(y.xStep)}),le.push({key:"YStep",value:A(y.yStep)}),le.push({key:"Resources",value:K+" 0 R"}),y.matrix&&le.push({key:"Matrix",value:"["+y.matrix.toString()+"]"}),vi({data:y.stream,additionalKeyValues:le,objectId:y.objectNumber}),G("endobj")},Ls=function(y){for(var O in y.objectNumber=gn(),G("<<"),y)switch(O){case"opacity":G("/ca "+x(y[O]));break;case"stroke-opacity":G("/CA "+x(y[O]))}G(">>"),G("endobj")},jo=function(y){ar(y.resourcesOid,!0),G("<<"),G("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var O in G("/Font <<"),wt)wt.hasOwnProperty(O)&&(d===!1||d===!0&&g.hasOwnProperty(O))&&G("/"+O+" "+wt[O].objectNumber+" 0 R");G(">>")}(),function(){if(Object.keys(et).length>0){for(var O in G("/Shading <<"),et)et.hasOwnProperty(O)&&et[O]instanceof Xl&&et[O].objectNumber>=0&&G("/"+O+" "+et[O].objectNumber+" 0 R");Ut.publish("putShadingPatternDict"),G(">>")}}(),function(O){if(Object.keys(et).length>0){for(var K in G("/Pattern <<"),et)et.hasOwnProperty(K)&&et[K]instanceof p.TilingPattern&&et[K].objectNumber>=0&&et[K].objectNumber<O&&G("/"+K+" "+et[K].objectNumber+" 0 R");Ut.publish("putTilingPatternDict"),G(">>")}}(y.objectOid),function(){if(Object.keys(pt).length>0){var O;for(O in G("/ExtGState <<"),pt)pt.hasOwnProperty(O)&&pt[O].objectNumber>=0&&G("/"+O+" "+pt[O].objectNumber+" 0 R");Ut.publish("putGStateDict"),G(">>")}}(),function(){for(var O in G("/XObject <<"),mr)mr.hasOwnProperty(O)&&mr[O].objectNumber>=0&&G("/"+O+" "+mr[O].objectNumber+" 0 R");Ut.publish("putXobjectDict"),G(">>")}(),G(">>"),G("endobj")},Pu=function(y){_t[y.fontName]=_t[y.fontName]||{},_t[y.fontName][y.fontStyle]=y.id},Pl=function(y,O,K,te,le){var Se={id:"F"+(Object.keys(wt).length+1).toString(10),postScriptName:y,fontName:O,fontStyle:K,encoding:te,isStandardFont:le||!1,metadata:{}};return Ut.publish("addFont",{font:Se,instance:this}),wt[Se.id]=Se,Pu(Se),Se.id},Zr=p.__private__.pdfEscape=p.pdfEscape=function(y,O){return function(K,te){var le,Se,Pe,Ye,tt,yt,ct,zt,wn;if(Pe=(te=te||{}).sourceEncoding||"Unicode",tt=te.outputEncoding,(te.autoencode||tt)&&wt[De].metadata&&wt[De].metadata[Pe]&&wt[De].metadata[Pe].encoding&&(Ye=wt[De].metadata[Pe].encoding,!tt&&wt[De].encoding&&(tt=wt[De].encoding),!tt&&Ye.codePages&&(tt=Ye.codePages[0]),typeof tt=="string"&&(tt=Ye[tt]),tt)){for(ct=!1,yt=[],le=0,Se=K.length;le<Se;le++)(zt=tt[K.charCodeAt(le)])?yt.push(String.fromCharCode(zt)):yt.push(K[le]),yt[le].charCodeAt(0)>>8&&(ct=!0);K=yt.join("")}for(le=K.length;ct===void 0&&le!==0;)K.charCodeAt(le-1)>>8&&(ct=!0),le--;if(!ct)return K;for(yt=te.noBOM?[]:[254,255],le=0,Se=K.length;le<Se;le++){if((wn=(zt=K.charCodeAt(le))>>8)>>8)throw new Error("Character at position "+le+" of string '"+K+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");yt.push(wn),yt.push(zt-(wn<<8))}return String.fromCharCode.apply(void 0,yt)}(y,O).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ya=p.__private__.beginPage=function(y){Re[++ft]=[],dt[ft]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(y[0]),topRightY:Number(y[1])}},Ll(ft),it(Re[R])},va=function(y,O){var K,te,le;switch(n=O||n,typeof y=="string"&&(K=w(y.toLowerCase()),Array.isArray(K)&&(te=K[0],le=K[1])),Array.isArray(y)&&(te=y[0]*$e,le=y[1]*$e),isNaN(te)&&(te=i[0],le=i[1]),(te>14400||le>14400)&&(pn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),te=Math.min(14400,te),le=Math.min(14400,le)),i=[te,le],n.substr(0,1)){case"l":le>te&&(i=[le,te]);break;case"p":te>le&&(i=[le,te])}ya(i),xt(xi),G(ba),ki!==0&&G(ki+" J"),ka!==0&&G(ka+" j"),Ut.publish("addPage",{pageNumber:ft})},Vo=function(y){y>0&&y<=ft&&(Re.splice(y,1),dt.splice(y,1),ft--,R>ft&&(R=ft),this.setPage(R))},Ll=function(y){y>0&&y<=ft&&(R=y)},Rl=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return Re.length-1},Dl=function(y,O,K){var te,le=void 0;return K=K||{},y=y!==void 0?y:wt[De].fontName,O=O!==void 0?O:wt[De].fontStyle,te=y.toLowerCase(),_t[te]!==void 0&&_t[te][O]!==void 0?le=_t[te][O]:_t[y]!==void 0&&_t[y][O]!==void 0?le=_t[y][O]:K.disableWarning===!1&&pn.warn("Unable to look up font label for font '"+y+"', '"+O+"'. Refer to getFontList() for available fonts."),le||K.noFallback||(le=_t.times[O])==null&&(le=_t.times.normal),le},as=p.__private__.putInfo=function(){var y=gn(),O=function(te){return te};for(var K in c!==null&&(O=Tn.encryptor(y,0)),G("<<"),G("/Producer ("+Zr(O("jsPDF "+at.version))+")"),Ve)Ve.hasOwnProperty(K)&&Ve[K]&&G("/"+K.substr(0,1).toUpperCase()+K.substr(1)+" ("+Zr(O(Ve[K]))+")");G("/CreationDate ("+Zr(O(ae))+")"),G(">>"),G("endobj")},ei=p.__private__.putCatalog=function(y){var O=(y=y||{}).rootDictionaryObjId||Ps;switch(gn(),G("<<"),G("/Type /Catalog"),G("/Pages "+O+" 0 R"),Ge||(Ge="fullwidth"),Ge){case"fullwidth":G("/OpenAction [3 0 R /FitH null]");break;case"fullheight":G("/OpenAction [3 0 R /FitV null]");break;case"fullpage":G("/OpenAction [3 0 R /Fit]");break;case"original":G("/OpenAction [3 0 R /XYZ null null 1]");break;default:var K=""+Ge;K.substr(K.length-1)==="%"&&(Ge=parseInt(Ge)/100),typeof Ge=="number"&&G("/OpenAction [3 0 R /XYZ null null "+x(Ge)+"]")}switch(Nt||(Nt="continuous"),Nt){case"continuous":G("/PageLayout /OneColumn");break;case"single":G("/PageLayout /SinglePage");break;case"two":case"twoleft":G("/PageLayout /TwoColumnLeft");break;case"tworight":G("/PageLayout /TwoColumnRight")}st&&G("/PageMode /"+st),Ut.publish("putCatalog"),G(">>"),G("endobj")},wi=p.__private__.putTrailer=function(){G("trailer"),G("<<"),G("/Size "+(re+1)),G("/Root "+re+" 0 R"),G("/Info "+(re-1)+" 0 R"),c!==null&&G("/Encrypt "+Tn.oid+" 0 R"),G("/ID [ <"+ye+"> <"+ye+"> ]"),G(">>")},yn=p.__private__.putHeader=function(){G("%PDF-"+_),G("%")},so=p.__private__.putXRef=function(){var y="0000000000";G("xref"),G("0 "+(re+1)),G("0000000000 65535 f ");for(var O=1;O<=re;O++)typeof ce[O]=="function"?G((y+ce[O]()).slice(-10)+" 00000 n "):ce[O]!==void 0?G((y+ce[O]).slice(-10)+" 00000 n "):G("0000000000 00000 n ")},_i=p.__private__.buildDocument=function(){var y;re=0,be=0,we=[],ce=[],ke=[],Ps=Dn(),mi=Dn(),it(we),Ut.publish("buildDocument"),yn(),is(),function(){Ut.publish("putAdditionalObjects");for(var K=0;K<ke.length;K++){var te=ke[K];ar(te.objId,!0),G(te.content),G("endobj")}Ut.publish("postPutAdditionalObjects")}(),y=[],function(){for(var K in wt)wt.hasOwnProperty(K)&&(d===!1||d===!0&&g.hasOwnProperty(K))&&ss(wt[K])}(),function(){var K;for(K in pt)pt.hasOwnProperty(K)&&Ls(pt[K])}(),function(){for(var K in mr)mr.hasOwnProperty(K)&&Fo(mr[K])}(),function(K){var te;for(te in et)et.hasOwnProperty(te)&&(et[te]instanceof Xl?io(et[te]):et[te]instanceof mc&&os(et[te],K))}(y),Ut.publish("putResources"),y.forEach(jo),jo({resourcesOid:mi,objectOid:Number.MAX_SAFE_INTEGER}),Ut.publish("postPutResources"),c!==null&&(Tn.oid=gn(),G("<<"),G("/Filter /Standard"),G("/V "+Tn.v),G("/R "+Tn.r),G("/U <"+Tn.toHexString(Tn.U)+">"),G("/O <"+Tn.toHexString(Tn.O)+">"),G("/P "+Tn.P),G(">>"),G("endobj")),as(),ei();var O=be;return so(),wi(),G("startxref"),G(""+O),G("%%EOF"),it(Re[R]),we.join(`
`)},tn=p.__private__.getBlob=function(y){return new Blob([St(y)],{type:"application/pdf"})},Bo=p.output=p.__private__.output=(Xr=function(y,O){switch(typeof(O=O||{})=="string"?O={filename:O}:O.filename=O.filename||"generated.pdf",y){case void 0:return _i();case"save":p.save(O.filename);break;case"arraybuffer":return St(_i());case"blob":return tn(_i());case"bloburi":case"bloburl":if(At.URL!==void 0&&typeof At.URL.createObjectURL=="function")return At.URL&&At.URL.createObjectURL(tn(_i()))||void 0;pn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var K="",te=_i();try{K=Z3(te)}catch{K=Z3(unescape(encodeURIComponent(te)))}return"data:application/pdf;filename="+O.filename+";base64,"+K;case"pdfobjectnewwindow":if(Object.prototype.toString.call(At)==="[object Window]"){var le="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Se=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';O.pdfObjectUrl&&(le=O.pdfObjectUrl,Se="");var Pe='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+le+'"'+Se+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(O)+");<\/script></body></html>",Ye=At.open();return Ye!==null&&Ye.document.write(Pe),Ye}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(At)==="[object Window]"){var tt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(O.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+O.filename+'" width="500px" height="400px" /></body></html>',yt=At.open();if(yt!==null){yt.document.write(tt);var ct=this;yt.document.documentElement.querySelector("#pdfViewer").onload=function(){yt.document.title=O.filename,yt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(ct.output("bloburl"))}}return yt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(At)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var zt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",O)+'"></iframe></body></html>',wn=At.open();if(wn!==null&&(wn.document.write(zt),wn.document.title=O.filename),wn||typeof safari>"u")return wn;break;case"datauri":case"dataurl":return At.document.location.href=this.output("datauristring",O);default:return null}},Xr.foo=function(){try{return Xr.apply(this,arguments)}catch(K){var y=K.stack||"";~y.indexOf(" at ")&&(y=y.split(" at ")[1]);var O="Error in function "+y.split(`
`)[0].split("<")[0]+": "+K.message;if(!At.console)throw new Error(O);At.console.error(O,K),At.alert&&alert(O)}},Xr.foo.bar=Xr,Xr.foo),gr=function(y){return Array.isArray(Mi)===!0&&Mi.indexOf(y)>-1};switch(r){case"pt":$e=1;break;case"mm":$e=72/25.4;break;case"cm":$e=72/2.54;break;case"in":$e=72;break;case"px":$e=gr("px_scaling")==1?.75:96/72;break;case"pc":case"em":$e=12;break;case"ex":$e=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);$e=r}var Tn=null;_e(),ee();var Rs=p.__private__.getPageInfo=p.getPageInfo=function(y){if(isNaN(y)||y%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:dt[y].objId,pageNumber:y,pageContext:dt[y]}},Ol=p.__private__.getPageInfoByObjId=function(y){if(isNaN(y)||y%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var O in dt)if(dt[O].objId===y)break;return Rs(O)},lh=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:dt[R].objId,pageNumber:R,pageContext:dt[R]}};p.addPage=function(){return va.apply(this,arguments),this},p.setPage=function(){return Ll.apply(this,arguments),it.call(this,Re[R]),this},p.insertPage=function(y){return this.addPage(),this.movePage(R,y),this},p.movePage=function(y,O){var K,te;if(y>O){K=Re[y],te=dt[y];for(var le=y;le>O;le--)Re[le]=Re[le-1],dt[le]=dt[le-1];Re[O]=K,dt[O]=te,this.setPage(O)}else if(y<O){K=Re[y],te=dt[y];for(var Se=y;Se<O;Se++)Re[Se]=Re[Se+1],dt[Se]=dt[Se+1];Re[O]=K,dt[O]=te,this.setPage(O)}return this},p.deletePage=function(){return Vo.apply(this,arguments),this},p.__private__.text=p.text=function(y,O,K,te,le){var Se,Pe,Ye,tt,yt,ct,zt,wn,hn,f=(te=te||{}).scope||this;if(typeof y=="number"&&typeof O=="number"&&(typeof K=="string"||Array.isArray(K))){var b=K;K=O,O=y,y=b}if(arguments[3]instanceof mt==0?(Ye=arguments[4],tt=arguments[5],ln(zt=arguments[3])==="object"&&zt!==null||(typeof Ye=="string"&&(tt=Ye,Ye=null),typeof zt=="string"&&(tt=zt,zt=null),typeof zt=="number"&&(Ye=zt,zt=null),te={flags:zt,angle:Ye,align:tt})):(E("The transform parameter of text() with a Matrix value"),hn=le),isNaN(O)||isNaN(K)||y==null)throw new Error("Invalid arguments passed to jsPDF.text");if(y.length===0)return f;var P,$="",he=typeof te.lineHeightFactor=="number"?te.lineHeightFactor:Uo,ge=f.internal.scaleFactor;function Fe(nn){return nn=nn.split("	").join(Array(te.TabLen||9).join(" ")),Zr(nn,zt)}function Tt(nn){for(var fn,Gn=nn.concat(),lr=[],Wo=Gn.length;Wo--;)typeof(fn=Gn.shift())=="string"?lr.push(fn):Array.isArray(nn)&&(fn.length===1||fn[1]===void 0&&fn[2]===void 0)?lr.push(fn[0]):lr.push([fn[0],fn[1],fn[2]]);return lr}function _n(nn,fn){var Gn;if(typeof nn=="string")Gn=fn(nn)[0];else if(Array.isArray(nn)){for(var lr,Wo,_h=nn.concat(),zu=[],dd=_h.length;dd--;)typeof(lr=_h.shift())=="string"?zu.push(fn(lr)[0]):Array.isArray(lr)&&typeof lr[0]=="string"&&(Wo=fn(lr[0],lr[1],lr[2]),zu.push([Wo[0],Wo[1],Wo[2]]));Gn=zu}return Gn}var qt=!1,bn=!0;if(typeof y=="string")qt=!0;else if(Array.isArray(y)){var yr=y.concat();Pe=[];for(var Rr,xn=yr.length;xn--;)(typeof(Rr=yr.shift())!="string"||Array.isArray(Rr)&&typeof Rr[0]!="string")&&(bn=!1);qt=bn}if(qt===!1)throw new Error('Type of text must be string or Array. "'+y+'" is not recognized.');typeof y=="string"&&(y=y.match(/[\r?\n]/)?y.split(/\r\n|\r|\n/g):[y]);var Dr=Ee/f.internal.scaleFactor,fs=Dr*(he-1);switch(te.baseline){case"bottom":K-=fs;break;case"top":K+=Dr-fs;break;case"hanging":K+=Dr-2*fs;break;case"middle":K+=Dr/2-fs}if((ct=te.maxWidth||0)>0&&(typeof y=="string"?y=f.splitTextToSize(y,ct):Object.prototype.toString.call(y)==="[object Array]"&&(y=y.reduce(function(nn,fn){return nn.concat(f.splitTextToSize(fn,ct))},[]))),Se={text:y,x:O,y:K,options:te,mutex:{pdfEscape:Zr,activeFontKey:De,fonts:wt,activeFontSize:Ee}},Ut.publish("preProcessText",Se),y=Se.text,Ye=(te=Se.options).angle,hn instanceof mt==0&&Ye&&typeof Ye=="number"){Ye*=Math.PI/180,te.rotationDirection===0&&(Ye=-Ye),V===L&&(Ye=-Ye);var qo=Math.cos(Ye),fh=Math.sin(Ye);hn=new mt(qo,fh,-fh,qo,0,0)}else Ye&&Ye instanceof mt&&(hn=Ye);V!==L||hn||(hn=pi),(yt=te.charSpace||cs)!==void 0&&($+=A(N(yt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(wn=te.horizontalScale)!==void 0&&($+=A(100*wn)+` Tz
`),te.lang;var ii=-1,$o=te.renderingMode!==void 0?te.renderingMode:te.stroke,Bu=f.internal.getCurrentPageInfo().pageContext;switch($o){case 0:case!1:case"fill":ii=0;break;case 1:case!0:case"stroke":ii=1;break;case 2:case"fillThenStroke":ii=2;break;case 3:case"invisible":ii=3;break;case 4:case"fillAndAddForClipping":ii=4;break;case 5:case"strokeAndAddPathForClipping":ii=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":ii=6;break;case 7:case"addToPathForClipping":ii=7}var hd=Bu.usedRenderingMode!==void 0?Bu.usedRenderingMode:-1;ii!==-1?$+=ii+` Tr
`:hd!==-1&&($+=`0 Tr
`),ii!==-1&&(Bu.usedRenderingMode=ii),tt=te.align||"left";var ds,Bl=Ee*he,dh=f.internal.pageSize.getWidth(),ph=wt[De];yt=te.charSpace||cs,ct=te.maxWidth||0,zt=Object.assign({autoencode:!0,noBOM:!0},te.flags);var Ea=[],Ul=function(nn){return f.getStringUnitWidth(nn,{font:ph,charSpace:yt,fontSize:Ee,doKerning:!1})*Ee/ge};if(Object.prototype.toString.call(y)==="[object Array]"){var ji;Pe=Tt(y),tt!=="left"&&(ds=Pe.map(Ul));var Vi,Ia=0;if(tt==="right"){O-=ds[0],y=[],xn=Pe.length;for(var Ho=0;Ho<xn;Ho++)Ho===0?(Vi=ti(O),ji=us(K)):(Vi=N(Ia-ds[Ho]),ji=-Bl),y.push([Pe[Ho],Vi,ji]),Ia=ds[Ho]}else if(tt==="center"){O-=ds[0]/2,y=[],xn=Pe.length;for(var Ta=0;Ta<xn;Ta++)Ta===0?(Vi=ti(O),ji=us(K)):(Vi=N((Ia-ds[Ta])/2),ji=-Bl),y.push([Pe[Ta],Vi,ji]),Ia=ds[Ta]}else if(tt==="left"){y=[],xn=Pe.length;for(var mh=0;mh<xn;mh++)y.push(Pe[mh])}else if(tt==="justify"&&ph.encoding==="Identity-H"){y=[],xn=Pe.length,ct=ct!==0?ct:dh;for(var Uu=0,Wn=0;Wn<xn;Wn++)if(ji=Wn===0?us(K):-Bl,Vi=Wn===0?ti(O):Uu,Wn<xn-1){var fd=N((ct-ds[Wn])/(Pe[Wn].split(" ").length-1)),po=Pe[Wn].split(" ");y.push([po[0]+" ",Vi,ji]),Uu=0;for(var mo=1;mo<po.length;mo++){var gh=(Ul(po[mo-1]+" "+po[mo])-Ul(po[mo]))*ge+fd;mo==po.length-1?y.push([po[mo],gh,0]):y.push([po[mo]+" ",gh,0]),Uu-=gh}}else y.push([Pe[Wn],Vi,ji]);y.push(["",Uu,0])}else{if(tt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(y=[],xn=Pe.length,ct=ct!==0?ct:dh,Wn=0;Wn<xn;Wn++){ji=Wn===0?us(K):-Bl,Vi=Wn===0?ti(O):0;var yh=Pe[Wn].split(" ").length-1,vh=yh>0?(ct-ds[Wn])/yh:0;Wn<xn-1?Ea.push(A(N(vh))):Ea.push(0),y.push([Pe[Wn],Vi,ji])}}}(typeof te.R2L=="boolean"?te.R2L:ut)===!0&&(y=_n(y,function(nn,fn,Gn){return[nn.split("").reverse().join(""),fn,Gn]})),Se={text:y,x:O,y:K,options:te,mutex:{pdfEscape:Zr,activeFontKey:De,fonts:wt,activeFontSize:Ee}},Ut.publish("postProcessText",Se),y=Se.text,P=Se.mutex.isHex||!1;var wh=wt[De].encoding;wh!=="WinAnsiEncoding"&&wh!=="StandardEncoding"||(y=_n(y,function(nn,fn,Gn){return[Fe(nn),fn,Gn]})),Pe=Tt(y),y=[];for(var Ca,Na,Pa,zl=Array.isArray(Pe[0])?1:0,La="",ql=function(nn,fn,Gn){var lr="";return Gn instanceof mt?(Gn=typeof te.angle=="number"?Ns(Gn,new mt(1,0,0,1,nn,fn)):Ns(new mt(1,0,0,1,nn,fn),Gn),V===L&&(Gn=Ns(new mt(1,0,0,-1,0,0),Gn)),lr=Gn.join(" ")+` Tm
`):lr=A(nn)+" "+A(fn)+` Td
`,lr},ps=0;ps<Pe.length;ps++){switch(La="",zl){case 1:Pa=(P?"<":"(")+Pe[ps][0]+(P?">":")"),Ca=parseFloat(Pe[ps][1]),Na=parseFloat(Pe[ps][2]);break;case 0:Pa=(P?"<":"(")+Pe[ps]+(P?">":")"),Ca=ti(O),Na=us(K)}Ea!==void 0&&Ea[ps]!==void 0&&(La=Ea[ps]+` Tw
`),ps===0?y.push(La+ql(Ca,Na,hn)+Pa):zl===0?y.push(La+Pa):zl===1&&y.push(La+ql(Ca,Na,hn)+Pa)}y=zl===0?y.join(` Tj
T* `):y.join(` Tj
`),y+=` Tj
`;var go=`BT
/`;return go+=De+" "+Ee+` Tf
`,go+=A(Ee*he)+` TL
`,go+=lo+`
`,go+=$,go+=y,G(go+="ET"),g[De]=!0,f};var uh=p.__private__.clip=p.clip=function(y){return G(y==="evenodd"?"W*":"W"),this};p.clipEvenOdd=function(){return uh("evenodd")},p.__private__.discardPath=p.discardPath=function(){return G("n"),this};var ls=p.__private__.isValidStyle=function(y){var O=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(y)!==-1&&(O=!0),O};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(y){return ls(y)&&(u=y),this};var Lu=p.__private__.getStyle=p.getStyle=function(y){var O=u;switch(y){case"D":case"S":O="S";break;case"F":O="f";break;case"FD":case"DF":O="B";break;case"f":case"f*":case"B":case"B*":O=y}return O},oo=p.close=function(){return G("h"),this};p.stroke=function(){return G("S"),this},p.fill=function(y){return bi("f",y),this},p.fillEvenOdd=function(y){return bi("f*",y),this},p.fillStroke=function(y){return bi("B",y),this},p.fillStrokeEvenOdd=function(y){return bi("B*",y),this};var bi=function(y,O){ln(O)==="object"?Du(O,y):G(y)},ao=function(y){y===null||V===L&&y===void 0||(y=Lu(y),G(y))};function Ru(y,O,K,te,le){var Se=new mc(O||this.boundingBox,K||this.xStep,te||this.yStep,this.gState,le||this.matrix);Se.stream=this.stream;var Pe=y+"$$"+this.cloneIndex+++"$$";return Yr(Pe,Se),Se}var Du=function(y,O){var K=Dt[y.key],te=et[K];if(te instanceof Xl)G("q"),G(Ou(O)),te.gState&&p.setGState(te.gState),G(y.matrix.toString()+" cm"),G("/"+K+" sh"),G("Q");else if(te instanceof mc){var le=new mt(1,0,0,-1,0,Os());y.matrix&&(le=le.multiply(y.matrix||pi),K=Ru.call(te,y.key,y.boundingBox,y.xStep,y.yStep,le).id),G("q"),G("/Pattern cs"),G("/"+K+" scn"),te.gState&&p.setGState(te.gState),G(O),G("Q")}},Ou=function(y){switch(y){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},wa=p.moveTo=function(y,O){return G(A(N(y))+" "+A(J(O))+" m"),this},Ds=p.lineTo=function(y,O){return G(A(N(y))+" "+A(J(O))+" l"),this},Fi=p.curveTo=function(y,O,K,te,le,Se){return G([A(N(y)),A(J(O)),A(N(K)),A(J(te)),A(N(le)),A(J(Se)),"c"].join(" ")),this};p.__private__.line=p.line=function(y,O,K,te,le){if(isNaN(y)||isNaN(O)||isNaN(K)||isNaN(te)||!ls(le))throw new Error("Invalid arguments passed to jsPDF.line");return V===C?this.lines([[K-y,te-O]],y,O,[1,1],le||"S"):this.lines([[K-y,te-O]],y,O,[1,1]).stroke()},p.__private__.lines=p.lines=function(y,O,K,te,le,Se){var Pe,Ye,tt,yt,ct,zt,wn,hn,f,b,P,$;if(typeof y=="number"&&($=K,K=O,O=y,y=$),te=te||[1,1],Se=Se||!1,isNaN(O)||isNaN(K)||!Array.isArray(y)||!Array.isArray(te)||!ls(le)||typeof Se!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(wa(O,K),Pe=te[0],Ye=te[1],yt=y.length,b=O,P=K,tt=0;tt<yt;tt++)(ct=y[tt]).length===2?(b=ct[0]*Pe+b,P=ct[1]*Ye+P,Ds(b,P)):(zt=ct[0]*Pe+b,wn=ct[1]*Ye+P,hn=ct[2]*Pe+b,f=ct[3]*Ye+P,b=ct[4]*Pe+b,P=ct[5]*Ye+P,Fi(zt,wn,hn,f,b,P));return Se&&oo(),ao(le),this},p.path=function(y){for(var O=0;O<y.length;O++){var K=y[O],te=K.c;switch(K.op){case"m":wa(te[0],te[1]);break;case"l":Ds(te[0],te[1]);break;case"c":Fi.apply(this,te);break;case"h":oo()}}return this},p.__private__.rect=p.rect=function(y,O,K,te,le){if(isNaN(y)||isNaN(O)||isNaN(K)||isNaN(te)||!ls(le))throw new Error("Invalid arguments passed to jsPDF.rect");return V===C&&(te=-te),G([A(N(y)),A(J(O)),A(N(K)),A(N(te)),"re"].join(" ")),ao(le),this},p.__private__.triangle=p.triangle=function(y,O,K,te,le,Se,Pe){if(isNaN(y)||isNaN(O)||isNaN(K)||isNaN(te)||isNaN(le)||isNaN(Se)||!ls(Pe))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[K-y,te-O],[le-K,Se-te],[y-le,O-Se]],y,O,[1,1],Pe,!0),this},p.__private__.roundedRect=p.roundedRect=function(y,O,K,te,le,Se,Pe){if(isNaN(y)||isNaN(O)||isNaN(K)||isNaN(te)||isNaN(le)||isNaN(Se)||!ls(Pe))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Ye=4/3*(Math.SQRT2-1);return le=Math.min(le,.5*K),Se=Math.min(Se,.5*te),this.lines([[K-2*le,0],[le*Ye,0,le,Se-Se*Ye,le,Se],[0,te-2*Se],[0,Se*Ye,-le*Ye,Se,-le,Se],[2*le-K,0],[-le*Ye,0,-le,-Se*Ye,-le,-Se],[0,2*Se-te],[0,-Se*Ye,le*Ye,-Se,le,-Se]],y+le,O,[1,1],Pe,!0),this},p.__private__.ellipse=p.ellipse=function(y,O,K,te,le){if(isNaN(y)||isNaN(O)||isNaN(K)||isNaN(te)||!ls(le))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Se=4/3*(Math.SQRT2-1)*K,Pe=4/3*(Math.SQRT2-1)*te;return wa(y+K,O),Fi(y+K,O-Pe,y+Se,O-te,y,O-te),Fi(y-Se,O-te,y-K,O-Pe,y-K,O),Fi(y-K,O+Pe,y-Se,O+te,y,O+te),Fi(y+Se,O+te,y+K,O+Pe,y+K,O),ao(le),this},p.__private__.circle=p.circle=function(y,O,K,te){if(isNaN(y)||isNaN(O)||isNaN(K)||!ls(te))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(y,O,K,K,te)},p.setFont=function(y,O,K){return K&&(O=F(O,K)),De=Dl(y,O,{disableWarning:!1}),this};var ch=p.__private__.getFont=p.getFont=function(){return wt[Dl.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var y,O,K={};for(y in _t)if(_t.hasOwnProperty(y))for(O in K[y]=[],_t[y])_t[y].hasOwnProperty(O)&&K[y].push(O);return K},p.addFont=function(y,O,K,te,le){var Se=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Se.indexOf(arguments[3])!==-1?le=arguments[3]:arguments[3]&&Se.indexOf(arguments[3])==-1&&(K=F(K,te)),Pl.call(this,y,O,K,le=le||"Identity-H")};var Uo,xi=t.lineWidth||.200025,hh=p.__private__.getLineWidth=p.getLineWidth=function(){return xi},xt=p.__private__.setLineWidth=p.setLineWidth=function(y){return xi=y,G(A(N(y))+" w"),this};p.__private__.setLineDash=at.API.setLineDash=at.API.setLineDashPattern=function(y,O){if(y=y||[],O=O||0,isNaN(O)||!Array.isArray(y))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return y=y.map(function(K){return A(N(K))}).join(" "),O=A(N(O)),G("["+y+"] "+O+" d"),this};var _a=p.__private__.getLineHeight=p.getLineHeight=function(){return Ee*Uo};p.__private__.getLineHeight=p.getLineHeight=function(){return Ee*Uo};var Mu=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(y){return typeof(y=y||1.15)=="number"&&(Uo=y),this},zo=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return Uo};Mu(t.lineHeight);var ti=p.__private__.getHorizontalCoordinate=function(y){return N(y)},us=p.__private__.getVerticalCoordinate=function(y){return V===L?y:dt[R].mediaBox.topRightY-dt[R].mediaBox.bottomLeftY-N(y)},Ml=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(y){return A(ti(y))},vn=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(y){return A(us(y))},ba=t.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return gi(ba)},p.__private__.setStrokeColor=p.setDrawColor=function(y,O,K,te){return ba=Jr({ch1:y,ch2:O,ch3:K,ch4:te,pdfColorType:"draw",precision:2}),G(ba),this};var Fl=t.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return gi(Fl)},p.__private__.setFillColor=p.setFillColor=function(y,O,K,te){return Fl=Jr({ch1:y,ch2:O,ch3:K,ch4:te,pdfColorType:"fill",precision:2}),G(Fl),this};var lo=t.textColor||"0 g",Fu=p.__private__.getTextColor=p.getTextColor=function(){return gi(lo)};p.__private__.setTextColor=p.setTextColor=function(y,O,K,te){return lo=Jr({ch1:y,ch2:O,ch3:K,ch4:te,pdfColorType:"text",precision:3}),this};var cs=t.charSpace,xa=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(cs||0)};p.__private__.setCharSpace=p.setCharSpace=function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return cs=y,this};var ki=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(y){var O=p.CapJoinStyles[y];if(O===void 0)throw new Error("Line cap style of '"+y+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ki=O,G(O+" J"),this};var ka=0;p.__private__.setLineJoin=p.setLineJoin=function(y){var O=p.CapJoinStyles[y];if(O===void 0)throw new Error("Line join style of '"+y+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ka=O,G(O+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(y){if(y=y||0,isNaN(y))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return G(A(N(y))+" M"),this},p.GState=Um,p.setGState=function(y){(y=typeof y=="string"?pt[bt[y]]:ju(null,y)).equals(cn)||(G("/"+y.id+" gs"),cn=y)};var ju=function(y,O){if(!y||!bt[y]){var K=!1;for(var te in pt)if(pt.hasOwnProperty(te)&&pt[te].equals(O)){K=!0;break}if(K)O=pt[te];else{var le="GS"+(Object.keys(pt).length+1).toString(10);pt[le]=O,O.id=le}return y&&(bt[y]=O.id),Ut.publish("addGState",O),O}};p.addGState=function(y,O){return ju(y,O),this},p.saveGraphicsState=function(){return G("q"),It.push({key:De,size:Ee,color:lo}),this},p.restoreGraphicsState=function(){G("Q");var y=It.pop();return De=y.key,Ee=y.size,lo=y.color,cn=null,this},p.setCurrentTransformationMatrix=function(y){return G(y.toString()+" cm"),this},p.comment=function(y){return G("#"+y),this};var ni=function(y,O){var K=y||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return K},set:function(Se){isNaN(Se)||(K=parseFloat(Se))}});var te=O||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return te},set:function(Se){isNaN(Se)||(te=parseFloat(Se))}});var le="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return le},set:function(Se){le=Se.toString()}}),this},Sa=function(y,O,K,te){ni.call(this,y,O),this.type="rect";var le=K||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return le},set:function(Pe){isNaN(Pe)||(le=parseFloat(Pe))}});var Se=te||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Se},set:function(Pe){isNaN(Pe)||(Se=parseFloat(Pe))}}),this},uo=function(){this.page=ft,this.currentPage=R,this.pages=Re.slice(0),this.pagesContext=dt.slice(0),this.x=He,this.y=en,this.matrix=vt,this.width=fo(R),this.height=jl(R),this.outputDestination=ze,this.id="",this.objectNumber=-1};uo.prototype.restore=function(){ft=this.page,R=this.currentPage,dt=this.pagesContext,Re=this.pages,He=this.x,en=this.y,vt=this.matrix,Vu(R,this.width),ri(R,this.height),ze=this.outputDestination};var co=function(y,O,K,te,le){xr.push(new uo),ft=R=0,Re=[],He=y,en=O,vt=le,ya([K,te])};for(var ho in p.beginFormObject=function(y,O,K,te,le){return co(y,O,K,te,le),this},p.endFormObject=function(y){return function(O){if(Cs[O])xr.pop().restore();else{var K=new uo,te="Xo"+(Object.keys(mr).length+1).toString(10);K.id=te,Cs[O]=te,mr[te]=K,Ut.publish("addFormObject",K),xr.pop().restore()}}(y),this},p.doFormObject=function(y,O){var K=mr[Cs[y]];return G("q"),G(O.toString()+" cm"),G("/"+K.id+" Do"),G("Q"),this},p.getFormObject=function(y){var O=mr[Cs[y]];return{x:O.x,y:O.y,width:O.width,height:O.height,matrix:O.matrix}},p.save=function(y,O){return y=y||"generated.pdf",(O=O||{}).returnPromise=O.returnPromise||!1,O.returnPromise===!1?(Ql(tn(_i()),y),typeof Ql.unload=="function"&&At.setTimeout&&setTimeout(Ql.unload,911),this):new Promise(function(K,te){try{var le=Ql(tn(_i()),y);typeof Ql.unload=="function"&&At.setTimeout&&setTimeout(Ql.unload,911),K(le)}catch(Se){te(Se.message)}})},at.API)at.API.hasOwnProperty(ho)&&(ho==="events"&&at.API.events.length?function(y,O){var K,te,le;for(le=O.length-1;le!==-1;le--)K=O[le][0],te=O[le][1],y.subscribe.apply(y,[K].concat(typeof te=="function"?[te]:te))}(Ut,at.API.events):p[ho]=at.API[ho]);function fo(y){return dt[y].mediaBox.topRightX-dt[y].mediaBox.bottomLeftX}function Vu(y,O){dt[y].mediaBox.topRightX=O+dt[y].mediaBox.bottomLeftX}function jl(y){return dt[y].mediaBox.topRightY-dt[y].mediaBox.bottomLeftY}function ri(y,O){dt[y].mediaBox.topRightY=O+dt[y].mediaBox.bottomLeftY}var hs=p.getPageWidth=function(y){return fo(y=y||R)/$e},Vl=p.setPageWidth=function(y,O){Vu(y,O*$e)},Os=p.getPageHeight=function(y){return jl(y=y||R)/$e},Aa=p.setPageHeight=function(y,O){ri(y,O*$e)};return p.internal={pdfEscape:Zr,getStyle:Lu,getFont:ch,getFontSize:We,getCharSpace:xa,getTextColor:Fu,getLineHeight:_a,getLineHeightFactor:zo,getLineWidth:hh,write:Be,getHorizontalCoordinate:ti,getVerticalCoordinate:us,getCoordinateString:Ml,getVerticalCoordinateString:vn,collections:{},newObject:gn,newAdditionalObject:Lr,newObjectDeferred:Dn,newObjectDeferredBegin:ar,getFilters:yi,putStream:vi,events:Ut,scaleFactor:$e,pageSize:{getWidth:function(){return hs(R)},setWidth:function(y){Vl(R,y)},getHeight:function(){return Os(R)},setHeight:function(y){Aa(R,y)}},encryptionOptions:c,encryption:Tn,getEncryptor:function(y){return c!==null?Tn.encryptor(y,0):function(O){return O}},output:Bo,getNumberOfPages:Rl,get pages(){return Re},out:G,f2:x,f3:T,getPageInfo:Rs,getPageInfoByObjId:Ol,getCurrentPageInfo:lh,getPDFVersion:k,Point:ni,Rectangle:Sa,Matrix:mt,hasHotfix:gr},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return hs(R)},set:function(y){Vl(R,y)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return Os(R)},set:function(y){Aa(R,y)},enumerable:!0,configurable:!0}),(function(y){for(var O=0,K=lt.length;O<K;O++){var te=Pl.call(this,y[O][0],y[O][1],y[O][2],lt[O][3],!0);d===!1&&(g[te]=!0);var le=y[O][0].split("-");Pu({id:te,fontName:le[0],fontStyle:le[1]||""})}Ut.publish("addFonts",{fonts:wt,dictionary:_t})}).call(p,lt),De="F1",va(i,n),Ut.publish("initialized"),p}ec.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},ec.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},ec.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},ec.prototype.processOwnerPassword=function(t,e){return py(dy(e).substr(0,5),t)},ec.prototype.encryptor=function(t,e){var n=dy(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return py(n,r)}},Um.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||ln(t)!==ln(this))return!1;var r=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;r++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&r--;return r===0},at.API={events:[]},at.version="3.0.4";var qn=at.API,Rv=1,Nu=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Gu=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Pt=function(t){return t.toFixed(2)},qa=function(t){return t.toFixed(5)};qn.__acroform__={};var Oi=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},rx=function(t){return t*Rv},wo=function(t){var e=new k6,n=Ze.internal.getHeight(t)||0,r=Ze.internal.getWidth(t)||0;return e.BBox=[0,0,Number(Pt(r)),Number(Pt(n))],e},vG=qn.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},wG=qn.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},_G=qn.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},Jn=qn.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return _G(t,e-1)},Zn=qn.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return vG(t,e-1)},er=qn.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return wG(t,e-1)},bG=qn.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=t[0],s=t[1],o=t[2],a=t[3],l={};return l.lowerLeft_X=n(i)||0,l.lowerLeft_Y=r(s+a)||0,l.upperRight_X=n(i+o)||0,l.upperRight_Y=r(s)||0,[Number(Pt(l.lowerLeft_X)),Number(Pt(l.lowerLeft_Y)),Number(Pt(l.upperRight_X)),Number(Pt(l.upperRight_Y))]},xG=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t._V||t.DV,r=my(t,n),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+Pt(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=wo(t);return s.scope=t.scope,s.stream=e.join(`
`),s}},my=function(t,e){var n=t.fontSize===0?t.maxFontSize:t.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(x){return x.split(`
`)}):i.map(function(x){return[x]});var s=n,o=Ze.internal.getHeight(t)||0;o=o<0?-o:o;var a=Ze.internal.getWidth(t)||0;a=a<0?-a:a;var l=function(x,T,N){if(x+1<i.length){var J=T+" "+i[x+1][0];return up(J,t,N).width<=a-4}return!1};s++;e:for(;s>0;){e="",s--;var u,c,d=up("3",t,s).height,g=t.multiline?o-s:(o-d)/2,p=g+=2,_=0,k=0,D=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+up(e,t,s=12).width+", FieldWidth:"+a+`
`;break}for(var w="",C=0,L=0;L<i.length;L++)if(i.hasOwnProperty(L)){var V=!1;if(i[L].length!==1&&D!==i[L].length-1){if((d+2)*(C+2)+2>o)continue e;w+=i[L][D],V=!0,k=L,L--}else{w=(w+=i[L][D]+" ").substr(w.length-1)==" "?w.substr(0,w.length-1):w;var X=parseInt(L),W=l(X,w,s),F=L>=i.length-1;if(W&&!F){w+=" ",D=0;continue}if(W||F){if(F)k=X;else if(t.multiline&&(d+2)*(C+2)+2>o)continue e}else{if(!t.multiline||(d+2)*(C+2)+2>o)continue e;k=X}}for(var A="",E=_;E<=k;E++){var I=i[E];if(t.multiline){if(E===k){A+=I[D]+" ",D=(D+1)%I.length;continue}if(E===_){A+=I[I.length-1]+" ";continue}}A+=I[0]+" "}switch(A=A.substr(A.length-1)==" "?A.substr(0,A.length-1):A,c=up(A,t,s).width,t.textAlign){case"right":u=a-c-2;break;case"center":u=(a-c)/2;break;default:u=2}e+=Pt(u)+" "+Pt(p)+` Td
`,e+="("+Nu(A)+`) Tj
`,e+=-Pt(u)+` 0 Td
`,p=-(s+2),c=0,_=V?k:k+1,C++,w=""}break}return r.text=e,r.fontSize=s,r},up=function(t,e,n){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},kG={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},SG=function(t,e){var n={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},AG=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(to.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(kG)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Rv=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new S6,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];s.objId=void 0,s.hasAnnotation&&SG(s,n)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(n){(function(r,i){var s=!r;for(var o in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(o)){var a=r[o],l=[],u=a.Rect;if(a.Rect&&(a.Rect=bG(a.Rect,i)),i.internal.newObjectDeferredBegin(a.objId,!0),a.DA=Ze.createDefaultAppearanceStream(a),ln(a)==="object"&&typeof a.getKeyValueListForStream=="function"&&(l=a.getKeyValueListForStream()),a.Rect=u,a.hasAppearanceStream&&!a.appearanceStreamContent){var c=xG(a);l.push({key:"AP",value:"<</N "+c+">>"}),i.internal.acroformPlugin.xForms.push(c)}if(a.appearanceStreamContent){var d="";for(var g in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(g)){var p=a.appearanceStreamContent[g];if(d+="/"+g+" ",d+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var o in p)if(p.hasOwnProperty(o)){var _=p[o];typeof _=="function"&&(_=_.call(i,a)),d+="/"+o+" "+_+" ",i.internal.acroformPlugin.xForms.indexOf(_)>=0||i.internal.acroformPlugin.xForms.push(_)}}else typeof(_=p)=="function"&&(_=_.call(i,a)),d+="/"+o+" "+_,i.internal.acroformPlugin.xForms.indexOf(_)>=0||i.internal.acroformPlugin.xForms.push(_);d+=">>"}l.push({key:"AP",value:`<<
`+d+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:a.objId}),i.internal.out("endobj")}s&&function(k,D){for(var w in k)if(k.hasOwnProperty(w)){var C=w,L=k[w];D.internal.newObjectDeferredBegin(L.objId,!0),ln(L)==="object"&&typeof L.putStream=="function"&&L.putStream(),delete k[C]}}(i.internal.acroformPlugin.xForms,i)})(n,t)}),t.internal.acroformPlugin.isInitialized=!0}},x6=qn.__acroform__.arrayToPdfArray=function(t,e,n){var r=function(o){return o};if(Array.isArray(t)){for(var i="[",s=0;s<t.length;s++)switch(s!==0&&(i+=" "),ln(t[s])){case"boolean":case"number":case"object":i+=t[s].toString();break;case"string":t[s].substr(0,1)!=="/"?(e!==void 0&&n&&(r=n.internal.getEncryptor(e)),i+="("+Nu(r(t[s].toString()))+")"):i+=t[s].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},b0=function(t,e,n){var r=function(i){return i};return e!==void 0&&n&&(r=n.internal.getEncryptor(e)),(t=t||"").toString(),"("+Nu(r(t))+")"},So=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};So.prototype.toString=function(){return this.objId+" 0 R"},So.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},So.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var n in e)if(Object.getOwnPropertyDescriptor(this,e[n]).configurable===!1){var r=e[n],i=this[r];i&&(Array.isArray(i)?t.push({key:r,value:x6(i,this.objId,this.scope)}):i instanceof So?(i.scope=this.scope,t.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:r,value:i}))}return t};var k6=function(){So.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};Oi(k6,So);var S6=function(){So.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+Nu(n(t))+")"}},set:function(n){t=n}})};Oi(S6,So);var to=function t(){So.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute F supplied.');e=w}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Jn(e,3)},set:function(w){w?this.F=Zn(e,3):this.F=er(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute Ff supplied.');n=w}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(w){r=w!==void 0?w:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(w){r[0]=w}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(w){r[1]=w}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(w){r[2]=w}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(w){r[3]=w}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(w){switch(w){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=w;break;default:throw new Error('Invalid value "'+w+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof zm)return;s="FieldObject"+t.FieldNum++}var w=function(C){return C};return this.scope&&(w=this.scope.internal.getEncryptor(this.objId)),"("+Nu(w(s))+")"},set:function(w){s=w.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(w){s=w}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(w){o=w}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(w){a=w}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(w){l=w}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/Rv:u},set:function(w){u=w}});var c="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return c},set:function(w){c=w}});var d="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!d||this instanceof zm||this instanceof lu))return b0(d,this.objId,this.scope)},set:function(w){w=w.toString(),d=w}});var g=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof _r==0?b0(g,this.objId,this.scope):g},set:function(w){w=w.toString(),g=this instanceof _r==0?w.substr(0,1)==="("?Gu(w.substr(1,w.length-2)):Gu(w):w}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof _r==1?Gu(g.substr(1,g.length-1)):g},set:function(w){w=w.toString(),g=this instanceof _r==1?"/"+w:w}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(w){this.V=w}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof _r==0?b0(p,this.objId,this.scope):p},set:function(w){w=w.toString(),p=this instanceof _r==0?w.substr(0,1)==="("?Gu(w.substr(1,w.length-2)):Gu(w):w}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof _r==1?Gu(p.substr(1,p.length-1)):p},set:function(w){w=w.toString(),p=this instanceof _r==1?"/"+w:w}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var _,k=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return k},set:function(w){w=!!w,k=w}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(_)return _},set:function(w){_=w}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Jn(this.Ff,1)},set:function(w){w?this.Ff=Zn(this.Ff,1):this.Ff=er(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Jn(this.Ff,2)},set:function(w){w?this.Ff=Zn(this.Ff,2):this.Ff=er(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Jn(this.Ff,3)},set:function(w){w?this.Ff=Zn(this.Ff,3):this.Ff=er(this.Ff,3)}});var D=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(D!==null)return D},set:function(w){if([0,1,2].indexOf(w)===-1)throw new Error('Invalid value "'+w+'" for attribute Q supplied.');D=w}}),Object.defineProperty(this,"textAlign",{get:function(){var w;switch(D){case 0:default:w="left";break;case 1:w="center";break;case 2:w="right"}return w},configurable:!0,enumerable:!0,set:function(w){switch(w){case"right":case 2:D=2;break;case"center":case 1:D=1;break;default:D=0}}})};Oi(to,So);var Cc=function(){to.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return x6(e,this.objId,this.scope)},set:function(n){var r,i;i=[],typeof(r=n)=="string"&&(i=function(s,o,a){a||(a=1);for(var l,u=[];l=o.exec(s);)u.push(l[a]);return u}(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();e.indexOf(n)!==-1&&(e.splice(e.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Jn(this.Ff,18)},set:function(n){n?this.Ff=Zn(this.Ff,18):this.Ff=er(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Jn(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=Zn(this.Ff,19):this.Ff=er(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Jn(this.Ff,20)},set:function(n){n?(this.Ff=Zn(this.Ff,20),e.sort()):this.Ff=er(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Jn(this.Ff,22)},set:function(n){n?this.Ff=Zn(this.Ff,22):this.Ff=er(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Jn(this.Ff,23)},set:function(n){n?this.Ff=Zn(this.Ff,23):this.Ff=er(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Jn(this.Ff,27)},set:function(n){n?this.Ff=Zn(this.Ff,27):this.Ff=er(this.Ff,27)}}),this.hasAppearanceStream=!1};Oi(Cc,to);var Nc=function(){Cc.call(this),this.fontName="helvetica",this.combo=!1};Oi(Nc,Cc);var Pc=function(){Nc.call(this),this.combo=!0};Oi(Pc,Nc);var jp=function(){Pc.call(this),this.edit=!0};Oi(jp,Pc);var _r=function(){to.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Jn(this.Ff,15)},set:function(n){n?this.Ff=Zn(this.Ff,15):this.Ff=er(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Jn(this.Ff,16)},set:function(n){n?this.Ff=Zn(this.Ff,16):this.Ff=er(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Jn(this.Ff,17)},set:function(n){n?this.Ff=Zn(this.Ff,17):this.Ff=er(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Jn(this.Ff,26)},set:function(n){n?this.Ff=Zn(this.Ff,26):this.Ff=er(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(s){return s};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+Nu(n(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){ln(n)==="object"&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){typeof n=="string"&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+n}})};Oi(_r,to);var Vp=function(){_r.call(this),this.pushButton=!0};Oi(Vp,_r);var Lc=function(){_r.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};Oi(Lc,_r);var zm=function(){var t,e;to.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(a){return a};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,o=[];for(s in o.push("<<"),r)o.push("/"+s+" ("+Nu(i(r[s]))+")");return o.push(">>"),o.join(`
`)},set:function(i){ln(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){n="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Ze.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Oi(zm,to),Lc.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},Lc.prototype.createOption=function(t){var e=new zm;return e.Parent=this,e.optionName=t,this.Kids.push(e),EG.call(this.scope,e),e};var Bp=function(){_r.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Ze.CheckBox.createAppearanceStream()};Oi(Bp,_r);var lu=function(){to.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Jn(this.Ff,13)},set:function(e){e?this.Ff=Zn(this.Ff,13):this.Ff=er(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Jn(this.Ff,21)},set:function(e){e?this.Ff=Zn(this.Ff,21):this.Ff=er(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Jn(this.Ff,23)},set:function(e){e?this.Ff=Zn(this.Ff,23):this.Ff=er(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Jn(this.Ff,24)},set:function(e){e?this.Ff=Zn(this.Ff,24):this.Ff=er(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Jn(this.Ff,25)},set:function(e){e?this.Ff=Zn(this.Ff,25):this.Ff=er(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Jn(this.Ff,26)},set:function(e){e?this.Ff=Zn(this.Ff,26):this.Ff=er(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Oi(lu,to);var Up=function(){lu.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Jn(this.Ff,14)},set:function(t){t?this.Ff=Zn(this.Ff,14):this.Ff=er(this.Ff,14)}}),this.password=!0};Oi(Up,lu);var Ze={CheckBox:{createAppearanceStream:function(){return{N:{On:Ze.CheckBox.YesNormal},D:{On:Ze.CheckBox.YesPushDown,Off:Ze.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=wo(t);e.scope=t.scope;var n=[],r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),s=my(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+Pt(Ze.internal.getWidth(t))+" "+Pt(Ze.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+Pt(s.fontSize)+" Tf "+i),n.push("BT"),n.push(s.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join(`
`),e},YesNormal:function(t){var e=wo(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color),i=[],s=Ze.internal.getHeight(t),o=Ze.internal.getWidth(t),a=my(t,t.caption);return i.push("1 g"),i.push("0 0 "+Pt(o)+" "+Pt(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Pt(o-1)+" "+Pt(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+Pt(a.fontSize)+" Tf "+r),i.push(a.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=wo(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Pt(Ze.internal.getWidth(t))+" "+Pt(Ze.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:Ze.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=Ze.RadioButton.Circle.YesNormal,e.D[t]=Ze.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=wo(t);e.scope=t.scope;var n=[],r=Ze.internal.getWidth(t)<=Ze.internal.getHeight(t)?Ze.internal.getWidth(t)/4:Ze.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Ze.internal.Bezier_C,s=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+qa(Ze.internal.getWidth(t)/2)+" "+qa(Ze.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=wo(t);e.scope=t.scope;var n=[],r=Ze.internal.getWidth(t)<=Ze.internal.getHeight(t)?Ze.internal.getWidth(t)/4:Ze.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*Ze.internal.Bezier_C).toFixed(5)),o=Number((r*Ze.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+qa(Ze.internal.getWidth(t)/2)+" "+qa(Ze.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+qa(Ze.internal.getWidth(t)/2)+" "+qa(Ze.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),n.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),n.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),n.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=wo(t);e.scope=t.scope;var n=[],r=Ze.internal.getWidth(t)<=Ze.internal.getHeight(t)?Ze.internal.getWidth(t)/4:Ze.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*Ze.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+qa(Ze.internal.getWidth(t)/2)+" "+qa(Ze.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:Ze.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=Ze.RadioButton.Cross.YesNormal,e.D[t]=Ze.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=wo(t);e.scope=t.scope;var n=[],r=Ze.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+Pt(Ze.internal.getWidth(t)-2)+" "+Pt(Ze.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(Pt(r.x1.x)+" "+Pt(r.x1.y)+" m"),n.push(Pt(r.x2.x)+" "+Pt(r.x2.y)+" l"),n.push(Pt(r.x4.x)+" "+Pt(r.x4.y)+" m"),n.push(Pt(r.x3.x)+" "+Pt(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=wo(t);e.scope=t.scope;var n=Ze.internal.calculateCross(t),r=[];return r.push("0.749023 g"),r.push("0 0 "+Pt(Ze.internal.getWidth(t))+" "+Pt(Ze.internal.getHeight(t))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+Pt(Ze.internal.getWidth(t)-2)+" "+Pt(Ze.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(Pt(n.x1.x)+" "+Pt(n.x1.y)+" m"),r.push(Pt(n.x2.x)+" "+Pt(n.x2.y)+" l"),r.push(Pt(n.x4.x)+" "+Pt(n.x4.y)+" m"),r.push(Pt(n.x3.x)+" "+Pt(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=wo(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Pt(Ze.internal.getWidth(t))+" "+Pt(Ze.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};Ze.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=Ze.internal.getWidth(t),n=Ze.internal.getHeight(t),r=Math.min(e,n);return{x1:{x:(e-r)/2,y:(n-r)/2+r},x2:{x:(e-r)/2+r,y:(n-r)/2},x3:{x:(e-r)/2,y:(n-r)/2},x4:{x:(e-r)/2+r,y:(n-r)/2+r}}}},Ze.internal.getWidth=function(t){var e=0;return ln(t)==="object"&&(e=rx(t.Rect[2])),e},Ze.internal.getHeight=function(t){var e=0;return ln(t)==="object"&&(e=rx(t.Rect[3])),e};var EG=qn.addField=function(t){if(AG(this,t),!(t instanceof to))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};qn.AcroFormChoiceField=Cc,qn.AcroFormListBox=Nc,qn.AcroFormComboBox=Pc,qn.AcroFormEditBox=jp,qn.AcroFormButton=_r,qn.AcroFormPushButton=Vp,qn.AcroFormRadioButton=Lc,qn.AcroFormCheckBox=Bp,qn.AcroFormTextField=lu,qn.AcroFormPasswordField=Up,qn.AcroFormAppearance=Ze,qn.AcroForm={ChoiceField:Cc,ListBox:Nc,ComboBox:Pc,EditBox:jp,Button:_r,PushButton:Vp,RadioButton:Lc,CheckBox:Bp,TextField:lu,PasswordField:Up,Appearance:Ze},at.AcroForm={ChoiceField:Cc,ListBox:Nc,ComboBox:Pc,EditBox:jp,Button:_r,PushButton:Vp,RadioButton:Lc,CheckBox:Bp,TextField:lu,PasswordField:Up,Appearance:Ze};at.AcroForm;function A6(t){return t.reduce(function(e,n,r){return e[n]=r,e},{})}(function(t){var e="addImage_";t.__addimage__={};var n="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=t.__addimage__.getImageFileTypeByImageData=function(x,T){var N,J,ae,ye,ve,ee=n;if((T=T||n)==="RGBA"||x.data!==void 0&&x.data instanceof Uint8ClampedArray&&"height"in x&&"width"in x)return"RGBA";if(W(x))for(ve in r)for(ae=r[ve],N=0;N<ae.length;N+=1){for(ye=!0,J=0;J<ae[N].length;J+=1)if(ae[N][J]!==void 0&&ae[N][J]!==x[J]){ye=!1;break}if(ye===!0){ee=ve;break}}else for(ve in r)for(ae=r[ve],N=0;N<ae.length;N+=1){for(ye=!0,J=0;J<ae[N].length;J+=1)if(ae[N][J]!==void 0&&ae[N][J]!==x.charCodeAt(J)){ye=!1;break}if(ye===!0){ee=ve;break}}return ee===n&&T!==n&&(ee=T),ee},s=function x(T){for(var N=this.internal.write,J=this.internal.putStream,ae=(0,this.internal.getFilters)();ae.indexOf("FlateEncode")!==-1;)ae.splice(ae.indexOf("FlateEncode"),1);T.objectId=this.internal.newObject();var ye=[];if(ye.push({key:"Type",value:"/XObject"}),ye.push({key:"Subtype",value:"/Image"}),ye.push({key:"Width",value:T.width}),ye.push({key:"Height",value:T.height}),T.colorSpace===w.INDEXED?ye.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(T.palette.length/3-1)+" "+("sMask"in T&&T.sMask!==void 0?T.objectId+2:T.objectId+1)+" 0 R]"}):(ye.push({key:"ColorSpace",value:"/"+T.colorSpace}),T.colorSpace===w.DEVICE_CMYK&&ye.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ye.push({key:"BitsPerComponent",value:T.bitsPerComponent}),"decodeParameters"in T&&T.decodeParameters!==void 0&&ye.push({key:"DecodeParms",value:"<<"+T.decodeParameters+">>"}),"transparency"in T&&Array.isArray(T.transparency)&&T.transparency.length>0){for(var ve="",ee=0,ue=T.transparency.length;ee<ue;ee++)ve+=T.transparency[ee]+" "+T.transparency[ee]+" ";ye.push({key:"Mask",value:"["+ve+"]"})}T.sMask!==void 0&&ye.push({key:"SMask",value:T.objectId+1+" 0 R"});var z=T.filter!==void 0?["/"+T.filter]:void 0;if(J({data:T.data,additionalKeyValues:ye,alreadyAppliedFilters:z,objectId:T.objectId}),N("endobj"),"sMask"in T&&T.sMask!==void 0){var _e,j=(_e=T.sMaskBitsPerComponent)!==null&&_e!==void 0?_e:T.bitsPerComponent,R={width:T.width,height:T.height,colorSpace:"DeviceGray",bitsPerComponent:j,data:T.sMask};"filter"in T&&(R.decodeParameters="/Predictor ".concat(T.predictor," /Colors 1 /BitsPerComponent ").concat(j," /Columns ").concat(T.width),R.filter=T.filter),x.call(this,R)}if(T.colorSpace===w.INDEXED){var Z=this.internal.newObject();J({data:A(new Uint8Array(T.palette)),objectId:Z}),N("endobj")}},o=function(){var x=this.internal.collections[e+"images"];for(var T in x)s.call(this,x[T])},a=function(){var x,T=this.internal.collections[e+"images"],N=this.internal.write;for(var J in T)N("/I"+(x=T[J]).index,x.objectId,"0","R")},l=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",a))},u=function(){var x=this.internal.collections[e+"images"];return l.call(this),x},c=function(){return Object.keys(this.internal.collections[e+"images"]).length},d=function(x){return typeof t["process"+x.toUpperCase()]=="function"},g=function(x){return ln(x)==="object"&&x.nodeType===1},p=function(x,T){if(x.nodeName==="IMG"&&x.hasAttribute("src")){var N=""+x.getAttribute("src");if(N.indexOf("data:image/")===0)return Fp(unescape(N).split("base64,").pop());var J=t.loadFile(N,!0);if(J!==void 0)return J}if(x.nodeName==="CANVAS"){if(x.width===0||x.height===0)throw new Error("Given canvas must have data. Canvas width: "+x.width+", height: "+x.height);var ae;switch(T){case"PNG":ae="image/png";break;case"WEBP":ae="image/webp";break;default:ae="image/jpeg"}return Fp(x.toDataURL(ae,1).split("base64,").pop())}},_=function(x){var T=this.internal.collections[e+"images"];if(T){for(var N in T)if(x===T[N].alias)return T[N]}},k=function(x,T,N){return x||T||(x=-96,T=-96),x<0&&(x=-1*N.width*72/x/this.internal.scaleFactor),T<0&&(T=-1*N.height*72/T/this.internal.scaleFactor),x===0&&(x=T*N.width/N.height),T===0&&(T=x*N.height/N.width),[x,T]},D=function(x,T,N,J,ae,ye){var ve=k.call(this,N,J,ae),ee=this.internal.getCoordinateString,ue=this.internal.getVerticalCoordinateString,z=u.call(this);if(N=ve[0],J=ve[1],z[ae.index]=ae,ye){ye*=Math.PI/180;var _e=Math.cos(ye),j=Math.sin(ye),R=function(ne){return ne.toFixed(4)},Z=[R(_e),R(j),R(-1*j),R(_e),0,0,"cm"]}this.internal.write("q"),ye?(this.internal.write([1,"0","0",1,ee(x),ue(T+J),"cm"].join(" ")),this.internal.write(Z.join(" ")),this.internal.write([ee(N),"0","0",ee(J),"0","0","cm"].join(" "))):this.internal.write([ee(N),"0","0",ee(J),ee(x),ue(T+J),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ae.index+" Do"),this.internal.write("Q")},w=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var C=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},L=t.__addimage__.sHashCode=function(x){var T,N,J=0;if(typeof x=="string")for(N=x.length,T=0;T<N;T++)J=(J<<5)-J+x.charCodeAt(T),J|=0;else if(W(x))for(N=x.byteLength/2,T=0;T<N;T++)J=(J<<5)-J+x[T],J|=0;return J},V=t.__addimage__.validateStringAsBase64=function(x){(x=x||"").toString().trim();var T=!0;return x.length===0&&(T=!1),x.length%4!=0&&(T=!1),/^[A-Za-z0-9+/]+$/.test(x.substr(0,x.length-2))===!1&&(T=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(x.substr(-2))===!1&&(T=!1),T},X=t.__addimage__.extractImageFromDataUrl=function(x){if(x==null||!(x=x.trim()).startsWith("data:"))return null;var T=x.indexOf(",");return T<0?null:x.substring(0,T).trim().endsWith("base64")?x.substring(T+1):null};t.__addimage__.isArrayBuffer=function(x){return x instanceof ArrayBuffer};var W=t.__addimage__.isArrayBufferView=function(x){return x instanceof Int8Array||x instanceof Uint8Array||x instanceof Uint8ClampedArray||x instanceof Int16Array||x instanceof Uint16Array||x instanceof Int32Array||x instanceof Uint32Array||x instanceof Float32Array||x instanceof Float64Array},F=t.__addimage__.binaryStringToUint8Array=function(x){for(var T=x.length,N=new Uint8Array(T),J=0;J<T;J++)N[J]=x.charCodeAt(J);return N},A=t.__addimage__.arrayBufferToBinaryString=function(x){for(var T="",N=W(x)?x:new Uint8Array(x),J=0;J<N.length;J+=8192)T+=String.fromCharCode.apply(null,N.subarray(J,J+8192));return T};t.addImage=function(){var x,T,N,J,ae,ye,ve,ee,ue;if(typeof arguments[1]=="number"?(T=n,N=arguments[1],J=arguments[2],ae=arguments[3],ye=arguments[4],ve=arguments[5],ee=arguments[6],ue=arguments[7]):(T=arguments[1],N=arguments[2],J=arguments[3],ae=arguments[4],ye=arguments[5],ve=arguments[6],ee=arguments[7],ue=arguments[8]),ln(x=arguments[0])==="object"&&!g(x)&&"imageData"in x){var z=x;x=z.imageData,T=z.format||T||n,N=z.x||N||0,J=z.y||J||0,ae=z.w||z.width||ae,ye=z.h||z.height||ye,ve=z.alias||ve,ee=z.compression||ee,ue=z.rotation||z.angle||ue}var _e=this.internal.getFilters();if(ee===void 0&&_e.indexOf("FlateEncode")!==-1&&(ee="SLOW"),isNaN(N)||isNaN(J))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var j=E.call(this,x,T,ve,ee);return D.call(this,N,J,ae,ye,j,ue),this};var E=function(x,T,N,J){var ae,ye,ve;if(typeof x=="string"&&i(x)===n){x=unescape(x);var ee=I(x,!1);(ee!==""||(ee=t.loadFile(x,!0))!==void 0)&&(x=ee)}if(g(x)&&(x=p(x,T)),T=i(x,T),!d(T))throw new Error("addImage does not support files of type '"+T+"', please ensure that a plugin for '"+T+"' support is added.");if(((ve=N)==null||ve.length===0)&&(N=function(ue){return typeof ue=="string"||W(ue)?L(ue):W(ue.data)?L(ue.data):null}(x)),(ae=_.call(this,N))||(x instanceof Uint8Array||T==="RGBA"||(ye=x,x=F(x)),ae=this["process"+T.toUpperCase()](x,c.call(this),N,function(ue){return ue&&typeof ue=="string"&&(ue=ue.toUpperCase()),ue in t.image_compression?ue:C.NONE}(J),ye)),!ae)throw new Error("An unknown error occurred whilst processing the image.");return ae},I=t.__addimage__.convertBase64ToBinaryString=function(x,T){T=typeof T!="boolean"||T;var N,J="";if(typeof x=="string"){var ae;N=(ae=X(x))!==null&&ae!==void 0?ae:x;try{J=Fp(N)}catch(ye){if(T)throw V(N)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ye.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return J};t.getImageProperties=function(x){var T,N,J="";if(g(x)&&(x=p(x)),typeof x=="string"&&i(x)===n&&((J=I(x,!1))===""&&(J=t.loadFile(x)||""),x=J),N=i(x),!d(N))throw new Error("addImage does not support files of type '"+N+"', please ensure that a plugin for '"+N+"' support is added.");if(x instanceof Uint8Array||(x=F(x)),!(T=this["process"+N.toUpperCase()](x)))throw new Error("An unknown error occurred whilst processing the image");return T.fileType=N,T}})(at.API),function(t){var e=function(n){if(n!==void 0&&n!="")return!0};at.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var r,i,s,o=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(n.objId),u=n.pageContext.annotations,c=!1,d=0;d<u.length&&!c;d++)switch((r=u[d]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(c=!0);break;case"reference":case"text":case"freetext":c=!0}if(c!=0){this.internal.write("/Annots [");for(var g=0;g<u.length;g++){r=u[g];var p=this.internal.pdfEscape,_=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var k=this.internal.newAdditionalObject(),D=this.internal.newAdditionalObject(),w=this.internal.getEncryptor(k.objId),C=r.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y)+"] ")+"/Contents ("+p(w(r.contents))+")",s+=" /Popup "+D.objId+" 0 R",s+=" /P "+l.objId+" 0 R",s+=" /T ("+p(w(C))+") >>",k.content=s;var L=k.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+o(r.bounds.x+30)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w+30)+" "+a(r.bounds.y)+"] ")+" /Parent "+L,r.open&&(s+=" /Open true"),s+=" >>",D.content=s,this.internal.write(k.objId,"0 R",D.objId,"0 R");break;case"freetext":i="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y+r.bounds.h)+"] ";var V=r.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+p(_(r.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+V+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(r.options.name){var X=this.annotations._nameMap[r.options.name];r.options.pageNumber=X.page,r.options.top=X.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",s="",r.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+p(_(r.options.url))+") >>";else if(r.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,s+=" /FitV "+r.options.left+"]";break;default:var W=a(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),s+=" /XYZ "+r.options.left+" "+W+" "+r.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),t.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},t.link=function(n,r,i,s,o){var a=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:l(n),y:u(r),w:l(n+i),h:u(r+s)},options:o,type:"link"})},t.textWithLink=function(n,r,i,s){var o,a,l=this.getTextWidth(n),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){a=s.maxWidth;var c=this.splitTextToSize(n,a).length;o=Math.ceil(u*c)}else a=l,o=u;return this.text(n,r,i,s),i+=.2*u,s.align==="center"&&(r-=l/2),s.align==="right"&&(r-=l),this.link(r,i-u,a,o,s),l},t.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}}(at.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var s=t.__arabicParser__.isInArabicSubstitutionA=function(k){return e[k.charCodeAt(0)]!==void 0},o=t.__arabicParser__.isArabicLetter=function(k){return typeof k=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(k)},a=t.__arabicParser__.isArabicEndLetter=function(k){return o(k)&&s(k)&&e[k.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(k){return o(k)&&i.indexOf(k.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(k){return o(k)&&s(k)&&e[k.charCodeAt(0)].length>=1};var u=t.__arabicParser__.arabicLetterHasFinalForm=function(k){return o(k)&&s(k)&&e[k.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(k){return o(k)&&s(k)&&e[k.charCodeAt(0)].length>=3};var c=t.__arabicParser__.arabicLetterHasMedialForm=function(k){return o(k)&&s(k)&&e[k.charCodeAt(0)].length==4},d=t.__arabicParser__.resolveLigatures=function(k){var D=0,w=n,C="",L=0;for(D=0;D<k.length;D+=1)w[k.charCodeAt(D)]!==void 0?(L++,typeof(w=w[k.charCodeAt(D)])=="number"&&(C+=String.fromCharCode(w),w=n,L=0),D===k.length-1&&(w=n,C+=k.charAt(D-(L-1)),D-=L-1,L=0)):(w=n,C+=k.charAt(D-L),D-=L,L=0);return C};t.__arabicParser__.isArabicDiacritic=function(k){return k!==void 0&&r[k.charCodeAt(0)]!==void 0};var g=t.__arabicParser__.getCorrectForm=function(k,D,w){return o(k)?s(k)===!1?-1:!u(k)||!o(D)&&!o(w)||!o(w)&&a(D)||a(k)&&!o(D)||a(k)&&l(D)||a(k)&&a(D)?0:c(k)&&o(D)&&!a(D)&&o(w)&&u(w)?3:a(k)||!o(w)?1:2:-1},p=function(k){var D=0,w=0,C=0,L="",V="",X="",W=(k=k||"").split("\\s+"),F=[];for(D=0;D<W.length;D+=1){for(F.push(""),w=0;w<W[D].length;w+=1)L=W[D][w],V=W[D][w-1],X=W[D][w+1],o(L)?(C=g(L,V,X),F[D]+=C!==-1?String.fromCharCode(e[L.charCodeAt(0)][C]):L):F[D]+=L;F[D]=d(F[D])}return F.join(" ")},_=t.__arabicParser__.processArabic=t.processArabic=function(){var k,D=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,w=[];if(Array.isArray(D)){var C=0;for(w=[],C=0;C<D.length;C+=1)Array.isArray(D[C])?w.push([p(D[C][0]),D[C][1],D[C][2]]):w.push([p(D[C])]);k=w}else k=p(D);return typeof arguments[0]=="string"?k:(arguments[0].text=k,arguments[0])};t.events.push(["preProcessText",_])}(at.API),at.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},function(t){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(a){n=a}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(a){r=isNaN(a)||Number.isInteger(a)===!1||a<0?150:a,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(a){i=isNaN(a)||Number.isInteger(a)===!1||a<0?300:a,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(a){s=a}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(a){o=a}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,r){var i;if((n=n||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(at.API),function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(k){l=k}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(k){u=k}});var c=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return c},set:function(k){c=k}});var d=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return d},set:function(k){d=k}});var g=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return g},set:function(k){g=k}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(k){p=k}});var _=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return _},set:function(k){_=k}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(l){return r.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},t.getTextDimensions=function(l,u){r.call(this);var c=(u=u||{}).fontSize||this.getFontSize(),d=u.font||this.getFont(),g=u.scaleFactor||this.internal.scaleFactor,p=0,_=0,k=0,D=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var w=u.maxWidth;w>0?typeof l=="string"?l=this.splitTextToSize(l,w):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(L,V){return L.concat(D.splitTextToSize(V,w))},[])):l=Array.isArray(l)?l:[l];for(var C=0;C<l.length;C++)p<(k=this.getStringUnitWidth(l[C],{font:d})*c)&&(p=k);return p!==0&&(_=l.length),{w:p/=g,h:Math.max((_*c*this.getLineHeightFactor()-c*(this.getLineHeightFactor()-1))/g,0)}},t.cellAddPage=function(){r.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=t.cell=function(){var l;l=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),r.call(this);var u=this.internal.__cell__.lastCell,c=this.internal.__cell__.padding,d=this.internal.__cell__.margins||e,g=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===l.lineNumber?(l.x=(u.x||0)+(u.width||0),l.y=u.y||0):u.y+u.height+l.height+d.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=d.top,p&&g&&(this.printHeaderRow(l.lineNumber,!0),l.y+=g[0].height)):l.y=u.y+u.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,n===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-c,l.y+c,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+c,{align:"center",baseline:"top",maxWidth:l.width-c-c}):this.text(l.text,l.x+c,l.y+c,{align:"left",baseline:"top",maxWidth:l.width-c-c})),this.internal.__cell__.lastCell=l,this};t.table=function(l,u,c,d,g){if(r.call(this),!c)throw new Error("No data for PDF table.");var p,_,k,D,w=[],C=[],L=[],V={},X={},W=[],F=[],A=(g=g||{}).autoSize||!1,E=g.printHeaders!==!1,I=g.css&&g.css["font-size"]!==void 0?16*g.css["font-size"]:g.fontSize||12,x=g.margins||Object.assign({width:this.getPageWidth()},e),T=typeof g.padding=="number"?g.padding:3,N=g.headerBackgroundColor||"#c8c8c8",J=g.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=E,this.internal.__cell__.margins=x,this.internal.__cell__.table_font_size=I,this.internal.__cell__.padding=T,this.internal.__cell__.headerBackgroundColor=N,this.internal.__cell__.headerTextColor=J,this.setFontSize(I),d==null)C=w=Object.keys(c[0]),L=w.map(function(){return"left"});else if(Array.isArray(d)&&ln(d[0])==="object")for(w=d.map(function(z){return z.name}),C=d.map(function(z){return z.prompt||z.name||""}),L=d.map(function(z){return z.align||"left"}),p=0;p<d.length;p+=1)X[d[p].name]=.7499990551181103*d[p].width;else Array.isArray(d)&&typeof d[0]=="string"&&(C=w=d,L=w.map(function(){return"left"}));if(A||Array.isArray(d)&&typeof d[0]=="string")for(p=0;p<w.length;p+=1){for(V[D=w[p]]=c.map(function(z){return z[D]}),this.setFont(void 0,"bold"),W.push(this.getTextDimensions(C[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),_=V[D],this.setFont(void 0,"normal"),k=0;k<_.length;k+=1)W.push(this.getTextDimensions(_[k],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);X[D]=Math.max.apply(null,W)+T+T,W=[]}if(E){var ae={};for(p=0;p<w.length;p+=1)ae[w[p]]={},ae[w[p]].text=C[p],ae[w[p]].align=L[p];var ye=a.call(this,ae,X);F=w.map(function(z){return new s(l,u,X[z],ye,ae[z].text,void 0,ae[z].align)}),this.setTableHeaderRow(F),this.printHeaderRow(1,!1)}var ve=d.reduce(function(z,_e){return z[_e.name]=_e.align,z},{});for(p=0;p<c.length;p+=1){"rowStart"in g&&g.rowStart instanceof Function&&g.rowStart({row:p,data:c[p]},this);var ee=a.call(this,c[p],X);for(k=0;k<w.length;k+=1){var ue=c[p][w[k]];"cellStart"in g&&g.cellStart instanceof Function&&g.cellStart({row:p,col:k,data:ue},this),o.call(this,new s(l,u,X[w[k]],ee,ue,p+2,ve[w[k]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=u,this};var a=function(l,u){var c=this.internal.__cell__.padding,d=this.internal.__cell__.table_font_size,g=this.internal.scaleFactor;return Object.keys(l).map(function(p){var _=l[p];return this.splitTextToSize(_.hasOwnProperty("text")?_.text:_,u[p]-c-c)},this).map(function(p){return this.getLineHeightFactor()*p.length*d/g+c+c},this).reduce(function(p,_){return Math.max(p,_)},0)};t.setTableHeaderRow=function(l){r.call(this),this.internal.__cell__.tableHeaderRow=l},t.printHeaderRow=function(l,u){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var c;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var d=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(d[0],d[1],d[2],d[3],void 0,-1)}this.setFont(void 0,"bold");for(var g=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){c=this.internal.__cell__.tableHeaderRow[p].clone(),u&&(c.y=this.internal.__cell__.margins.top||0,g.push(c)),c.lineNumber=l;var _=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,c),this.setTextColor(_)}g.length>0&&this.setTableHeaderRow(g),this.setFont(void 0,"normal"),n=!1}}(at.API);var E6={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},I6=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],gy=A6(I6),T6=[100,200,300,400,500,600,700,800,900],IG=A6(T6);function x0(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),n=function(s){return E6[s=s||"normal"]?s:"normal"}(t.style),r=function(s){return s?typeof s=="number"?s>=100&&s<=900&&s%100==0?s:400:/^\d00$/.test(s)?parseInt(s):s==="bold"?700:400:400}(t.weight),i=function(s){return typeof gy[s=s||"normal"]=="number"?s:"normal"}(t.stretch);return{family:e,style:n,weight:r,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,n,r].join(" ")}}}function ix(t,e,n,r){var i;for(i=n;i>=0&&i<e.length;i+=r)if(t[e[i]])return t[e[i]];for(i=n;i>=0&&i<e.length;i-=r)if(t[e[i]])return t[e[i]]}var TG={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},sx={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function ox(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function ax(t){return t.trimLeft()}function CG(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function NG(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var cp,lx,ux,Ku,hp,cx,hx,fx,k0=["times"];function dx(t,e,n,r,i){var s=4,o=mx;switch(i){case at.API.image_compression.FAST:s=1,o=px;break;case at.API.image_compression.MEDIUM:s=6,o=gx;break;case at.API.image_compression.SLOW:s=9,o=yx}t=function(l,u,c,d){for(var g,p=l.length/u,_=new Uint8Array(l.length+p),k=[PG,px,mx,gx,yx],D=0;D<p;D+=1){var w=D*u,C=l.subarray(w,w+u);if(d)_.set(d(C,c,g),w+D);else{for(var L=k.length,V=[],X=0;X<L;X+=1)V[X]=k[X](C,c,g);var W=RG(V.concat());_.set(V[W],w+D)}g=C}return _}(t,e,Math.ceil(n*r/8),o);var a=uy(t,{level:s});return at.API.__addimage__.arrayBufferToBinaryString(a)}function PG(t){var e=Array.apply([],t);return e.unshift(0),e}function px(t,e){var n=t.length,r=[];r[0]=1;for(var i=0;i<n;i+=1){var s=t[i-e]||0;r[i+1]=t[i]-s+256&255}return r}function mx(t,e,n){var r=t.length,i=[];i[0]=2;for(var s=0;s<r;s+=1){var o=n&&n[s]||0;i[s+1]=t[s]-o+256&255}return i}function gx(t,e,n){var r=t.length,i=[];i[0]=3;for(var s=0;s<r;s+=1){var o=t[s-e]||0,a=n&&n[s]||0;i[s+1]=t[s]+256-(o+a>>>1)&255}return i}function yx(t,e,n){var r=t.length,i=[];i[0]=4;for(var s=0;s<r;s+=1){var o=LG(t[s-e]||0,n&&n[s]||0,n&&n[s-e]||0);i[s+1]=t[s]-o+256&255}return i}function LG(t,e,n){if(t===e&&e===n)return t;var r=Math.abs(e-n),i=Math.abs(t-n),s=Math.abs(t+e-n-n);return r<=i&&r<=s?t:i<=s?e:n}function RG(t){var e=t.map(function(n){return n.reduce(function(r,i){return r+Math.abs(i)},0)});return e.indexOf(Math.min.apply(null,e))}function S0(t,e,n){var r=e*n,i=Math.floor(r/8),s=16-(r-8*i+n),o=(1<<n)-1;return C6(t,i)>>s&o}function vx(t,e,n,r){var i=n*r,s=Math.floor(i/8),o=16-(i-8*s+r),a=(1<<r)-1,l=(e&a)<<o;(function(u,c,d){if(c+1<u.byteLength)u.setUint16(c,d,!1);else{var g=d>>8&255;u.setUint8(c,g)}})(t,s,C6(t,s)&~(a<<o)&65535|l)}function C6(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function DG(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,r=t[e++]|t[e++]<<8,i=t[e++],s=i>>7,o=1<<1+(7&i);t[e++],t[e++];var a=null,l=null;s&&(a=e,l=o,e+=3*o);var u=!0,c=[],d=0,g=null,p=0,_=null;for(this.width=n,this.height=r;u&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,_=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((x=t[e++])>=0))throw Error("Invalid block size");if(x===0)break;e+=x}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var k=t[e++];d=t[e++]|t[e++]<<8,g=t[e++],1&k||(g=null),p=k>>2&7,e++;break;case 254:for(;;){if(!((x=t[e++])>=0))throw Error("Invalid block size");if(x===0)break;e+=x}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var D=t[e++]|t[e++]<<8,w=t[e++]|t[e++]<<8,C=t[e++]|t[e++]<<8,L=t[e++]|t[e++]<<8,V=t[e++],X=V>>6&1,W=1<<1+(7&V),F=a,A=l,E=!1;V>>7&&(E=!0,F=e,A=W,e+=3*W);var I=e;for(e++;;){var x;if(!((x=t[e++])>=0))throw Error("Invalid block size");if(x===0)break;e+=x}c.push({x:D,y:w,width:C,height:L,has_local_palette:E,palette_offset:F,palette_size:A,data_offset:I,data_length:e-I,transparent_index:g,interlaced:!!X,delay:d,disposal:p});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return c.length},this.loopCount=function(){return _},this.frameInfo=function(T){if(T<0||T>=c.length)throw new Error("Frame index out of range.");return c[T]},this.decodeAndBlitFrameBGRA=function(T,N){var J=this.frameInfo(T),ae=J.width*J.height,ye=new Uint8Array(ae);wx(t,J.data_offset,ye,ae);var ve=J.palette_offset,ee=J.transparent_index;ee===null&&(ee=256);var ue=J.width,z=n-ue,_e=ue,j=4*(J.y*n+J.x),R=4*((J.y+J.height)*n+J.x),Z=j,ne=4*z;J.interlaced===!0&&(ne+=4*n*7);for(var re=8,ce=0,we=ye.length;ce<we;++ce){var be=ye[ce];if(_e===0&&(_e=ue,(Z+=ne)>=R&&(ne=4*z+4*n*(re-1),Z=j+(ue+z)*(re<<1),re>>=1)),be===ee)Z+=4;else{var ke=t[ve+3*be],Re=t[ve+3*be+1],qe=t[ve+3*be+2];N[Z++]=qe,N[Z++]=Re,N[Z++]=ke,N[Z++]=255}--_e}},this.decodeAndBlitFrameRGBA=function(T,N){var J=this.frameInfo(T),ae=J.width*J.height,ye=new Uint8Array(ae);wx(t,J.data_offset,ye,ae);var ve=J.palette_offset,ee=J.transparent_index;ee===null&&(ee=256);var ue=J.width,z=n-ue,_e=ue,j=4*(J.y*n+J.x),R=4*((J.y+J.height)*n+J.x),Z=j,ne=4*z;J.interlaced===!0&&(ne+=4*n*7);for(var re=8,ce=0,we=ye.length;ce<we;++ce){var be=ye[ce];if(_e===0&&(_e=ue,(Z+=ne)>=R&&(ne=4*z+4*n*(re-1),Z=j+(ue+z)*(re<<1),re>>=1)),be===ee)Z+=4;else{var ke=t[ve+3*be],Re=t[ve+3*be+1],qe=t[ve+3*be+2];N[Z++]=ke,N[Z++]=Re,N[Z++]=qe,N[Z++]=255}--_e}}}function wx(t,e,n,r){for(var i=t[e++],s=1<<i,o=s+1,a=o+1,l=i+1,u=(1<<l)-1,c=0,d=0,g=0,p=t[e++],_=new Int32Array(4096),k=null;;){for(;c<16&&p!==0;)d|=t[e++]<<c,c+=8,p===1?p=t[e++]:--p;if(c<l)break;var D=d&u;if(d>>=l,c-=l,D!==s){if(D===o)break;for(var w=D<a?D:k,C=0,L=w;L>s;)L=_[L]>>8,++C;var V=L;if(g+C+(w!==D?1:0)>r)return void pn.log("Warning, gif stream longer than expected.");n[g++]=V;var X=g+=C;for(w!==D&&(n[g++]=V),L=w;C--;)L=_[L],n[--X]=255&L,L>>=8;k!==null&&a<4096&&(_[a++]=k<<8|V,a>=u+1&&l<12&&(++l,u=u<<1|1)),k=D}else a=o+1,u=(1<<(l=i+1))-1,k=null}return g!==r&&pn.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function A0(t){var e,n,r,i,s,o=Math.floor,a=new Array(64),l=new Array(64),u=new Array(64),c=new Array(64),d=new Array(65535),g=new Array(65535),p=new Array(64),_=new Array(64),k=[],D=0,w=7,C=new Array(64),L=new Array(64),V=new Array(64),X=new Array(256),W=new Array(2048),F=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],A=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],E=[0,1,2,3,4,5,6,7,8,9,10,11],I=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],x=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],T=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],N=[0,1,2,3,4,5,6,7,8,9,10,11],J=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ae=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ye(j,R){for(var Z=0,ne=0,re=new Array,ce=1;ce<=16;ce++){for(var we=1;we<=j[ce];we++)re[R[ne]]=[],re[R[ne]][0]=Z,re[R[ne]][1]=ce,ne++,Z++;Z*=2}return re}function ve(j){for(var R=j[0],Z=j[1]-1;Z>=0;)R&1<<Z&&(D|=1<<w),Z--,--w<0&&(D==255?(ee(255),ee(0)):ee(D),w=7,D=0)}function ee(j){k.push(j)}function ue(j){ee(j>>8&255),ee(255&j)}function z(j,R,Z,ne,re){for(var ce,we=re[0],be=re[240],ke=function(Ee,Ge){var We,ut,st,Kt,Nt,de,Te,Ve,De,$e,He=0;for(De=0;De<8;++De){We=Ee[He],ut=Ee[He+1],st=Ee[He+2],Kt=Ee[He+3],Nt=Ee[He+4],de=Ee[He+5],Te=Ee[He+6];var en=We+(Ve=Ee[He+7]),vt=We-Ve,wt=ut+Te,_t=ut-Te,It=st+de,et=st-de,Dt=Kt+Nt,pt=Kt-Nt,bt=en+Dt,cn=en-Dt,ft=wt+It,dt=wt-It;Ee[He]=bt+ft,Ee[He+4]=bt-ft;var Ut=.707106781*(dt+cn);Ee[He+2]=cn+Ut,Ee[He+6]=cn-Ut;var Mi=.382683433*((bt=pt+et)-(dt=_t+vt)),mr=.5411961*bt+Mi,Cs=1.306562965*dt+Mi,xr=.707106781*(ft=et+_t),mt=vt+xr,Ns=vt-xr;Ee[He+5]=Ns+mr,Ee[He+3]=Ns-mr,Ee[He+1]=mt+Cs,Ee[He+7]=mt-Cs,He+=8}for(He=0,De=0;De<8;++De){We=Ee[He],ut=Ee[He+8],st=Ee[He+16],Kt=Ee[He+24],Nt=Ee[He+32],de=Ee[He+40],Te=Ee[He+48];var pi=We+(Ve=Ee[He+56]),Yr=We-Ve,Xr=ut+Te,gn=ut-Te,Dn=st+de,ar=st-de,Lr=Kt+Nt,Ps=Kt-Nt,mi=pi+Lr,gi=pi-Lr,Jr=Xr+Dn,yi=Xr-Dn;Ee[He]=mi+Jr,Ee[He+32]=mi-Jr;var vi=.707106781*(yi+gi);Ee[He+16]=gi+vi,Ee[He+48]=gi-vi;var ro=.382683433*((mi=Ps+ar)-(yi=gn+Yr)),is=.5411961*mi+ro,ss=1.306562965*yi+ro,Fo=.707106781*(Jr=ar+gn),io=Yr+Fo,os=Yr-Fo;Ee[He+40]=os+is,Ee[He+24]=os-is,Ee[He+8]=io+ss,Ee[He+56]=io-ss,He++}for(De=0;De<64;++De)$e=Ee[De]*Ge[De],p[De]=$e>0?$e+.5|0:$e-.5|0;return p}(j,R),Re=0;Re<64;++Re)_[F[Re]]=ke[Re];var qe=_[0]-Z;Z=_[0],qe==0?ve(ne[0]):(ve(ne[g[ce=32767+qe]]),ve(d[ce]));for(var ze=63;ze>0&&_[ze]==0;)ze--;if(ze==0)return ve(we),Z;for(var it,G=1;G<=ze;){for(var Be=G;_[G]==0&&G<=ze;)++G;var St=G-Be;if(St>=16){it=St>>4;for(var lt=1;lt<=it;++lt)ve(be);St&=15}ce=32767+_[G],ve(re[(St<<4)+g[ce]]),ve(d[ce]),G++}return ze!=63&&ve(we),Z}function _e(j){j=Math.min(Math.max(j,1),100),s!=j&&(function(R){for(var Z=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ne=0;ne<64;ne++){var re=o((Z[ne]*R+50)/100);re=Math.min(Math.max(re,1),255),a[F[ne]]=re}for(var ce=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],we=0;we<64;we++){var be=o((ce[we]*R+50)/100);be=Math.min(Math.max(be,1),255),l[F[we]]=be}for(var ke=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Re=0,qe=0;qe<8;qe++)for(var ze=0;ze<8;ze++)u[Re]=1/(a[F[Re]]*ke[qe]*ke[ze]*8),c[Re]=1/(l[F[Re]]*ke[qe]*ke[ze]*8),Re++}(j<50?Math.floor(5e3/j):Math.floor(200-2*j)),s=j)}this.encode=function(j,R){R&&_e(R),k=new Array,D=0,w=7,ue(65496),ue(65504),ue(16),ee(74),ee(70),ee(73),ee(70),ee(0),ee(1),ee(1),ee(0),ue(1),ue(1),ee(0),ee(0),function(){ue(65499),ue(132),ee(0);for(var ut=0;ut<64;ut++)ee(a[ut]);ee(1);for(var st=0;st<64;st++)ee(l[st])}(),function(ut,st){ue(65472),ue(17),ee(8),ue(st),ue(ut),ee(3),ee(1),ee(17),ee(0),ee(2),ee(17),ee(1),ee(3),ee(17),ee(1)}(j.width,j.height),function(){ue(65476),ue(418),ee(0);for(var ut=0;ut<16;ut++)ee(A[ut+1]);for(var st=0;st<=11;st++)ee(E[st]);ee(16);for(var Kt=0;Kt<16;Kt++)ee(I[Kt+1]);for(var Nt=0;Nt<=161;Nt++)ee(x[Nt]);ee(1);for(var de=0;de<16;de++)ee(T[de+1]);for(var Te=0;Te<=11;Te++)ee(N[Te]);ee(17);for(var Ve=0;Ve<16;Ve++)ee(J[Ve+1]);for(var De=0;De<=161;De++)ee(ae[De])}(),ue(65498),ue(12),ee(3),ee(1),ee(0),ee(2),ee(17),ee(3),ee(17),ee(0),ee(63),ee(0);var Z=0,ne=0,re=0;D=0,w=7,this.encode.displayName="_encode_";for(var ce,we,be,ke,Re,qe,ze,it,G,Be=j.data,St=j.width,lt=j.height,Ee=4*St,Ge=0;Ge<lt;){for(ce=0;ce<Ee;){for(Re=Ee*Ge+ce,ze=-1,it=0,G=0;G<64;G++)qe=Re+(it=G>>3)*Ee+(ze=4*(7&G)),Ge+it>=lt&&(qe-=Ee*(Ge+1+it-lt)),ce+ze>=Ee&&(qe-=ce+ze-Ee+4),we=Be[qe++],be=Be[qe++],ke=Be[qe++],C[G]=(W[we]+W[be+256|0]+W[ke+512|0]>>16)-128,L[G]=(W[we+768|0]+W[be+1024|0]+W[ke+1280|0]>>16)-128,V[G]=(W[we+1280|0]+W[be+1536|0]+W[ke+1792|0]>>16)-128;Z=z(C,u,Z,e,r),ne=z(L,c,ne,n,i),re=z(V,c,re,n,i),ce+=32}Ge+=8}if(w>=0){var We=[];We[1]=w+1,We[0]=(1<<w+1)-1,ve(We)}return ue(65497),new Uint8Array(k)},t=t||50,function(){for(var j=String.fromCharCode,R=0;R<256;R++)X[R]=j(R)}(),e=ye(A,E),n=ye(T,N),r=ye(I,x),i=ye(J,ae),function(){for(var j=1,R=2,Z=1;Z<=15;Z++){for(var ne=j;ne<R;ne++)g[32767+ne]=Z,d[32767+ne]=[],d[32767+ne][1]=Z,d[32767+ne][0]=ne;for(var re=-(R-1);re<=-j;re++)g[32767+re]=Z,d[32767+re]=[],d[32767+re][1]=Z,d[32767+re][0]=R-1+re;j<<=1,R<<=1}}(),function(){for(var j=0;j<256;j++)W[j]=19595*j,W[j+256|0]=38470*j,W[j+512|0]=7471*j+32768,W[j+768|0]=-11059*j,W[j+1024|0]=-21709*j,W[j+1280|0]=32768*j+8421375,W[j+1536|0]=-27439*j,W[j+1792|0]=-5329*j}(),_e(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Bs(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function _x(t){function e(E){if(!E)throw Error("assert :P")}function n(E,I,x){for(var T=0;4>T;T++)if(E[I+T]!=x.charCodeAt(T))return!0;return!1}function r(E,I,x,T,N){for(var J=0;J<N;J++)E[I+J]=x[T+J]}function i(E,I,x,T){for(var N=0;N<T;N++)E[I+N]=x}function s(E){return new Int32Array(E)}function o(E,I){for(var x=[],T=0;T<E;T++)x.push(new I);return x}function a(E,I){var x=[];return function T(N,J,ae){for(var ye=ae[J],ve=0;ve<ye&&(N.push(ae.length>J+1?[]:new I),!(ae.length<J+1));ve++)T(N[ve],J+1,ae)}(x,0,E),x}var l=function(){var E=this;function I(h,m){for(var v=1<<m-1>>>0;h&v;)v>>>=1;return v?(h&v-1)+v:h}function x(h,m,v,S,M){e(!(S%v));do h[m+(S-=v)]=M;while(0<S)}function T(h,m,v,S,M){if(e(2328>=M),512>=M)var B=s(512);else if((B=s(M))==null)return 0;return function(U,q,H,Q,ie,me){var Y,se,fe=q,xe=1<<H,pe=s(16),Ae=s(16);for(e(ie!=0),e(Q!=null),e(U!=null),e(0<H),se=0;se<ie;++se){if(15<Q[se])return 0;++pe[Q[se]]}if(pe[0]==ie)return 0;for(Ae[1]=0,Y=1;15>Y;++Y){if(pe[Y]>1<<Y)return 0;Ae[Y+1]=Ae[Y]+pe[Y]}for(se=0;se<ie;++se)Y=Q[se],0<Q[se]&&(me[Ae[Y]++]=se);if(Ae[15]==1)return(Q=new N).g=0,Q.value=me[0],x(U,fe,1,xe,Q),xe;var Ie,Oe=-1,Le=xe-1,ot=0,Je=1,Ot=1,nt=1<<H;for(se=0,Y=1,ie=2;Y<=H;++Y,ie<<=1){if(Je+=Ot<<=1,0>(Ot-=pe[Y]))return 0;for(;0<pe[Y];--pe[Y])(Q=new N).g=Y,Q.value=me[se++],x(U,fe+ot,ie,nt,Q),ot=I(ot,Y)}for(Y=H+1,ie=2;15>=Y;++Y,ie<<=1){if(Je+=Ot<<=1,0>(Ot-=pe[Y]))return 0;for(;0<pe[Y];--pe[Y]){if(Q=new N,(ot&Le)!=Oe){for(fe+=nt,Ie=1<<(Oe=Y)-H;15>Oe&&!(0>=(Ie-=pe[Oe]));)++Oe,Ie<<=1;xe+=nt=1<<(Ie=Oe-H),U[q+(Oe=ot&Le)].g=Ie+H,U[q+Oe].value=fe-q-Oe}Q.g=Y-H,Q.value=me[se++],x(U,fe+(ot>>H),ie,nt,Q),ot=I(ot,Y)}}return Je!=2*Ae[15]-1?0:xe}(h,m,v,S,M,B)}function N(){this.value=this.g=0}function J(){this.value=this.g=0}function ae(){this.G=o(5,N),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Ul,J)}function ye(h,m,v,S){e(h!=null),e(m!=null),e(2147483648>S),h.Ca=254,h.I=0,h.b=-8,h.Ka=0,h.oa=m,h.pa=v,h.Jd=m,h.Yc=v+S,h.Zc=4<=S?v+S-4+1:v,we(h)}function ve(h,m){for(var v=0;0<m--;)v|=ke(h,128)<<m;return v}function ee(h,m){var v=ve(h,m);return be(h)?-v:v}function ue(h,m,v,S){var M,B=0;for(e(h!=null),e(m!=null),e(4294967288>S),h.Sb=S,h.Ra=0,h.u=0,h.h=0,4<S&&(S=4),M=0;M<S;++M)B+=m[v+M]<<8*M;h.Ra=B,h.bb=S,h.oa=m,h.pa=v}function z(h){for(;8<=h.u&&h.bb<h.Sb;)h.Ra>>>=8,h.Ra+=h.oa[h.pa+h.bb]<<Ia-8>>>0,++h.bb,h.u-=8;ne(h)&&(h.h=1,h.u=0)}function _e(h,m){if(e(0<=m),!h.h&&m<=Vi){var v=Z(h)&ji[m];return h.u+=m,z(h),v}return h.h=1,h.u=0}function j(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function R(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function Z(h){return h.Ra>>>(h.u&Ia-1)>>>0}function ne(h){return e(h.bb<=h.Sb),h.h||h.bb==h.Sb&&h.u>Ia}function re(h,m){h.u=m,h.h=ne(h)}function ce(h){h.u>=Ho&&(e(h.u>=Ho),z(h))}function we(h){e(h!=null&&h.oa!=null),h.pa<h.Zc?(h.I=(h.oa[h.pa++]|h.I<<8)>>>0,h.b+=8):(e(h!=null&&h.oa!=null),h.pa<h.Yc?(h.b+=8,h.I=h.oa[h.pa++]|h.I<<8):h.Ka?h.b=0:(h.I<<=8,h.b+=8,h.Ka=1))}function be(h){return ve(h,1)}function ke(h,m){var v=h.Ca;0>h.b&&we(h);var S=h.b,M=v*m>>>8,B=(h.I>>>S>M)+0;for(B?(v-=M,h.I-=M+1<<S>>>0):v=M+1,S=v,M=0;256<=S;)M+=8,S>>=8;return S=7^M+Ta[S],h.b-=S,h.Ca=(v<<S)-1,B}function Re(h,m,v){h[m+0]=v>>24&255,h[m+1]=v>>16&255,h[m+2]=v>>8&255,h[m+3]=255&v}function qe(h,m){return h[m+0]|h[m+1]<<8}function ze(h,m){return qe(h,m)|h[m+2]<<16}function it(h,m){return qe(h,m)|qe(h,m+2)<<16}function G(h,m){var v=1<<m;return e(h!=null),e(0<m),h.X=s(v),h.X==null?0:(h.Mb=32-m,h.Xa=m,1)}function Be(h,m){e(h!=null),e(m!=null),e(h.Xa==m.Xa),r(m.X,0,h.X,0,1<<m.Xa)}function St(){this.X=[],this.Xa=this.Mb=0}function lt(h,m,v,S){e(v!=null),e(S!=null);var M=v[0],B=S[0];return M==0&&(M=(h*B+m/2)/m),B==0&&(B=(m*M+h/2)/h),0>=M||0>=B?0:(v[0]=M,S[0]=B,1)}function Ee(h,m){return h+(1<<m)-1>>>m}function Ge(h,m){return((4278255360&h)+(4278255360&m)>>>0&4278255360)+((16711935&h)+(16711935&m)>>>0&16711935)>>>0}function We(h,m){E[m]=function(v,S,M,B,U,q,H){var Q;for(Q=0;Q<U;++Q){var ie=E[h](q[H+Q-1],M,B+Q);q[H+Q]=Ge(v[S+Q],ie)}}}function ut(){this.ud=this.hd=this.jd=0}function st(h,m){return((4278124286&(h^m))>>>1)+(h&m)>>>0}function Kt(h){return 0<=h&&256>h?h:0>h?0:255<h?255:void 0}function Nt(h,m){return Kt(h+(h-m+.5>>1))}function de(h,m,v){return Math.abs(m-v)-Math.abs(h-v)}function Te(h,m,v,S,M,B,U){for(S=B[U-1],v=0;v<M;++v)B[U+v]=S=Ge(h[m+v],S)}function Ve(h,m,v,S,M){var B;for(B=0;B<v;++B){var U=h[m+B],q=U>>8&255,H=16711935&(H=(H=16711935&U)+((q<<16)+q));S[M+B]=(4278255360&U)+H>>>0}}function De(h,m){m.jd=255&h,m.hd=h>>8&255,m.ud=h>>16&255}function $e(h,m,v,S,M,B){var U;for(U=0;U<S;++U){var q=m[v+U],H=q>>>8,Q=q,ie=255&(ie=(ie=q>>>16)+((h.jd<<24>>24)*(H<<24>>24)>>>5));Q=255&(Q=(Q+=(h.hd<<24>>24)*(H<<24>>24)>>>5)+((h.ud<<24>>24)*(ie<<24>>24)>>>5)),M[B+U]=(4278255360&q)+(ie<<16)+Q}}function He(h,m,v,S,M){E[m]=function(B,U,q,H,Q,ie,me,Y,se){for(H=me;H<Y;++H)for(me=0;me<se;++me)Q[ie++]=M(q[S(B[U++])])},E[h]=function(B,U,q,H,Q,ie,me){var Y=8>>B.b,se=B.Ea,fe=B.K[0],xe=B.w;if(8>Y)for(B=(1<<B.b)-1,xe=(1<<Y)-1;U<q;++U){var pe,Ae=0;for(pe=0;pe<se;++pe)pe&B||(Ae=S(H[Q++])),ie[me++]=M(fe[Ae&xe]),Ae>>=Y}else E["VP8LMapColor"+v](H,Q,fe,xe,ie,me,U,q,se)}}function en(h,m,v,S,M){for(v=m+v;m<v;){var B=h[m++];S[M++]=B>>16&255,S[M++]=B>>8&255,S[M++]=255&B}}function vt(h,m,v,S,M){for(v=m+v;m<v;){var B=h[m++];S[M++]=B>>16&255,S[M++]=B>>8&255,S[M++]=255&B,S[M++]=B>>24&255}}function wt(h,m,v,S,M){for(v=m+v;m<v;){var B=(U=h[m++])>>16&240|U>>12&15,U=240&U|U>>28&15;S[M++]=B,S[M++]=U}}function _t(h,m,v,S,M){for(v=m+v;m<v;){var B=(U=h[m++])>>16&248|U>>13&7,U=U>>5&224|U>>3&31;S[M++]=B,S[M++]=U}}function It(h,m,v,S,M){for(v=m+v;m<v;){var B=h[m++];S[M++]=255&B,S[M++]=B>>8&255,S[M++]=B>>16&255}}function et(h,m,v,S,M,B){if(B==0)for(v=m+v;m<v;)Re(S,((B=h[m++])[0]>>24|B[1]>>8&65280|B[2]<<8&16711680|B[3]<<24)>>>0),M+=32;else r(S,M,h,m,v)}function Dt(h,m){E[m][0]=E[h+"0"],E[m][1]=E[h+"1"],E[m][2]=E[h+"2"],E[m][3]=E[h+"3"],E[m][4]=E[h+"4"],E[m][5]=E[h+"5"],E[m][6]=E[h+"6"],E[m][7]=E[h+"7"],E[m][8]=E[h+"8"],E[m][9]=E[h+"9"],E[m][10]=E[h+"10"],E[m][11]=E[h+"11"],E[m][12]=E[h+"12"],E[m][13]=E[h+"13"],E[m][14]=E[h+"0"],E[m][15]=E[h+"0"]}function pt(h){return h==Ug||h==zg||h==wd||h==qg}function bt(){this.eb=[],this.size=this.A=this.fb=0}function cn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function ft(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new bt,this.f.kb=new cn,this.sd=null}function dt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Ut(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Mi(h){return alert("todo:WebPSamplerProcessPlane"),h.T}function mr(h,m){var v=h.T,S=m.ba.f.RGBA,M=S.eb,B=S.fb+h.ka*S.A,U=gs[m.ba.S],q=h.y,H=h.O,Q=h.f,ie=h.N,me=h.ea,Y=h.W,se=m.cc,fe=m.dc,xe=m.Mc,pe=m.Nc,Ae=h.ka,Ie=h.ka+h.T,Oe=h.U,Le=Oe+1>>1;for(Ae==0?U(q,H,null,null,Q,ie,me,Y,Q,ie,me,Y,M,B,null,null,Oe):(U(m.ec,m.fc,q,H,se,fe,xe,pe,Q,ie,me,Y,M,B-S.A,M,B,Oe),++v);Ae+2<Ie;Ae+=2)se=Q,fe=ie,xe=me,pe=Y,ie+=h.Rc,Y+=h.Rc,B+=2*S.A,U(q,(H+=2*h.fa)-h.fa,q,H,se,fe,xe,pe,Q,ie,me,Y,M,B-S.A,M,B,Oe);return H+=h.fa,h.j+Ie<h.o?(r(m.ec,m.fc,q,H,Oe),r(m.cc,m.dc,Q,ie,Le),r(m.Mc,m.Nc,me,Y,Le),v--):1&Ie||U(q,H,null,null,Q,ie,me,Y,Q,ie,me,Y,M,B+S.A,null,null,Oe),v}function Cs(h,m,v){var S=h.F,M=[h.J];if(S!=null){var B=h.U,U=m.ba.S,q=U==vd||U==wd;m=m.ba.f.RGBA;var H=[0],Q=h.ka;H[0]=h.T,h.Kb&&(Q==0?--H[0]:(--Q,M[0]-=h.width),h.j+h.ka+h.T==h.o&&(H[0]=h.o-h.j-Q));var ie=m.eb;Q=m.fb+Q*m.A,h=Uv(S,M[0],h.width,B,H,ie,Q+(q?0:3),m.A),e(v==H),h&&pt(U)&&bh(ie,Q,q,B,H,m.A)}return 0}function xr(h){var m=h.ma,v=m.ba.S,S=11>v,M=v==gd||v==yd||v==vd||v==Bg||v==12||pt(v);if(m.memory=null,m.Ib=null,m.Jb=null,m.Nd=null,!dh(m.Oa,h,M?11:12))return 0;if(M&&pt(v)&&Tt(),h.da)alert("todo:use_scaling");else{if(S){if(m.Ib=Mi,h.Kb){if(v=h.U+1>>1,m.memory=s(h.U+2*v),m.memory==null)return 0;m.ec=m.memory,m.fc=0,m.cc=m.ec,m.dc=m.fc+h.U,m.Mc=m.cc,m.Nc=m.dc+v,m.Ib=mr,Tt()}}else alert("todo:EmitYUV");M&&(m.Jb=Cs,S&&ge())}if(S&&!rw){for(h=0;256>h;++h)Y6[h]=89858*(h-128)+bd>>_d,Z6[h]=-22014*(h-128)+bd,J6[h]=-45773*(h-128),X6[h]=113618*(h-128)+bd>>_d;for(h=kh;h<Wg;++h)m=76283*(h-16)+bd>>_d,eC[h-kh]=as(m,255),tC[h-kh]=as(m+8>>4,15);rw=1}return 1}function mt(h){var m=h.ma,v=h.U,S=h.T;return e(!(1&h.ka)),0>=v||0>=S?0:(v=m.Ib(h,m),m.Jb!=null&&m.Jb(h,m,v),m.Dc+=v,1)}function Ns(h){h.ma.memory=null}function pi(h,m,v,S){return _e(h,8)!=47?0:(m[0]=_e(h,14)+1,v[0]=_e(h,14)+1,S[0]=_e(h,1),_e(h,3)!=0?0:!h.h)}function Yr(h,m){if(4>h)return h+1;var v=h-2>>1;return(2+(1&h)<<v)+_e(m,v)+1}function Xr(h,m){return 120<m?m-120:1<=(v=((v=M6[m-1])>>4)*h+(8-(15&v)))?v:1;var v}function gn(h,m,v){var S=Z(v),M=h[m+=255&S].g-8;return 0<M&&(re(v,v.u+8),S=Z(v),m+=h[m].value,m+=S&(1<<M)-1),re(v,v.u+h[m].g),h[m].value}function Dn(h,m,v){return v.g+=h.g,v.value+=h.value<<m>>>0,e(8>=v.g),h.g}function ar(h,m,v){var S=h.xc;return e((m=S==0?0:h.vc[h.md*(v>>S)+(m>>S)])<h.Wb),h.Ya[m]}function Lr(h,m,v,S){var M=h.ab,B=h.c*m,U=h.C;m=U+m;var q=v,H=S;for(S=h.Ta,v=h.Ua;0<M--;){var Q=h.gc[M],ie=U,me=m,Y=q,se=H,fe=(H=S,q=v,Q.Ea);switch(e(ie<me),e(me<=Q.nc),Q.hc){case 2:Wn(Y,se,(me-ie)*fe,H,q);break;case 0:var xe=ie,pe=me,Ae=H,Ie=q,Oe=(nt=Q).Ea;xe==0&&(mh(Y,se,null,null,1,Ae,Ie),Te(Y,se+1,0,0,Oe-1,Ae,Ie+1),se+=Oe,Ie+=Oe,++xe);for(var Le=1<<nt.b,ot=Le-1,Je=Ee(Oe,nt.b),Ot=nt.K,nt=nt.w+(xe>>nt.b)*Je;xe<pe;){var Gt=Ot,ur=nt,Mt=1;for(Uu(Y,se,Ae,Ie-Oe,1,Ae,Ie);Mt<Oe;){var rt=(Mt&~ot)+Le;rt>Oe&&(rt=Oe),(0,yh[Gt[ur++]>>8&15])(Y,se+ +Mt,Ae,Ie+Mt-Oe,rt-Mt,Ae,Ie+Mt),Mt=rt}se+=Oe,Ie+=Oe,++xe&ot||(nt+=Je)}me!=Q.nc&&r(H,q-fe,H,q+(me-ie-1)*fe,fe);break;case 1:for(fe=Y,pe=se,Oe=(Y=Q.Ea)-(Ie=Y&~(Ae=(se=1<<Q.b)-1)),xe=Ee(Y,Q.b),Le=Q.K,Q=Q.w+(ie>>Q.b)*xe;ie<me;){for(ot=Le,Je=Q,Ot=new ut,nt=pe+Ie,Gt=pe+Y;pe<nt;)De(ot[Je++],Ot),vh(Ot,fe,pe,se,H,q),pe+=se,q+=se;pe<Gt&&(De(ot[Je++],Ot),vh(Ot,fe,pe,Oe,H,q),pe+=Oe,q+=Oe),++ie&Ae||(Q+=xe)}break;case 3:if(Y==H&&se==q&&0<Q.b){for(pe=H,Y=fe=q+(me-ie)*fe-(Ie=(me-ie)*Ee(Q.Ea,Q.b)),se=H,Ae=q,xe=[],Ie=(Oe=Ie)-1;0<=Ie;--Ie)xe[Ie]=se[Ae+Ie];for(Ie=Oe-1;0<=Ie;--Ie)pe[Y+Ie]=xe[Ie];fd(Q,ie,me,H,fe,H,q)}else fd(Q,ie,me,Y,se,H,q)}q=S,H=v}H!=v&&r(S,v,q,H,B)}function Ps(h,m){var v=h.V,S=h.Ba+h.c*h.C,M=m-h.C;if(e(m<=h.l.o),e(16>=M),0<M){var B=h.l,U=h.Ta,q=h.Ua,H=B.width;if(Lr(h,M,v,S),M=q=[q],e((v=h.C)<(S=m)),e(B.v<B.va),S>B.o&&(S=B.o),v<B.j){var Q=B.j-v;v=B.j,M[0]+=Q*H}if(v>=S?v=0:(M[0]+=4*B.v,B.ka=v-B.j,B.U=B.va-B.v,B.T=S-v,v=1),v){if(q=q[0],11>(v=h.ca).S){var ie=v.f.RGBA,me=(S=v.S,M=B.U,B=B.T,Q=ie.eb,ie.A),Y=B;for(ie=ie.fb+h.Ma*ie.A;0<Y--;){var se=U,fe=q,xe=M,pe=Q,Ae=ie;switch(S){case md:wh(se,fe,xe,pe,Ae);break;case gd:Ca(se,fe,xe,pe,Ae);break;case Ug:Ca(se,fe,xe,pe,Ae),bh(pe,Ae,0,xe,1,0);break;case Kv:zl(se,fe,xe,pe,Ae);break;case yd:et(se,fe,xe,pe,Ae,1);break;case zg:et(se,fe,xe,pe,Ae,1),bh(pe,Ae,0,xe,1,0);break;case vd:et(se,fe,xe,pe,Ae,0);break;case wd:et(se,fe,xe,pe,Ae,0),bh(pe,Ae,1,xe,1,0);break;case Bg:Na(se,fe,xe,pe,Ae);break;case qg:Na(se,fe,xe,pe,Ae),Bv(pe,Ae,xe,1,0);break;case Qv:Pa(se,fe,xe,pe,Ae);break;default:e(0)}q+=H,ie+=me}h.Ma+=B}else alert("todo:EmitRescaledRowsYUVA");e(h.Ma<=v.height)}}h.C=m,e(h.C<=h.i)}function mi(h){var m;if(0<h.ua)return 0;for(m=0;m<h.Wb;++m){var v=h.Ya[m].G,S=h.Ya[m].H;if(0<v[1][S[1]+0].g||0<v[2][S[2]+0].g||0<v[3][S[3]+0].g)return 0}return 1}function gi(h,m,v,S,M,B){if(h.Z!=0){var U=h.qd,q=h.rd;for(e(Da[h.Z]!=null);m<v;++m)Da[h.Z](U,q,S,M,S,M,B),U=S,q=M,M+=B;h.qd=U,h.rd=q}}function Jr(h,m){var v=h.l.ma,S=v.Z==0||v.Z==1?h.l.j:h.C;if(S=h.C<S?S:h.C,e(m<=h.l.o),m>S){var M=h.l.width,B=v.ca,U=v.tb+M*S,q=h.V,H=h.Ba+h.c*S,Q=h.gc;e(h.ab==1),e(Q[0].hc==3),mo(Q[0],S,m,q,H,B,U),gi(v,S,m,B,U,M)}h.C=h.Ma=m}function yi(h,m,v,S,M,B,U){var q=h.$/S,H=h.$%S,Q=h.m,ie=h.s,me=v+h.$,Y=me;M=v+S*M;var se=v+S*B,fe=280+ie.ua,xe=h.Pb?q:16777216,pe=0<ie.ua?ie.Wa:null,Ae=ie.wc,Ie=me<se?ar(ie,H,q):null;e(h.C<B),e(se<=M);var Oe=!1;e:for(;;){for(;Oe||me<se;){var Le=0;if(q>=xe){var ot=me-v;e((xe=h).Pb),xe.wd=xe.m,xe.xd=ot,0<xe.s.ua&&Be(xe.s.Wa,xe.s.vb),xe=q+j6}if(H&Ae||(Ie=ar(ie,H,q)),e(Ie!=null),Ie.Qb&&(m[me]=Ie.qb,Oe=!0),!Oe)if(ce(Q),Ie.jc){Le=Q,ot=m;var Je=me,Ot=Ie.pd[Z(Le)&Ul-1];e(Ie.jc),256>Ot.g?(re(Le,Le.u+Ot.g),ot[Je]=Ot.value,Le=0):(re(Le,Le.u+Ot.g-256),e(256<=Ot.value),Le=Ot.value),Le==0&&(Oe=!0)}else Le=gn(Ie.G[0],Ie.H[0],Q);if(Q.h)break;if(Oe||256>Le){if(!Oe)if(Ie.nd)m[me]=(Ie.qb|Le<<8)>>>0;else{if(ce(Q),Oe=gn(Ie.G[1],Ie.H[1],Q),ce(Q),ot=gn(Ie.G[2],Ie.H[2],Q),Je=gn(Ie.G[3],Ie.H[3],Q),Q.h)break;m[me]=(Je<<24|Oe<<16|Le<<8|ot)>>>0}if(Oe=!1,++me,++H>=S&&(H=0,++q,U!=null&&q<=B&&!(q%16)&&U(h,q),pe!=null))for(;Y<me;)Le=m[Y++],pe.X[(506832829*Le&4294967295)>>>pe.Mb]=Le}else if(280>Le){if(Le=Yr(Le-256,Q),ot=gn(Ie.G[4],Ie.H[4],Q),ce(Q),ot=Xr(S,ot=Yr(ot,Q)),Q.h)break;if(me-v<ot||M-me<Le)break e;for(Je=0;Je<Le;++Je)m[me+Je]=m[me+Je-ot];for(me+=Le,H+=Le;H>=S;)H-=S,++q,U!=null&&q<=B&&!(q%16)&&U(h,q);if(e(me<=M),H&Ae&&(Ie=ar(ie,H,q)),pe!=null)for(;Y<me;)Le=m[Y++],pe.X[(506832829*Le&4294967295)>>>pe.Mb]=Le}else{if(!(Le<fe))break e;for(Oe=Le-280,e(pe!=null);Y<me;)Le=m[Y++],pe.X[(506832829*Le&4294967295)>>>pe.Mb]=Le;Le=me,e(!(Oe>>>(ot=pe).Xa)),m[Le]=ot.X[Oe],Oe=!0}Oe||e(Q.h==ne(Q))}if(h.Pb&&Q.h&&me<M)e(h.m.h),h.a=5,h.m=h.wd,h.$=h.xd,0<h.s.ua&&Be(h.s.vb,h.s.Wa);else{if(Q.h)break e;U!=null&&U(h,q>B?B:q),h.a=0,h.$=me-v}return 1}return h.a=3,0}function vi(h){e(h!=null),h.vc=null,h.yc=null,h.Ya=null;var m=h.Wa;m!=null&&(m.X=null),h.vb=null,e(h!=null)}function ro(){var h=new yt;return h==null?null:(h.a=0,h.xb=Jv,Dt("Predictor","VP8LPredictors"),Dt("Predictor","VP8LPredictors_C"),Dt("PredictorAdd","VP8LPredictorsAdd"),Dt("PredictorAdd","VP8LPredictorsAdd_C"),Wn=Ve,vh=$e,wh=en,Ca=vt,Na=wt,Pa=_t,zl=It,E.VP8LMapColor32b=po,E.VP8LMapColor8b=gh,h)}function is(h,m,v,S,M){var B=1,U=[h],q=[m],H=S.m,Q=S.s,ie=null,me=0;e:for(;;){if(v)for(;B&&_e(H,1);){var Y=U,se=q,fe=S,xe=1,pe=fe.m,Ae=fe.gc[fe.ab],Ie=_e(pe,2);if(fe.Oc&1<<Ie)B=0;else{switch(fe.Oc|=1<<Ie,Ae.hc=Ie,Ae.Ea=Y[0],Ae.nc=se[0],Ae.K=[null],++fe.ab,e(4>=fe.ab),Ie){case 0:case 1:Ae.b=_e(pe,3)+2,xe=is(Ee(Ae.Ea,Ae.b),Ee(Ae.nc,Ae.b),0,fe,Ae.K),Ae.K=Ae.K[0];break;case 3:var Oe,Le=_e(pe,8)+1,ot=16<Le?0:4<Le?1:2<Le?2:3;if(Y[0]=Ee(Ae.Ea,ot),Ae.b=ot,Oe=xe=is(Le,1,0,fe,Ae.K)){var Je,Ot=Le,nt=Ae,Gt=1<<(8>>nt.b),ur=s(Gt);if(ur==null)Oe=0;else{var Mt=nt.K[0],rt=nt.w;for(ur[0]=nt.K[0][0],Je=1;Je<1*Ot;++Je)ur[Je]=Ge(Mt[rt+Je],ur[Je-1]);for(;Je<4*Gt;++Je)ur[Je]=0;nt.K[0]=null,nt.K[0]=ur,Oe=1}}xe=Oe;break;case 2:break;default:e(0)}B=xe}}if(U=U[0],q=q[0],B&&_e(H,1)&&!(B=1<=(me=_e(H,4))&&11>=me)){S.a=3;break e}var Ue;if(Ue=B)t:{var Kn,Rt,Qt,Cn=S,kr=U,si=q,Un=me,Or=v,oi=Cn.m,cr=Cn.s,Jt=[null],sn=1,zn=0,on=F6[Un];n:for(;;){if(Or&&_e(oi,1)){var Sr=_e(oi,3)+2,Fs=Ee(kr,Sr),Qn=Ee(si,Sr),Si=Fs*Qn;if(!is(Fs,Qn,0,Cn,Jt))break n;for(Jt=Jt[0],cr.xc=Sr,Kn=0;Kn<Si;++Kn){var dn=Jt[Kn]>>8&65535;Jt[Kn]=dn,dn>=sn&&(sn=dn+1)}}if(oi.h)break n;for(Rt=0;5>Rt;++Rt){var hr=Yv[Rt];!Rt&&0<Un&&(hr+=1<<Un),zn<hr&&(zn=hr)}var Ui=o(sn*on,N),ai=sn,zi=o(ai,ae);if(zi==null)var qi=null;else e(65536>=ai),qi=zi;var Ai=s(zn);if(qi==null||Ai==null||Ui==null){Cn.a=1;break n}var $i=Ui;for(Kn=Qt=0;Kn<sn;++Kn){var kn=qi[Kn],Hi=kn.G,js=kn.H,$l=0,Ko=1,Ar=0;for(Rt=0;5>Rt;++Rt){hr=Yv[Rt],Hi[Rt]=$i,js[Rt]=Qt,!Rt&&0<Un&&(hr+=1<<Un);i:{var kd,Gg=hr,Sd=Cn,Sh=Ai,iC=$i,sC=Qt,Kg=0,Oa=Sd.m,oC=_e(Oa,1);if(i(Sh,0,0,Gg),oC){var aC=_e(Oa,1)+1,lC=_e(Oa,1),ow=_e(Oa,lC==0?1:8);Sh[ow]=1,aC==2&&(Sh[ow=_e(Oa,8)]=1);var Ad=1}else{var aw=s(19),lw=_e(Oa,4)+4;if(19<lw){Sd.a=3;var Ed=0;break i}for(kd=0;kd<lw;++kd)aw[O6[kd]]=_e(Oa,3);var Qg=void 0,Ah=void 0,uw=Sd,uC=aw,Id=Gg,cw=Sh,Yg=0,Ma=uw.m,hw=8,fw=o(128,N);r:for(;T(fw,0,7,uC,19);){if(_e(Ma,1)){var cC=2+2*_e(Ma,3);if((Qg=2+_e(Ma,cC))>Id)break r}else Qg=Id;for(Ah=0;Ah<Id&&Qg--;){ce(Ma);var dw=fw[0+(127&Z(Ma))];re(Ma,Ma.u+dw.g);var qu=dw.value;if(16>qu)cw[Ah++]=qu,qu!=0&&(hw=qu);else{var hC=qu==16,pw=qu-16,fC=R6[pw],mw=_e(Ma,L6[pw])+fC;if(Ah+mw>Id)break r;for(var dC=hC?hw:0;0<mw--;)cw[Ah++]=dC}}Yg=1;break r}Yg||(uw.a=3),Ad=Yg}(Ad=Ad&&!Oa.h)&&(Kg=T(iC,sC,8,Sh,Gg)),Ad&&Kg!=0?Ed=Kg:(Sd.a=3,Ed=0)}if(Ed==0)break n;if(Ko&&D6[Rt]==1&&(Ko=$i[Qt].g==0),$l+=$i[Qt].g,Qt+=Ed,3>=Rt){var Eh,Xg=Ai[0];for(Eh=1;Eh<hr;++Eh)Ai[Eh]>Xg&&(Xg=Ai[Eh]);Ar+=Xg}}if(kn.nd=Ko,kn.Qb=0,Ko&&(kn.qb=(Hi[3][js[3]+0].value<<24|Hi[1][js[1]+0].value<<16|Hi[2][js[2]+0].value)>>>0,$l==0&&256>Hi[0][js[0]+0].value&&(kn.Qb=1,kn.qb+=Hi[0][js[0]+0].value<<8)),kn.jc=!kn.Qb&&6>Ar,kn.jc){var Td,Qo=kn;for(Td=0;Td<Ul;++Td){var Fa=Td,ja=Qo.pd[Fa],Cd=Qo.G[0][Qo.H[0]+Fa];256<=Cd.value?(ja.g=Cd.g+256,ja.value=Cd.value):(ja.g=0,ja.value=0,Fa>>=Dn(Cd,8,ja),Fa>>=Dn(Qo.G[1][Qo.H[1]+Fa],16,ja),Fa>>=Dn(Qo.G[2][Qo.H[2]+Fa],0,ja),Dn(Qo.G[3][Qo.H[3]+Fa],24,ja))}}}cr.vc=Jt,cr.Wb=sn,cr.Ya=qi,cr.yc=Ui,Ue=1;break t}Ue=0}if(!(B=Ue)){S.a=3;break e}if(0<me){if(Q.ua=1<<me,!G(Q.Wa,me)){S.a=1,B=0;break e}}else Q.ua=0;var Jg=S,gw=U,pC=q,Zg=Jg.s,e1=Zg.xc;if(Jg.c=gw,Jg.i=pC,Zg.md=Ee(gw,e1),Zg.wc=e1==0?-1:(1<<e1)-1,v){S.xb=H6;break e}if((ie=s(U*q))==null){S.a=1,B=0;break e}B=(B=yi(S,ie,0,U,q,q,null))&&!H.h;break e}return B?(M!=null?M[0]=ie:(e(ie==null),e(v)),S.$=0,v||vi(Q)):vi(Q),B}function ss(h,m){var v=h.c*h.i,S=v+m+16*m;return e(h.c<=m),h.V=s(S),h.V==null?(h.Ta=null,h.Ua=0,h.a=1,0):(h.Ta=h.V,h.Ua=h.Ba+v+m,1)}function Fo(h,m){var v=h.C,S=m-v,M=h.V,B=h.Ba+h.c*v;for(e(m<=h.l.o);0<S;){var U=16<S?16:S,q=h.l.ma,H=h.l.width,Q=H*U,ie=q.ca,me=q.tb+H*v,Y=h.Ta,se=h.Ua;Lr(h,U,M,B),zv(Y,se,ie,me,Q),gi(q,v,v+U,ie,me,H),S-=U,M+=U*h.c,v+=U}e(v==m),h.C=h.Ma=m}function io(){this.ub=this.yd=this.td=this.Rb=0}function os(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Ls(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function jo(){this.Yb=function(){var h=[];return function m(v,S,M){for(var B=M[S],U=0;U<B&&(v.push(M.length>S+1?[]:0),!(M.length<S+1));U++)m(v[U],S+1,M)}(h,0,[3,11]),h}()}function Pu(){this.jb=s(3),this.Wc=a([4,8],jo),this.Xc=a([4,17],jo)}function Pl(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function Zr(){this.ld=this.La=this.dd=this.tc=0}function ya(){this.Na=this.la=0}function va(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Vo(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Ll(){this.uc=this.M=this.Nb=0,this.wa=Array(new Zr),this.Y=0,this.ya=Array(new Vo),this.aa=0,this.l=new ei}function Rl(){this.y=s(16),this.f=s(8),this.ea=s(8)}function Dl(){this.cb=this.a=0,this.sc="",this.m=new j,this.Od=new io,this.Kc=new os,this.ed=new Pl,this.Qa=new Ls,this.Ic=this.$c=this.Aa=0,this.D=new Ll,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,j),this.ia=0,this.pb=o(4,va),this.Pa=new Pu,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Rl),this.Hd=0,this.rb=Array(new ya),this.sb=0,this.wa=Array(new Zr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Vo),this.L=this.aa=0,this.gd=a([4,2],Zr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function as(h,m){return 0>h?0:h>m?m:h}function ei(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function wi(){var h=new Dl;return h!=null&&(h.a=0,h.sc="OK",h.cb=0,h.Xb=0,xh||(xh=tn)),h}function yn(h,m,v){return h.a==0&&(h.a=m,h.sc=v,h.cb=0),0}function so(h,m,v){return 3<=v&&h[m+0]==157&&h[m+1]==1&&h[m+2]==42}function _i(h,m){if(h==null)return 0;if(h.a=0,h.sc="OK",m==null)return yn(h,2,"null VP8Io passed to VP8GetHeaders()");var v=m.data,S=m.w,M=m.ha;if(4>M)return yn(h,7,"Truncated header.");var B=v[S+0]|v[S+1]<<8|v[S+2]<<16,U=h.Od;if(U.Rb=!(1&B),U.td=B>>1&7,U.yd=B>>4&1,U.ub=B>>5,3<U.td)return yn(h,3,"Incorrect keyframe parameters.");if(!U.yd)return yn(h,4,"Frame not displayable.");S+=3,M-=3;var q=h.Kc;if(U.Rb){if(7>M)return yn(h,7,"cannot parse picture header");if(!so(v,S,M))return yn(h,3,"Bad code word");q.c=16383&(v[S+4]<<8|v[S+3]),q.Td=v[S+4]>>6,q.i=16383&(v[S+6]<<8|v[S+5]),q.Ud=v[S+6]>>6,S+=7,M-=7,h.za=q.c+15>>4,h.Ub=q.i+15>>4,m.width=q.c,m.height=q.i,m.Da=0,m.j=0,m.v=0,m.va=m.width,m.o=m.height,m.da=0,m.ib=m.width,m.hb=m.height,m.U=m.width,m.T=m.height,i((B=h.Pa).jb,0,255,B.jb.length),e((B=h.Qa)!=null),B.Cb=0,B.Bb=0,B.Fb=1,i(B.Zb,0,0,B.Zb.length),i(B.Lb,0,0,B.Lb)}if(U.ub>M)return yn(h,7,"bad partition length");ye(B=h.m,v,S,U.ub),S+=U.ub,M-=U.ub,U.Rb&&(q.Ld=be(B),q.Kd=be(B)),q=h.Qa;var H,Q=h.Pa;if(e(B!=null),e(q!=null),q.Cb=be(B),q.Cb){if(q.Bb=be(B),be(B)){for(q.Fb=be(B),H=0;4>H;++H)q.Zb[H]=be(B)?ee(B,7):0;for(H=0;4>H;++H)q.Lb[H]=be(B)?ee(B,6):0}if(q.Bb)for(H=0;3>H;++H)Q.jb[H]=be(B)?ve(B,8):255}else q.Bb=0;if(B.Ka)return yn(h,3,"cannot parse segment header");if((q=h.ed).zd=be(B),q.Tb=ve(B,6),q.wb=ve(B,3),q.Pc=be(B),q.Pc&&be(B)){for(Q=0;4>Q;++Q)be(B)&&(q.vd[Q]=ee(B,6));for(Q=0;4>Q;++Q)be(B)&&(q.od[Q]=ee(B,6))}if(h.L=q.Tb==0?0:q.zd?1:2,B.Ka)return yn(h,3,"cannot parse filter header");var ie=M;if(M=H=S,S=H+ie,q=ie,h.Xb=(1<<ve(h.m,2))-1,ie<3*(Q=h.Xb))v=7;else{for(H+=3*Q,q-=3*Q,ie=0;ie<Q;++ie){var me=v[M+0]|v[M+1]<<8|v[M+2]<<16;me>q&&(me=q),ye(h.Jc[+ie],v,H,me),H+=me,q-=me,M+=3}ye(h.Jc[+Q],v,H,q),v=H<S?0:5}if(v!=0)return yn(h,v,"cannot parse partitions");for(v=ve(H=h.m,7),M=be(H)?ee(H,4):0,S=be(H)?ee(H,4):0,q=be(H)?ee(H,4):0,Q=be(H)?ee(H,4):0,H=be(H)?ee(H,4):0,ie=h.Qa,me=0;4>me;++me){if(ie.Cb){var Y=ie.Zb[me];ie.Fb||(Y+=v)}else{if(0<me){h.pb[me]=h.pb[0];continue}Y=v}var se=h.pb[me];se.Sc[0]=$g[as(Y+M,127)],se.Sc[1]=Hg[as(Y+0,127)],se.Eb[0]=2*$g[as(Y+S,127)],se.Eb[1]=101581*Hg[as(Y+q,127)]>>16,8>se.Eb[1]&&(se.Eb[1]=8),se.Qc[0]=$g[as(Y+Q,117)],se.Qc[1]=Hg[as(Y+H,127)],se.lc=Y+H}if(!U.Rb)return yn(h,4,"Not a key frame.");for(be(B),U=h.Pa,v=0;4>v;++v){for(M=0;8>M;++M)for(S=0;3>S;++S)for(q=0;11>q;++q)Q=ke(B,q6[v][M][S][q])?ve(B,8):U6[v][M][S][q],U.Wc[v][M].Yb[S][q]=Q;for(M=0;17>M;++M)U.Xc[v][M]=U.Wc[v][$6[M]]}return h.kc=be(B),h.kc&&(h.Bd=ve(B,8)),h.cb=1}function tn(h,m,v,S,M,B,U){var q=m[M].Yb[v];for(v=0;16>M;++M){if(!ke(h,q[v+0]))return M;for(;!ke(h,q[v+1]);)if(q=m[++M].Yb[0],v=0,M==16)return 16;var H=m[M+1].Yb;if(ke(h,q[v+2])){var Q=h,ie=0;if(ke(Q,(Y=q)[(me=v)+3]))if(ke(Q,Y[me+6])){for(q=0,me=2*(ie=ke(Q,Y[me+8]))+(Y=ke(Q,Y[me+9+ie])),ie=0,Y=V6[me];Y[q];++q)ie+=ie+ke(Q,Y[q]);ie+=3+(8<<me)}else ke(Q,Y[me+7])?(ie=7+2*ke(Q,165),ie+=ke(Q,145)):ie=5+ke(Q,159);else ie=ke(Q,Y[me+4])?3+ke(Q,Y[me+5]):2;q=H[2]}else ie=1,q=H[1];H=U+B6[M],0>(Q=h).b&&we(Q);var me,Y=Q.b,se=(me=Q.Ca>>1)-(Q.I>>Y)>>31;--Q.b,Q.Ca+=se,Q.Ca|=1,Q.I-=(me+1&se)<<Y,B[H]=((ie^se)-se)*S[(0<M)+0]}return 16}function Bo(h){var m=h.rb[h.sb-1];m.la=0,m.Na=0,i(h.zc,0,0,h.zc.length),h.ja=0}function gr(h,m,v,S,M){M=h[m+v+32*S]+(M>>3),h[m+v+32*S]=-256&M?0>M?0:255:M}function Tn(h,m,v,S,M,B){gr(h,m,0,v,S+M),gr(h,m,1,v,S+B),gr(h,m,2,v,S-B),gr(h,m,3,v,S-M)}function Rs(h){return(20091*h>>16)+h}function Ol(h,m,v,S){var M,B=0,U=s(16);for(M=0;4>M;++M){var q=h[m+0]+h[m+8],H=h[m+0]-h[m+8],Q=(35468*h[m+4]>>16)-Rs(h[m+12]),ie=Rs(h[m+4])+(35468*h[m+12]>>16);U[B+0]=q+ie,U[B+1]=H+Q,U[B+2]=H-Q,U[B+3]=q-ie,B+=4,m++}for(M=B=0;4>M;++M)q=(h=U[B+0]+4)+U[B+8],H=h-U[B+8],Q=(35468*U[B+4]>>16)-Rs(U[B+12]),gr(v,S,0,0,q+(ie=Rs(U[B+4])+(35468*U[B+12]>>16))),gr(v,S,1,0,H+Q),gr(v,S,2,0,H-Q),gr(v,S,3,0,q-ie),B++,S+=32}function lh(h,m,v,S){var M=h[m+0]+4,B=35468*h[m+4]>>16,U=Rs(h[m+4]),q=35468*h[m+1]>>16;Tn(v,S,0,M+U,h=Rs(h[m+1]),q),Tn(v,S,1,M+B,h,q),Tn(v,S,2,M-B,h,q),Tn(v,S,3,M-U,h,q)}function uh(h,m,v,S,M){Ol(h,m,v,S),M&&Ol(h,m+16,v,S+4)}function ls(h,m,v,S){ql(h,m+0,v,S,1),ql(h,m+32,v,S+128,1)}function Lu(h,m,v,S){var M;for(h=h[m+0]+4,M=0;4>M;++M)for(m=0;4>m;++m)gr(v,S,m,M,h)}function oo(h,m,v,S){h[m+0]&&nn(h,m+0,v,S),h[m+16]&&nn(h,m+16,v,S+4),h[m+32]&&nn(h,m+32,v,S+128),h[m+48]&&nn(h,m+48,v,S+128+4)}function bi(h,m,v,S){var M,B=s(16);for(M=0;4>M;++M){var U=h[m+0+M]+h[m+12+M],q=h[m+4+M]+h[m+8+M],H=h[m+4+M]-h[m+8+M],Q=h[m+0+M]-h[m+12+M];B[0+M]=U+q,B[8+M]=U-q,B[4+M]=Q+H,B[12+M]=Q-H}for(M=0;4>M;++M)U=(h=B[0+4*M]+3)+B[3+4*M],q=B[1+4*M]+B[2+4*M],H=B[1+4*M]-B[2+4*M],Q=h-B[3+4*M],v[S+0]=U+q>>3,v[S+16]=Q+H>>3,v[S+32]=U-q>>3,v[S+48]=Q-H>>3,S+=64}function ao(h,m,v){var S,M=m-32,B=Bi,U=255-h[M-1];for(S=0;S<v;++S){var q,H=B,Q=U+h[m-1];for(q=0;q<v;++q)h[m+q]=H[Q+h[M+q]];m+=32}}function Ru(h,m){ao(h,m,4)}function Du(h,m){ao(h,m,8)}function Ou(h,m){ao(h,m,16)}function wa(h,m){var v;for(v=0;16>v;++v)r(h,m+32*v,h,m-32,16)}function Ds(h,m){var v;for(v=16;0<v;--v)i(h,m,h[m-1],16),m+=32}function Fi(h,m,v){var S;for(S=0;16>S;++S)i(m,v+32*S,h,16)}function ch(h,m){var v,S=16;for(v=0;16>v;++v)S+=h[m-1+32*v]+h[m+v-32];Fi(S>>5,h,m)}function Uo(h,m){var v,S=8;for(v=0;16>v;++v)S+=h[m-1+32*v];Fi(S>>4,h,m)}function xi(h,m){var v,S=8;for(v=0;16>v;++v)S+=h[m+v-32];Fi(S>>4,h,m)}function hh(h,m){Fi(128,h,m)}function xt(h,m,v){return h+2*m+v+2>>2}function _a(h,m){var v,S=m-32;for(S=new Uint8Array([xt(h[S-1],h[S+0],h[S+1]),xt(h[S+0],h[S+1],h[S+2]),xt(h[S+1],h[S+2],h[S+3]),xt(h[S+2],h[S+3],h[S+4])]),v=0;4>v;++v)r(h,m+32*v,S,0,S.length)}function Mu(h,m){var v=h[m-1],S=h[m-1+32],M=h[m-1+64],B=h[m-1+96];Re(h,m+0,16843009*xt(h[m-1-32],v,S)),Re(h,m+32,16843009*xt(v,S,M)),Re(h,m+64,16843009*xt(S,M,B)),Re(h,m+96,16843009*xt(M,B,B))}function zo(h,m){var v,S=4;for(v=0;4>v;++v)S+=h[m+v-32]+h[m-1+32*v];for(S>>=3,v=0;4>v;++v)i(h,m+32*v,S,4)}function ti(h,m){var v=h[m-1+0],S=h[m-1+32],M=h[m-1+64],B=h[m-1-32],U=h[m+0-32],q=h[m+1-32],H=h[m+2-32],Q=h[m+3-32];h[m+0+96]=xt(S,M,h[m-1+96]),h[m+1+96]=h[m+0+64]=xt(v,S,M),h[m+2+96]=h[m+1+64]=h[m+0+32]=xt(B,v,S),h[m+3+96]=h[m+2+64]=h[m+1+32]=h[m+0+0]=xt(U,B,v),h[m+3+64]=h[m+2+32]=h[m+1+0]=xt(q,U,B),h[m+3+32]=h[m+2+0]=xt(H,q,U),h[m+3+0]=xt(Q,H,q)}function us(h,m){var v=h[m+1-32],S=h[m+2-32],M=h[m+3-32],B=h[m+4-32],U=h[m+5-32],q=h[m+6-32],H=h[m+7-32];h[m+0+0]=xt(h[m+0-32],v,S),h[m+1+0]=h[m+0+32]=xt(v,S,M),h[m+2+0]=h[m+1+32]=h[m+0+64]=xt(S,M,B),h[m+3+0]=h[m+2+32]=h[m+1+64]=h[m+0+96]=xt(M,B,U),h[m+3+32]=h[m+2+64]=h[m+1+96]=xt(B,U,q),h[m+3+64]=h[m+2+96]=xt(U,q,H),h[m+3+96]=xt(q,H,H)}function Ml(h,m){var v=h[m-1+0],S=h[m-1+32],M=h[m-1+64],B=h[m-1-32],U=h[m+0-32],q=h[m+1-32],H=h[m+2-32],Q=h[m+3-32];h[m+0+0]=h[m+1+64]=B+U+1>>1,h[m+1+0]=h[m+2+64]=U+q+1>>1,h[m+2+0]=h[m+3+64]=q+H+1>>1,h[m+3+0]=H+Q+1>>1,h[m+0+96]=xt(M,S,v),h[m+0+64]=xt(S,v,B),h[m+0+32]=h[m+1+96]=xt(v,B,U),h[m+1+32]=h[m+2+96]=xt(B,U,q),h[m+2+32]=h[m+3+96]=xt(U,q,H),h[m+3+32]=xt(q,H,Q)}function vn(h,m){var v=h[m+0-32],S=h[m+1-32],M=h[m+2-32],B=h[m+3-32],U=h[m+4-32],q=h[m+5-32],H=h[m+6-32],Q=h[m+7-32];h[m+0+0]=v+S+1>>1,h[m+1+0]=h[m+0+64]=S+M+1>>1,h[m+2+0]=h[m+1+64]=M+B+1>>1,h[m+3+0]=h[m+2+64]=B+U+1>>1,h[m+0+32]=xt(v,S,M),h[m+1+32]=h[m+0+96]=xt(S,M,B),h[m+2+32]=h[m+1+96]=xt(M,B,U),h[m+3+32]=h[m+2+96]=xt(B,U,q),h[m+3+64]=xt(U,q,H),h[m+3+96]=xt(q,H,Q)}function ba(h,m){var v=h[m-1+0],S=h[m-1+32],M=h[m-1+64],B=h[m-1+96];h[m+0+0]=v+S+1>>1,h[m+2+0]=h[m+0+32]=S+M+1>>1,h[m+2+32]=h[m+0+64]=M+B+1>>1,h[m+1+0]=xt(v,S,M),h[m+3+0]=h[m+1+32]=xt(S,M,B),h[m+3+32]=h[m+1+64]=xt(M,B,B),h[m+3+64]=h[m+2+64]=h[m+0+96]=h[m+1+96]=h[m+2+96]=h[m+3+96]=B}function Fl(h,m){var v=h[m-1+0],S=h[m-1+32],M=h[m-1+64],B=h[m-1+96],U=h[m-1-32],q=h[m+0-32],H=h[m+1-32],Q=h[m+2-32];h[m+0+0]=h[m+2+32]=v+U+1>>1,h[m+0+32]=h[m+2+64]=S+v+1>>1,h[m+0+64]=h[m+2+96]=M+S+1>>1,h[m+0+96]=B+M+1>>1,h[m+3+0]=xt(q,H,Q),h[m+2+0]=xt(U,q,H),h[m+1+0]=h[m+3+32]=xt(v,U,q),h[m+1+32]=h[m+3+64]=xt(S,v,U),h[m+1+64]=h[m+3+96]=xt(M,S,v),h[m+1+96]=xt(B,M,S)}function lo(h,m){var v;for(v=0;8>v;++v)r(h,m+32*v,h,m-32,8)}function Fu(h,m){var v;for(v=0;8>v;++v)i(h,m,h[m-1],8),m+=32}function cs(h,m,v){var S;for(S=0;8>S;++S)i(m,v+32*S,h,8)}function xa(h,m){var v,S=8;for(v=0;8>v;++v)S+=h[m+v-32]+h[m-1+32*v];cs(S>>4,h,m)}function ki(h,m){var v,S=4;for(v=0;8>v;++v)S+=h[m+v-32];cs(S>>3,h,m)}function ka(h,m){var v,S=4;for(v=0;8>v;++v)S+=h[m-1+32*v];cs(S>>3,h,m)}function ju(h,m){cs(128,h,m)}function ni(h,m,v){var S=h[m-v],M=h[m+0],B=3*(M-S)+Vg[1020+h[m-2*v]-h[m+v]],U=pd[112+(B+4>>3)];h[m-v]=Bi[255+S+pd[112+(B+3>>3)]],h[m+0]=Bi[255+M-U]}function Sa(h,m,v,S){var M=h[m+0],B=h[m+v];return ms[255+h[m-2*v]-h[m-v]]>S||ms[255+B-M]>S}function uo(h,m,v,S){return 4*ms[255+h[m-v]-h[m+0]]+ms[255+h[m-2*v]-h[m+v]]<=S}function co(h,m,v,S,M){var B=h[m-3*v],U=h[m-2*v],q=h[m-v],H=h[m+0],Q=h[m+v],ie=h[m+2*v],me=h[m+3*v];return 4*ms[255+q-H]+ms[255+U-Q]>S?0:ms[255+h[m-4*v]-B]<=M&&ms[255+B-U]<=M&&ms[255+U-q]<=M&&ms[255+me-ie]<=M&&ms[255+ie-Q]<=M&&ms[255+Q-H]<=M}function ho(h,m,v,S){var M=2*S+1;for(S=0;16>S;++S)uo(h,m+S,v,M)&&ni(h,m+S,v)}function fo(h,m,v,S){var M=2*S+1;for(S=0;16>S;++S)uo(h,m+S*v,1,M)&&ni(h,m+S*v,1)}function Vu(h,m,v,S){var M;for(M=3;0<M;--M)ho(h,m+=4*v,v,S)}function jl(h,m,v,S){var M;for(M=3;0<M;--M)fo(h,m+=4,v,S)}function ri(h,m,v,S,M,B,U,q){for(B=2*B+1;0<M--;){if(co(h,m,v,B,U))if(Sa(h,m,v,q))ni(h,m,v);else{var H=h,Q=m,ie=v,me=H[Q-2*ie],Y=H[Q-ie],se=H[Q+0],fe=H[Q+ie],xe=H[Q+2*ie],pe=27*(Ie=Vg[1020+3*(se-Y)+Vg[1020+me-fe]])+63>>7,Ae=18*Ie+63>>7,Ie=9*Ie+63>>7;H[Q-3*ie]=Bi[255+H[Q-3*ie]+Ie],H[Q-2*ie]=Bi[255+me+Ae],H[Q-ie]=Bi[255+Y+pe],H[Q+0]=Bi[255+se-pe],H[Q+ie]=Bi[255+fe-Ae],H[Q+2*ie]=Bi[255+xe-Ie]}m+=S}}function hs(h,m,v,S,M,B,U,q){for(B=2*B+1;0<M--;){if(co(h,m,v,B,U))if(Sa(h,m,v,q))ni(h,m,v);else{var H=h,Q=m,ie=v,me=H[Q-ie],Y=H[Q+0],se=H[Q+ie],fe=pd[112+(4+(xe=3*(Y-me))>>3)],xe=pd[112+(xe+3>>3)],pe=fe+1>>1;H[Q-2*ie]=Bi[255+H[Q-2*ie]+pe],H[Q-ie]=Bi[255+me+xe],H[Q+0]=Bi[255+Y-fe],H[Q+ie]=Bi[255+se-pe]}m+=S}}function Vl(h,m,v,S,M,B){ri(h,m,v,1,16,S,M,B)}function Os(h,m,v,S,M,B){ri(h,m,1,v,16,S,M,B)}function Aa(h,m,v,S,M,B){var U;for(U=3;0<U;--U)hs(h,m+=4*v,v,1,16,S,M,B)}function y(h,m,v,S,M,B){var U;for(U=3;0<U;--U)hs(h,m+=4,1,v,16,S,M,B)}function O(h,m,v,S,M,B,U,q){ri(h,m,M,1,8,B,U,q),ri(v,S,M,1,8,B,U,q)}function K(h,m,v,S,M,B,U,q){ri(h,m,1,M,8,B,U,q),ri(v,S,1,M,8,B,U,q)}function te(h,m,v,S,M,B,U,q){hs(h,m+4*M,M,1,8,B,U,q),hs(v,S+4*M,M,1,8,B,U,q)}function le(h,m,v,S,M,B,U,q){hs(h,m+4,1,M,8,B,U,q),hs(v,S+4,1,M,8,B,U,q)}function Se(){this.ba=new ft,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Ut,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Pe(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Ye(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function tt(){this.ua=0,this.Wa=new St,this.vb=new St,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new ae,this.yc=new N}function yt(){this.xb=this.a=0,this.l=new ei,this.ca=new ft,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new R,this.Pb=0,this.wd=new R,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new tt,this.ab=0,this.gc=o(4,Ye),this.Oc=0}function ct(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new ei,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function zt(h,m,v,S,M,B,U){for(h=h==null?0:h[m+0],m=0;m<U;++m)M[B+m]=h+v[S+m]&255,h=M[B+m]}function wn(h,m,v,S,M,B,U){var q;if(h==null)zt(null,null,v,S,M,B,U);else for(q=0;q<U;++q)M[B+q]=h[m+q]+v[S+q]&255}function hn(h,m,v,S,M,B,U){if(h==null)zt(null,null,v,S,M,B,U);else{var q,H=h[m+0],Q=H,ie=H;for(q=0;q<U;++q)Q=ie+(H=h[m+q])-Q,ie=v[S+q]+(-256&Q?0>Q?0:255:Q)&255,Q=H,M[B+q]=ie}}function f(h,m,v,S){var M=m.width,B=m.o;if(e(h!=null&&m!=null),0>v||0>=S||v+S>B)return null;if(!h.Cc){if(h.ga==null){var U;if(h.ga=new ct,(U=h.ga==null)||(U=m.width*m.o,e(h.Gb.length==0),h.Gb=s(U),h.Uc=0,h.Gb==null?U=0:(h.mb=h.Gb,h.nb=h.Uc,h.rc=null,U=1),U=!U),!U){U=h.ga;var q=h.Fa,H=h.P,Q=h.qc,ie=h.mb,me=h.nb,Y=H+1,se=Q-1,fe=U.l;if(e(q!=null&&ie!=null&&m!=null),Da[0]=null,Da[1]=zt,Da[2]=wn,Da[3]=hn,U.ca=ie,U.tb=me,U.c=m.width,U.i=m.height,e(0<U.c&&0<U.i),1>=Q)m=0;else if(U.$a=3&q[H+0],U.Z=q[H+0]>>2&3,U.Lc=q[H+0]>>4&3,H=q[H+0]>>6&3,0>U.$a||1<U.$a||4<=U.Z||1<U.Lc||H)m=0;else if(fe.put=mt,fe.ac=xr,fe.bc=Ns,fe.ma=U,fe.width=m.width,fe.height=m.height,fe.Da=m.Da,fe.v=m.v,fe.va=m.va,fe.j=m.j,fe.o=m.o,U.$a)e:{e(U.$a==1),m=ro();t:for(;;){if(m==null){m=0;break e}if(e(U!=null),U.mc=m,m.c=U.c,m.i=U.i,m.l=U.l,m.l.ma=U,m.l.width=U.c,m.l.height=U.i,m.a=0,ue(m.m,q,Y,se),!is(U.c,U.i,1,m,null)||(m.ab==1&&m.gc[0].hc==3&&mi(m.s)?(U.ic=1,q=m.c*m.i,m.Ta=null,m.Ua=0,m.V=s(q),m.Ba=0,m.V==null?(m.a=1,m=0):m=1):(U.ic=0,m=ss(m,U.c)),!m))break t;m=1;break e}U.mc=null,m=0}else m=se>=U.c*U.i;U=!m}if(U)return null;h.ga.Lc!=1?h.Ga=0:S=B-v}e(h.ga!=null),e(v+S<=B);e:{if(m=(q=h.ga).c,B=q.l.o,q.$a==0){if(Y=h.rc,se=h.Vc,fe=h.Fa,H=h.P+1+v*m,Q=h.mb,ie=h.nb+v*m,e(H<=h.P+h.qc),q.Z!=0)for(e(Da[q.Z]!=null),U=0;U<S;++U)Da[q.Z](Y,se,fe,H,Q,ie,m),Y=Q,se=ie,ie+=m,H+=m;else for(U=0;U<S;++U)r(Q,ie,fe,H,m),Y=Q,se=ie,ie+=m,H+=m;h.rc=Y,h.Vc=se}else{if(e(q.mc!=null),m=v+S,e((U=q.mc)!=null),e(m<=U.i),U.C>=m)m=1;else if(q.ic||ge(),q.ic){q=U.V,Y=U.Ba,se=U.c;var xe=U.i,pe=(fe=1,H=U.$/se,Q=U.$%se,ie=U.m,me=U.s,U.$),Ae=se*xe,Ie=se*m,Oe=me.wc,Le=pe<Ie?ar(me,Q,H):null;e(pe<=Ae),e(m<=xe),e(mi(me));t:for(;;){for(;!ie.h&&pe<Ie;){if(Q&Oe||(Le=ar(me,Q,H)),e(Le!=null),ce(ie),256>(xe=gn(Le.G[0],Le.H[0],ie)))q[Y+pe]=xe,++pe,++Q>=se&&(Q=0,++H<=m&&!(H%16)&&Jr(U,H));else{if(!(280>xe)){fe=0;break t}xe=Yr(xe-256,ie);var ot,Je=gn(Le.G[4],Le.H[4],ie);if(ce(ie),!(pe>=(Je=Xr(se,Je=Yr(Je,ie)))&&Ae-pe>=xe)){fe=0;break t}for(ot=0;ot<xe;++ot)q[Y+pe+ot]=q[Y+pe+ot-Je];for(pe+=xe,Q+=xe;Q>=se;)Q-=se,++H<=m&&!(H%16)&&Jr(U,H);pe<Ie&&Q&Oe&&(Le=ar(me,Q,H))}e(ie.h==ne(ie))}Jr(U,H>m?m:H);break t}!fe||ie.h&&pe<Ae?(fe=0,U.a=ie.h?5:3):U.$=pe,m=fe}else m=yi(U,U.V,U.Ba,U.c,U.i,m,Fo);if(!m){S=0;break e}}v+S>=B&&(h.Cc=1),S=1}if(!S)return null;if(h.Cc&&((S=h.ga)!=null&&(S.mc=null),h.ga=null,0<h.Ga))return alert("todo:WebPDequantizeLevels"),null}return h.nb+v*M}function b(h,m,v,S,M,B){for(;0<M--;){var U,q=h,H=m+(v?1:0),Q=h,ie=m+(v?0:3);for(U=0;U<S;++U){var me=Q[ie+4*U];me!=255&&(me*=32897,q[H+4*U+0]=q[H+4*U+0]*me>>23,q[H+4*U+1]=q[H+4*U+1]*me>>23,q[H+4*U+2]=q[H+4*U+2]*me>>23)}m+=B}}function P(h,m,v,S,M){for(;0<S--;){var B;for(B=0;B<v;++B){var U=h[m+2*B+0],q=15&(Q=h[m+2*B+1]),H=4369*q,Q=(240&Q|Q>>4)*H>>16;h[m+2*B+0]=(240&U|U>>4)*H>>16&240|(15&U|U<<4)*H>>16>>4&15,h[m+2*B+1]=240&Q|q}m+=M}}function $(h,m,v,S,M,B,U,q){var H,Q,ie=255;for(Q=0;Q<M;++Q){for(H=0;H<S;++H){var me=h[m+H];B[U+4*H]=me,ie&=me}m+=v,U+=q}return ie!=255}function he(h,m,v,S,M){var B;for(B=0;B<M;++B)v[S+B]=h[m+B]>>8}function ge(){bh=b,Bv=P,Uv=$,zv=he}function Fe(h,m,v){E[h]=function(S,M,B,U,q,H,Q,ie,me,Y,se,fe,xe,pe,Ae,Ie,Oe){var Le,ot=Oe-1>>1,Je=q[H+0]|Q[ie+0]<<16,Ot=me[Y+0]|se[fe+0]<<16;e(S!=null);var nt=3*Je+Ot+131074>>2;for(m(S[M+0],255&nt,nt>>16,xe,pe),B!=null&&(nt=3*Ot+Je+131074>>2,m(B[U+0],255&nt,nt>>16,Ae,Ie)),Le=1;Le<=ot;++Le){var Gt=q[H+Le]|Q[ie+Le]<<16,ur=me[Y+Le]|se[fe+Le]<<16,Mt=Je+Gt+Ot+ur+524296,rt=Mt+2*(Gt+Ot)>>3;nt=rt+Je>>1,Je=(Mt=Mt+2*(Je+ur)>>3)+Gt>>1,m(S[M+2*Le-1],255&nt,nt>>16,xe,pe+(2*Le-1)*v),m(S[M+2*Le-0],255&Je,Je>>16,xe,pe+(2*Le-0)*v),B!=null&&(nt=Mt+Ot>>1,Je=rt+ur>>1,m(B[U+2*Le-1],255&nt,nt>>16,Ae,Ie+(2*Le-1)*v),m(B[U+2*Le+0],255&Je,Je>>16,Ae,Ie+(2*Le+0)*v)),Je=Gt,Ot=ur}1&Oe||(nt=3*Je+Ot+131074>>2,m(S[M+Oe-1],255&nt,nt>>16,xe,pe+(Oe-1)*v),B!=null&&(nt=3*Ot+Je+131074>>2,m(B[U+Oe-1],255&nt,nt>>16,Ae,Ie+(Oe-1)*v)))}}function Tt(){gs[md]=W6,gs[gd]=Zv,gs[Kv]=G6,gs[yd]=ew,gs[vd]=tw,gs[Bg]=nw,gs[Qv]=K6,gs[Ug]=Zv,gs[zg]=ew,gs[wd]=tw,gs[qg]=nw}function _n(h){return h&-16384?0>h?0:255:h>>Q6}function qt(h,m){return _n((19077*h>>8)+(26149*m>>8)-14234)}function bn(h,m,v){return _n((19077*h>>8)-(6419*m>>8)-(13320*v>>8)+8708)}function yr(h,m){return _n((19077*h>>8)+(33050*m>>8)-17685)}function Rr(h,m,v,S,M){S[M+0]=qt(h,v),S[M+1]=bn(h,m,v),S[M+2]=yr(h,m)}function xn(h,m,v,S,M){S[M+0]=yr(h,m),S[M+1]=bn(h,m,v),S[M+2]=qt(h,v)}function Dr(h,m,v,S,M){var B=bn(h,m,v);m=B<<3&224|yr(h,m)>>3,S[M+0]=248&qt(h,v)|B>>5,S[M+1]=m}function fs(h,m,v,S,M){var B=240&yr(h,m)|15;S[M+0]=240&qt(h,v)|bn(h,m,v)>>4,S[M+1]=B}function qo(h,m,v,S,M){S[M+0]=255,Rr(h,m,v,S,M+1)}function fh(h,m,v,S,M){xn(h,m,v,S,M),S[M+3]=255}function ii(h,m,v,S,M){Rr(h,m,v,S,M),S[M+3]=255}function $o(h,m,v){E[h]=function(S,M,B,U,q,H,Q,ie,me){for(var Y=ie+(-2&me)*v;ie!=Y;)m(S[M+0],B[U+0],q[H+0],Q,ie),m(S[M+1],B[U+0],q[H+0],Q,ie+v),M+=2,++U,++H,ie+=2*v;1&me&&m(S[M+0],B[U+0],q[H+0],Q,ie)}}function Bu(h,m,v){return v==0?h==0?m==0?6:5:m==0?4:0:v}function hd(h,m,v,S,M){switch(h>>>30){case 3:ql(m,v,S,M,0);break;case 2:ps(m,v,S,M);break;case 1:nn(m,v,S,M)}}function ds(h,m){var v,S,M=m.M,B=m.Nb,U=h.oc,q=h.pc+40,H=h.oc,Q=h.pc+584,ie=h.oc,me=h.pc+600;for(v=0;16>v;++v)U[q+32*v-1]=129;for(v=0;8>v;++v)H[Q+32*v-1]=129,ie[me+32*v-1]=129;for(0<M?U[q-1-32]=H[Q-1-32]=ie[me-1-32]=129:(i(U,q-32-1,127,21),i(H,Q-32-1,127,9),i(ie,me-32-1,127,9)),S=0;S<h.za;++S){var Y=m.ya[m.aa+S];if(0<S){for(v=-1;16>v;++v)r(U,q+32*v-4,U,q+32*v+12,4);for(v=-1;8>v;++v)r(H,Q+32*v-4,H,Q+32*v+4,4),r(ie,me+32*v-4,ie,me+32*v+4,4)}var se=h.Gd,fe=h.Hd+S,xe=Y.ad,pe=Y.Hc;if(0<M&&(r(U,q-32,se[fe].y,0,16),r(H,Q-32,se[fe].f,0,8),r(ie,me-32,se[fe].ea,0,8)),Y.Za){var Ae=U,Ie=q-32+16;for(0<M&&(S>=h.za-1?i(Ae,Ie,se[fe].y[15],4):r(Ae,Ie,se[fe+1].y,0,4)),v=0;4>v;v++)Ae[Ie+128+v]=Ae[Ie+256+v]=Ae[Ie+384+v]=Ae[Ie+0+v];for(v=0;16>v;++v,pe<<=2)Ae=U,Ie=q+iw[v],Ms[Y.Ob[v]](Ae,Ie),hd(pe,xe,16*+v,Ae,Ie)}else if(Ae=Bu(S,M,Y.Ob[0]),Ra[Ae](U,q),pe!=0)for(v=0;16>v;++v,pe<<=2)hd(pe,xe,16*+v,U,q+iw[v]);for(v=Y.Gc,Ae=Bu(S,M,Y.Dd),Go[Ae](H,Q),Go[Ae](ie,me),pe=xe,Ae=H,Ie=Q,255&(Y=0|v)&&(170&Y?go(pe,256,Ae,Ie):fn(pe,256,Ae,Ie)),Y=ie,pe=me,255&(v>>=8)&&(170&v?go(xe,320,Y,pe):fn(xe,320,Y,pe)),M<h.Ub-1&&(r(se[fe].y,0,U,q+480,16),r(se[fe].f,0,H,Q+224,8),r(se[fe].ea,0,ie,me+224,8)),v=8*B*h.B,se=h.sa,fe=h.ta+16*S+16*B*h.R,xe=h.qa,Y=h.ra+8*S+v,pe=h.Ha,Ae=h.Ia+8*S+v,v=0;16>v;++v)r(se,fe+v*h.R,U,q+32*v,16);for(v=0;8>v;++v)r(xe,Y+v*h.B,H,Q+32*v,8),r(pe,Ae+v*h.B,ie,me+32*v,8)}}function Bl(h,m,v,S,M,B,U,q,H){var Q=[0],ie=[0],me=0,Y=H!=null?H.kd:0,se=H??new Pe;if(h==null||12>v)return 7;se.data=h,se.w=m,se.ha=v,m=[m],v=[v],se.gb=[se.gb];e:{var fe=m,xe=v,pe=se.gb;if(e(h!=null),e(xe!=null),e(pe!=null),pe[0]=0,12<=xe[0]&&!n(h,fe[0],"RIFF")){if(n(h,fe[0]+8,"WEBP")){pe=3;break e}var Ae=it(h,fe[0]+4);if(12>Ae||4294967286<Ae){pe=3;break e}if(Y&&Ae>xe[0]-8){pe=7;break e}pe[0]=Ae,fe[0]+=12,xe[0]-=12}pe=0}if(pe!=0)return pe;for(Ae=0<se.gb[0],v=v[0];;){e:{var Ie=h;xe=m,pe=v;var Oe=Q,Le=ie,ot=fe=[0];if((nt=me=[me])[0]=0,8>pe[0])pe=7;else{if(!n(Ie,xe[0],"VP8X")){if(it(Ie,xe[0]+4)!=10){pe=3;break e}if(18>pe[0]){pe=7;break e}var Je=it(Ie,xe[0]+8),Ot=1+ze(Ie,xe[0]+12);if(2147483648<=Ot*(Ie=1+ze(Ie,xe[0]+15))){pe=3;break e}ot!=null&&(ot[0]=Je),Oe!=null&&(Oe[0]=Ot),Le!=null&&(Le[0]=Ie),xe[0]+=18,pe[0]-=18,nt[0]=1}pe=0}}if(me=me[0],fe=fe[0],pe!=0)return pe;if(xe=!!(2&fe),!Ae&&me)return 3;if(B!=null&&(B[0]=!!(16&fe)),U!=null&&(U[0]=xe),q!=null&&(q[0]=0),U=Q[0],fe=ie[0],me&&xe&&H==null){pe=0;break}if(4>v){pe=7;break}if(Ae&&me||!Ae&&!me&&!n(h,m[0],"ALPH")){v=[v],se.na=[se.na],se.P=[se.P],se.Sa=[se.Sa];e:{Je=h,pe=m,Ae=v;var nt=se.gb;Oe=se.na,Le=se.P,ot=se.Sa,Ot=22,e(Je!=null),e(Ae!=null),Ie=pe[0];var Gt=Ae[0];for(e(Oe!=null),e(ot!=null),Oe[0]=null,Le[0]=null,ot[0]=0;;){if(pe[0]=Ie,Ae[0]=Gt,8>Gt){pe=7;break e}var ur=it(Je,Ie+4);if(4294967286<ur){pe=3;break e}var Mt=8+ur+1&-2;if(Ot+=Mt,0<nt&&Ot>nt){pe=3;break e}if(!n(Je,Ie,"VP8 ")||!n(Je,Ie,"VP8L")){pe=0;break e}if(Gt[0]<Mt){pe=7;break e}n(Je,Ie,"ALPH")||(Oe[0]=Je,Le[0]=Ie+8,ot[0]=ur),Ie+=Mt,Gt-=Mt}}if(v=v[0],se.na=se.na[0],se.P=se.P[0],se.Sa=se.Sa[0],pe!=0)break}v=[v],se.Ja=[se.Ja],se.xa=[se.xa];e:if(nt=h,pe=m,Ae=v,Oe=se.gb[0],Le=se.Ja,ot=se.xa,Je=pe[0],Ie=!n(nt,Je,"VP8 "),Ot=!n(nt,Je,"VP8L"),e(nt!=null),e(Ae!=null),e(Le!=null),e(ot!=null),8>Ae[0])pe=7;else{if(Ie||Ot){if(nt=it(nt,Je+4),12<=Oe&&nt>Oe-12){pe=3;break e}if(Y&&nt>Ae[0]-8){pe=7;break e}Le[0]=nt,pe[0]+=8,Ae[0]-=8,ot[0]=Ot}else ot[0]=5<=Ae[0]&&nt[Je+0]==47&&!(nt[Je+4]>>5),Le[0]=Ae[0];pe=0}if(v=v[0],se.Ja=se.Ja[0],se.xa=se.xa[0],m=m[0],pe!=0)break;if(4294967286<se.Ja)return 3;if(q==null||xe||(q[0]=se.xa?2:1),U=[U],fe=[fe],se.xa){if(5>v){pe=7;break}q=U,Y=fe,xe=B,h==null||5>v?h=0:5<=v&&h[m+0]==47&&!(h[m+4]>>5)?(Ae=[0],nt=[0],Oe=[0],ue(Le=new R,h,m,v),pi(Le,Ae,nt,Oe)?(q!=null&&(q[0]=Ae[0]),Y!=null&&(Y[0]=nt[0]),xe!=null&&(xe[0]=Oe[0]),h=1):h=0):h=0}else{if(10>v){pe=7;break}q=fe,h==null||10>v||!so(h,m+3,v-3)?h=0:(Y=h[m+0]|h[m+1]<<8|h[m+2]<<16,xe=16383&(h[m+7]<<8|h[m+6]),h=16383&(h[m+9]<<8|h[m+8]),1&Y||3<(Y>>1&7)||!(Y>>4&1)||Y>>5>=se.Ja||!xe||!h?h=0:(U&&(U[0]=xe),q&&(q[0]=h),h=1))}if(!h||(U=U[0],fe=fe[0],me&&(Q[0]!=U||ie[0]!=fe)))return 3;H!=null&&(H[0]=se,H.offset=m-H.w,e(4294967286>m-H.w),e(H.offset==H.ha-v));break}return pe==0||pe==7&&me&&H==null?(B!=null&&(B[0]|=se.na!=null&&0<se.na.length),S!=null&&(S[0]=U),M!=null&&(M[0]=fe),0):pe}function dh(h,m,v){var S=m.width,M=m.height,B=0,U=0,q=S,H=M;if(m.Da=h!=null&&0<h.Da,m.Da&&(q=h.cd,H=h.bd,B=h.v,U=h.j,11>v||(B&=-2,U&=-2),0>B||0>U||0>=q||0>=H||B+q>S||U+H>M))return 0;if(m.v=B,m.j=U,m.va=B+q,m.o=U+H,m.U=q,m.T=H,m.da=h!=null&&0<h.da,m.da){if(!lt(q,H,v=[h.ib],B=[h.hb]))return 0;m.ib=v[0],m.hb=B[0]}return m.ob=h!=null&&h.ob,m.Kb=h==null||!h.Sd,m.da&&(m.ob=m.ib<3*S/4&&m.hb<3*M/4,m.Kb=0),1}function ph(h){if(h==null)return 2;if(11>h.S){var m=h.f.RGBA;m.fb+=(h.height-1)*m.A,m.A=-m.A}else m=h.f.kb,h=h.height,m.O+=(h-1)*m.fa,m.fa=-m.fa,m.N+=(h-1>>1)*m.Ab,m.Ab=-m.Ab,m.W+=(h-1>>1)*m.Db,m.Db=-m.Db,m.F!=null&&(m.J+=(h-1)*m.lb,m.lb=-m.lb);return 0}function Ea(h,m,v,S){if(S==null||0>=h||0>=m)return 2;if(v!=null){if(v.Da){var M=v.cd,B=v.bd,U=-2&v.v,q=-2&v.j;if(0>U||0>q||0>=M||0>=B||U+M>h||q+B>m)return 2;h=M,m=B}if(v.da){if(!lt(h,m,M=[v.ib],B=[v.hb]))return 2;h=M[0],m=B[0]}}S.width=h,S.height=m;e:{var H=S.width,Q=S.height;if(h=S.S,0>=H||0>=Q||!(h>=md&&13>h))h=2;else{if(0>=S.Rd&&S.sd==null){U=B=M=m=0;var ie=(q=H*sw[h])*Q;if(11>h||(B=(Q+1)/2*(m=(H+1)/2),h==12&&(U=(M=H)*Q)),(Q=s(ie+2*B+U))==null){h=1;break e}S.sd=Q,11>h?((H=S.f.RGBA).eb=Q,H.fb=0,H.A=q,H.size=ie):((H=S.f.kb).y=Q,H.O=0,H.fa=q,H.Fd=ie,H.f=Q,H.N=0+ie,H.Ab=m,H.Cd=B,H.ea=Q,H.W=0+ie+B,H.Db=m,H.Ed=B,h==12&&(H.F=Q,H.J=0+ie+2*B),H.Tc=U,H.lb=M)}if(m=1,M=S.S,B=S.width,U=S.height,M>=md&&13>M)if(11>M)h=S.f.RGBA,m&=(q=Math.abs(h.A))*(U-1)+B<=h.size,m&=q>=B*sw[M],m&=h.eb!=null;else{h=S.f.kb,q=(B+1)/2,ie=(U+1)/2,H=Math.abs(h.fa),Q=Math.abs(h.Ab);var me=Math.abs(h.Db),Y=Math.abs(h.lb),se=Y*(U-1)+B;m&=H*(U-1)+B<=h.Fd,m&=Q*(ie-1)+q<=h.Cd,m=(m&=me*(ie-1)+q<=h.Ed)&H>=B&Q>=q&me>=q,m&=h.y!=null,m&=h.f!=null,m&=h.ea!=null,M==12&&(m&=Y>=B,m&=se<=h.Tc,m&=h.F!=null)}else m=0;h=m?0:2}}return h!=0||v!=null&&v.fd&&(h=ph(S)),h}var Ul=64,ji=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Vi=24,Ia=32,Ho=8,Ta=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];We("Predictor0","PredictorAdd0"),E.Predictor0=function(){return 4278190080},E.Predictor1=function(h){return h},E.Predictor2=function(h,m,v){return m[v+0]},E.Predictor3=function(h,m,v){return m[v+1]},E.Predictor4=function(h,m,v){return m[v-1]},E.Predictor5=function(h,m,v){return st(st(h,m[v+1]),m[v+0])},E.Predictor6=function(h,m,v){return st(h,m[v-1])},E.Predictor7=function(h,m,v){return st(h,m[v+0])},E.Predictor8=function(h,m,v){return st(m[v-1],m[v+0])},E.Predictor9=function(h,m,v){return st(m[v+0],m[v+1])},E.Predictor10=function(h,m,v){return st(st(h,m[v-1]),st(m[v+0],m[v+1]))},E.Predictor11=function(h,m,v){var S=m[v+0];return 0>=de(S>>24&255,h>>24&255,(m=m[v-1])>>24&255)+de(S>>16&255,h>>16&255,m>>16&255)+de(S>>8&255,h>>8&255,m>>8&255)+de(255&S,255&h,255&m)?S:h},E.Predictor12=function(h,m,v){var S=m[v+0];return(Kt((h>>24&255)+(S>>24&255)-((m=m[v-1])>>24&255))<<24|Kt((h>>16&255)+(S>>16&255)-(m>>16&255))<<16|Kt((h>>8&255)+(S>>8&255)-(m>>8&255))<<8|Kt((255&h)+(255&S)-(255&m)))>>>0},E.Predictor13=function(h,m,v){var S=m[v-1];return(Nt((h=st(h,m[v+0]))>>24&255,S>>24&255)<<24|Nt(h>>16&255,S>>16&255)<<16|Nt(h>>8&255,S>>8&255)<<8|Nt(255&h,255&S))>>>0};var mh=E.PredictorAdd0;E.PredictorAdd1=Te,We("Predictor2","PredictorAdd2"),We("Predictor3","PredictorAdd3"),We("Predictor4","PredictorAdd4"),We("Predictor5","PredictorAdd5"),We("Predictor6","PredictorAdd6"),We("Predictor7","PredictorAdd7"),We("Predictor8","PredictorAdd8"),We("Predictor9","PredictorAdd9"),We("Predictor10","PredictorAdd10"),We("Predictor11","PredictorAdd11"),We("Predictor12","PredictorAdd12"),We("Predictor13","PredictorAdd13");var Uu=E.PredictorAdd2;He("ColorIndexInverseTransform","MapARGB","32b",function(h){return h>>8&255},function(h){return h}),He("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(h){return h},function(h){return h>>8&255});var Wn,fd=E.ColorIndexInverseTransform,po=E.MapARGB,mo=E.VP8LColorIndexInverseTransformAlpha,gh=E.MapAlpha,yh=E.VP8LPredictorsAdd=[];yh.length=16,(E.VP8LPredictors=[]).length=16,(E.VP8LPredictorsAdd_C=[]).length=16,(E.VP8LPredictors_C=[]).length=16;var vh,wh,Ca,Na,Pa,zl,La,ql,ps,go,nn,fn,Gn,lr,Wo,_h,zu,dd,Dv,Ov,Mv,Fv,jv,Vv,bh,Bv,Uv,zv,qv=s(511),$v=s(2041),Hv=s(225),Wv=s(767),Gv=0,Vg=$v,pd=Hv,Bi=Wv,ms=qv,md=0,gd=1,Kv=2,yd=3,vd=4,Bg=5,Qv=6,Ug=7,zg=8,wd=9,qg=10,L6=[2,3,7],R6=[3,3,11],Yv=[280,256,256,256,40],D6=[0,1,1,1,0],O6=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],M6=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],F6=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],j6=8,$g=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Hg=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],xh=null,V6=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],B6=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Xv=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],U6=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],z6=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],q6=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],$6=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Ra=[],Ms=[],Go=[],H6=1,Jv=2,Da=[],gs=[];Fe("UpsampleRgbLinePair",Rr,3),Fe("UpsampleBgrLinePair",xn,3),Fe("UpsampleRgbaLinePair",ii,4),Fe("UpsampleBgraLinePair",fh,4),Fe("UpsampleArgbLinePair",qo,4),Fe("UpsampleRgba4444LinePair",fs,2),Fe("UpsampleRgb565LinePair",Dr,2);var W6=E.UpsampleRgbLinePair,G6=E.UpsampleBgrLinePair,Zv=E.UpsampleRgbaLinePair,ew=E.UpsampleBgraLinePair,tw=E.UpsampleArgbLinePair,nw=E.UpsampleRgba4444LinePair,K6=E.UpsampleRgb565LinePair,_d=16,bd=1<<_d-1,kh=-227,Wg=482,Q6=6,rw=0,Y6=s(256),X6=s(256),J6=s(256),Z6=s(256),eC=s(Wg-kh),tC=s(Wg-kh);$o("YuvToRgbRow",Rr,3),$o("YuvToBgrRow",xn,3),$o("YuvToRgbaRow",ii,4),$o("YuvToBgraRow",fh,4),$o("YuvToArgbRow",qo,4),$o("YuvToRgba4444Row",fs,2),$o("YuvToRgb565Row",Dr,2);var iw=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],xd=[0,2,8],nC=[8,7,6,4,4,2,2,2,1,1,1,1],rC=1;this.WebPDecodeRGBA=function(h,m,v,S,M){var B=gd,U=new Se,q=new ft;U.ba=q,q.S=B,q.width=[q.width],q.height=[q.height];var H=q.width,Q=q.height,ie=new dt;if(ie==null||h==null)var me=2;else e(ie!=null),me=Bl(h,m,v,ie.width,ie.height,ie.Pd,ie.Qd,ie.format,null);if(me!=0?H=0:(H!=null&&(H[0]=ie.width[0]),Q!=null&&(Q[0]=ie.height[0]),H=1),H){q.width=q.width[0],q.height=q.height[0],S!=null&&(S[0]=q.width),M!=null&&(M[0]=q.height);e:{if(S=new ei,(M=new Pe).data=h,M.w=m,M.ha=v,M.kd=1,m=[0],e(M!=null),((h=Bl(M.data,M.w,M.ha,null,null,null,m,null,M))==0||h==7)&&m[0]&&(h=4),(m=h)==0){if(e(U!=null),S.data=M.data,S.w=M.w+M.offset,S.ha=M.ha-M.offset,S.put=mt,S.ac=xr,S.bc=Ns,S.ma=U,M.xa){if((h=ro())==null){U=1;break e}if(function(Y,se){var fe=[0],xe=[0],pe=[0];t:for(;;){if(Y==null)return 0;if(se==null)return Y.a=2,0;if(Y.l=se,Y.a=0,ue(Y.m,se.data,se.w,se.ha),!pi(Y.m,fe,xe,pe)){Y.a=3;break t}if(Y.xb=Jv,se.width=fe[0],se.height=xe[0],!is(fe[0],xe[0],1,Y,null))break t;return 1}return e(Y.a!=0),0}(h,S)){if(S=(m=Ea(S.width,S.height,U.Oa,U.ba))==0){t:{S=h;n:for(;;){if(S==null){S=0;break t}if(e(S.s.yc!=null),e(S.s.Ya!=null),e(0<S.s.Wb),e((v=S.l)!=null),e((M=v.ma)!=null),S.xb!=0){if(S.ca=M.ba,S.tb=M.tb,e(S.ca!=null),!dh(M.Oa,v,yd)){S.a=2;break n}if(!ss(S,v.width)||v.da)break n;if((v.da||pt(S.ca.S))&&ge(),11>S.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),S.ca.f.kb.F!=null&&ge()),S.Pb&&0<S.s.ua&&S.s.vb.X==null&&!G(S.s.vb,S.s.Wa.Xa)){S.a=1;break n}S.xb=0}if(!yi(S,S.V,S.Ba,S.c,S.i,v.o,Ps))break n;M.Dc=S.Ma,S=1;break t}e(S.a!=0),S=0}S=!S}S&&(m=h.a)}else m=h.a}else{if((h=new wi)==null){U=1;break e}if(h.Fa=M.na,h.P=M.P,h.qc=M.Sa,_i(h,S)){if((m=Ea(S.width,S.height,U.Oa,U.ba))==0){if(h.Aa=0,v=U.Oa,e((M=h)!=null),v!=null){if(0<(H=0>(H=v.Md)?0:100<H?255:255*H/100)){for(Q=ie=0;4>Q;++Q)12>(me=M.pb[Q]).lc&&(me.ia=H*nC[0>me.lc?0:me.lc]>>3),ie|=me.ia;ie&&(alert("todo:VP8InitRandom"),M.ia=1)}M.Ga=v.Id,100<M.Ga?M.Ga=100:0>M.Ga&&(M.Ga=0)}(function(Y,se){if(Y==null)return 0;if(se==null)return yn(Y,2,"NULL VP8Io parameter in VP8Decode().");if(!Y.cb&&!_i(Y,se))return 0;if(e(Y.cb),se.ac==null||se.ac(se)){se.ob&&(Y.L=0);var fe=xd[Y.L];if(Y.L==2?(Y.yb=0,Y.zb=0):(Y.yb=se.v-fe>>4,Y.zb=se.j-fe>>4,0>Y.yb&&(Y.yb=0),0>Y.zb&&(Y.zb=0)),Y.Va=se.o+15+fe>>4,Y.Hb=se.va+15+fe>>4,Y.Hb>Y.za&&(Y.Hb=Y.za),Y.Va>Y.Ub&&(Y.Va=Y.Ub),0<Y.L){var xe=Y.ed;for(fe=0;4>fe;++fe){var pe;if(Y.Qa.Cb){var Ae=Y.Qa.Lb[fe];Y.Qa.Fb||(Ae+=xe.Tb)}else Ae=xe.Tb;for(pe=0;1>=pe;++pe){var Ie=Y.gd[fe][pe],Oe=Ae;if(xe.Pc&&(Oe+=xe.vd[0],pe&&(Oe+=xe.od[0])),0<(Oe=0>Oe?0:63<Oe?63:Oe)){var Le=Oe;0<xe.wb&&(Le=4<xe.wb?Le>>2:Le>>1)>9-xe.wb&&(Le=9-xe.wb),1>Le&&(Le=1),Ie.dd=Le,Ie.tc=2*Oe+Le,Ie.ld=40<=Oe?2:15<=Oe?1:0}else Ie.tc=0;Ie.La=pe}}}fe=0}else yn(Y,6,"Frame setup failed"),fe=Y.a;if(fe=fe==0){if(fe){Y.$c=0,0<Y.Aa||(Y.Ic=rC);t:{fe=Y.Ic,xe=4*(Le=Y.za);var ot=32*Le,Je=Le+1,Ot=0<Y.L?Le*(0<Y.Aa?2:1):0,nt=(Y.Aa==2?2:1)*Le;if((Ie=xe+832+(pe=3*(16*fe+xd[Y.L])/2*ot)+(Ae=Y.Fa!=null&&0<Y.Fa.length?Y.Kc.c*Y.Kc.i:0))!=Ie)fe=0;else{if(Ie>Y.Vb){if(Y.Vb=0,Y.Ec=s(Ie),Y.Fc=0,Y.Ec==null){fe=yn(Y,1,"no memory during frame initialization.");break t}Y.Vb=Ie}Ie=Y.Ec,Oe=Y.Fc,Y.Ac=Ie,Y.Bc=Oe,Oe+=xe,Y.Gd=o(ot,Rl),Y.Hd=0,Y.rb=o(Je+1,ya),Y.sb=1,Y.wa=Ot?o(Ot,Zr):null,Y.Y=0,Y.D.Nb=0,Y.D.wa=Y.wa,Y.D.Y=Y.Y,0<Y.Aa&&(Y.D.Y+=Le),e(!0),Y.oc=Ie,Y.pc=Oe,Oe+=832,Y.ya=o(nt,Vo),Y.aa=0,Y.D.ya=Y.ya,Y.D.aa=Y.aa,Y.Aa==2&&(Y.D.aa+=Le),Y.R=16*Le,Y.B=8*Le,Le=(ot=xd[Y.L])*Y.R,ot=ot/2*Y.B,Y.sa=Ie,Y.ta=Oe+Le,Y.qa=Y.sa,Y.ra=Y.ta+16*fe*Y.R+ot,Y.Ha=Y.qa,Y.Ia=Y.ra+8*fe*Y.B+ot,Y.$c=0,Oe+=pe,Y.mb=Ae?Ie:null,Y.nb=Ae?Oe:null,e(Oe+Ae<=Y.Fc+Y.Vb),Bo(Y),i(Y.Ac,Y.Bc,0,xe),fe=1}}if(fe){if(se.ka=0,se.y=Y.sa,se.O=Y.ta,se.f=Y.qa,se.N=Y.ra,se.ea=Y.Ha,se.Vd=Y.Ia,se.fa=Y.R,se.Rc=Y.B,se.F=null,se.J=0,!Gv){for(fe=-255;255>=fe;++fe)qv[255+fe]=0>fe?-fe:fe;for(fe=-1020;1020>=fe;++fe)$v[1020+fe]=-128>fe?-128:127<fe?127:fe;for(fe=-112;112>=fe;++fe)Hv[112+fe]=-16>fe?-16:15<fe?15:fe;for(fe=-255;510>=fe;++fe)Wv[255+fe]=0>fe?0:255<fe?255:fe;Gv=1}La=bi,ql=uh,go=ls,nn=Lu,fn=oo,ps=lh,Gn=Vl,lr=Os,Wo=O,_h=K,zu=Aa,dd=y,Dv=te,Ov=le,Mv=ho,Fv=fo,jv=Vu,Vv=jl,Ms[0]=zo,Ms[1]=Ru,Ms[2]=_a,Ms[3]=Mu,Ms[4]=ti,Ms[5]=Ml,Ms[6]=us,Ms[7]=vn,Ms[8]=Fl,Ms[9]=ba,Ra[0]=ch,Ra[1]=Ou,Ra[2]=wa,Ra[3]=Ds,Ra[4]=Uo,Ra[5]=xi,Ra[6]=hh,Go[0]=xa,Go[1]=Du,Go[2]=lo,Go[3]=Fu,Go[4]=ka,Go[5]=ki,Go[6]=ju,fe=1}else fe=0}fe&&(fe=function(Gt,ur){for(Gt.M=0;Gt.M<Gt.Va;++Gt.M){var Mt,rt=Gt.Jc[Gt.M&Gt.Xb],Ue=Gt.m,Kn=Gt;for(Mt=0;Mt<Kn.za;++Mt){var Rt=Ue,Qt=Kn,Cn=Qt.Ac,kr=Qt.Bc+4*Mt,si=Qt.zc,Un=Qt.ya[Qt.aa+Mt];if(Qt.Qa.Bb?Un.$b=ke(Rt,Qt.Pa.jb[0])?2+ke(Rt,Qt.Pa.jb[2]):ke(Rt,Qt.Pa.jb[1]):Un.$b=0,Qt.kc&&(Un.Ad=ke(Rt,Qt.Bd)),Un.Za=!ke(Rt,145)+0,Un.Za){var Or=Un.Ob,oi=0;for(Qt=0;4>Qt;++Qt){var cr,Jt=si[0+Qt];for(cr=0;4>cr;++cr){Jt=z6[Cn[kr+cr]][Jt];for(var sn=Xv[ke(Rt,Jt[0])];0<sn;)sn=Xv[2*sn+ke(Rt,Jt[sn])];Jt=-sn,Cn[kr+cr]=Jt}r(Or,oi,Cn,kr,4),oi+=4,si[0+Qt]=Jt}}else Jt=ke(Rt,156)?ke(Rt,128)?1:3:ke(Rt,163)?2:0,Un.Ob[0]=Jt,i(Cn,kr,Jt,4),i(si,0,Jt,4);Un.Dd=ke(Rt,142)?ke(Rt,114)?ke(Rt,183)?1:3:2:0}if(Kn.m.Ka)return yn(Gt,7,"Premature end-of-partition0 encountered.");for(;Gt.ja<Gt.za;++Gt.ja){if(Kn=rt,Rt=(Ue=Gt).rb[Ue.sb-1],Cn=Ue.rb[Ue.sb+Ue.ja],Mt=Ue.ya[Ue.aa+Ue.ja],kr=Ue.kc?Mt.Ad:0)Rt.la=Cn.la=0,Mt.Za||(Rt.Na=Cn.Na=0),Mt.Hc=0,Mt.Gc=0,Mt.ia=0;else{var zn,on;if(Rt=Cn,Cn=Kn,kr=Ue.Pa.Xc,si=Ue.ya[Ue.aa+Ue.ja],Un=Ue.pb[si.$b],Qt=si.ad,Or=0,oi=Ue.rb[Ue.sb-1],Jt=cr=0,i(Qt,Or,0,384),si.Za)var Sr=0,Fs=kr[3];else{sn=s(16);var Qn=Rt.Na+oi.Na;if(Qn=xh(Cn,kr[1],Qn,Un.Eb,0,sn,0),Rt.Na=oi.Na=(0<Qn)+0,1<Qn)La(sn,0,Qt,Or);else{var Si=sn[0]+3>>3;for(sn=0;256>sn;sn+=16)Qt[Or+sn]=Si}Sr=1,Fs=kr[0]}var dn=15&Rt.la,hr=15&oi.la;for(sn=0;4>sn;++sn){var Ui=1&hr;for(Si=on=0;4>Si;++Si)dn=dn>>1|(Ui=(Qn=xh(Cn,Fs,Qn=Ui+(1&dn),Un.Sc,Sr,Qt,Or))>Sr)<<7,on=on<<2|(3<Qn?3:1<Qn?2:Qt[Or+0]!=0),Or+=16;dn>>=4,hr=hr>>1|Ui<<7,cr=(cr<<8|on)>>>0}for(Fs=dn,Sr=hr>>4,zn=0;4>zn;zn+=2){for(on=0,dn=Rt.la>>4+zn,hr=oi.la>>4+zn,sn=0;2>sn;++sn){for(Ui=1&hr,Si=0;2>Si;++Si)Qn=Ui+(1&dn),dn=dn>>1|(Ui=0<(Qn=xh(Cn,kr[2],Qn,Un.Qc,0,Qt,Or)))<<3,on=on<<2|(3<Qn?3:1<Qn?2:Qt[Or+0]!=0),Or+=16;dn>>=2,hr=hr>>1|Ui<<5}Jt|=on<<4*zn,Fs|=dn<<4<<zn,Sr|=(240&hr)<<zn}Rt.la=Fs,oi.la=Sr,si.Hc=cr,si.Gc=Jt,si.ia=43690&Jt?0:Un.ia,kr=!(cr|Jt)}if(0<Ue.L&&(Ue.wa[Ue.Y+Ue.ja]=Ue.gd[Mt.$b][Mt.Za],Ue.wa[Ue.Y+Ue.ja].La|=!kr),Kn.Ka)return yn(Gt,7,"Premature end-of-file encountered.")}if(Bo(Gt),Ue=ur,Kn=1,Mt=(rt=Gt).D,Rt=0<rt.L&&rt.M>=rt.zb&&rt.M<=rt.Va,rt.Aa==0)t:{if(Mt.M=rt.M,Mt.uc=Rt,ds(rt,Mt),Kn=1,Mt=(on=rt.D).Nb,Rt=(Jt=xd[rt.L])*rt.R,Cn=Jt/2*rt.B,sn=16*Mt*rt.R,Si=8*Mt*rt.B,kr=rt.sa,si=rt.ta-Rt+sn,Un=rt.qa,Qt=rt.ra-Cn+Si,Or=rt.Ha,oi=rt.Ia-Cn+Si,hr=(dn=on.M)==0,cr=dn>=rt.Va-1,rt.Aa==2&&ds(rt,on),on.uc)for(Ui=(Qn=rt).D.M,e(Qn.D.uc),on=Qn.yb;on<Qn.Hb;++on){Sr=on,Fs=Ui;var ai=(zi=(Ar=Qn).D).Nb;zn=Ar.R;var zi=zi.wa[zi.Y+Sr],qi=Ar.sa,Ai=Ar.ta+16*ai*zn+16*Sr,$i=zi.dd,kn=zi.tc;if(kn!=0)if(e(3<=kn),Ar.L==1)0<Sr&&Fv(qi,Ai,zn,kn+4),zi.La&&Vv(qi,Ai,zn,kn),0<Fs&&Mv(qi,Ai,zn,kn+4),zi.La&&jv(qi,Ai,zn,kn);else{var Hi=Ar.B,js=Ar.qa,$l=Ar.ra+8*ai*Hi+8*Sr,Ko=Ar.Ha,Ar=Ar.Ia+8*ai*Hi+8*Sr;ai=zi.ld,0<Sr&&(lr(qi,Ai,zn,kn+4,$i,ai),_h(js,$l,Ko,Ar,Hi,kn+4,$i,ai)),zi.La&&(dd(qi,Ai,zn,kn,$i,ai),Ov(js,$l,Ko,Ar,Hi,kn,$i,ai)),0<Fs&&(Gn(qi,Ai,zn,kn+4,$i,ai),Wo(js,$l,Ko,Ar,Hi,kn+4,$i,ai)),zi.La&&(zu(qi,Ai,zn,kn,$i,ai),Dv(js,$l,Ko,Ar,Hi,kn,$i,ai))}}if(rt.ia&&alert("todo:DitherRow"),Ue.put!=null){if(on=16*dn,dn=16*(dn+1),hr?(Ue.y=rt.sa,Ue.O=rt.ta+sn,Ue.f=rt.qa,Ue.N=rt.ra+Si,Ue.ea=rt.Ha,Ue.W=rt.Ia+Si):(on-=Jt,Ue.y=kr,Ue.O=si,Ue.f=Un,Ue.N=Qt,Ue.ea=Or,Ue.W=oi),cr||(dn-=Jt),dn>Ue.o&&(dn=Ue.o),Ue.F=null,Ue.J=null,rt.Fa!=null&&0<rt.Fa.length&&on<dn&&(Ue.J=f(rt,Ue,on,dn-on),Ue.F=rt.mb,Ue.F==null&&Ue.F.length==0)){Kn=yn(rt,3,"Could not decode alpha data.");break t}on<Ue.j&&(Jt=Ue.j-on,on=Ue.j,e(!(1&Jt)),Ue.O+=rt.R*Jt,Ue.N+=rt.B*(Jt>>1),Ue.W+=rt.B*(Jt>>1),Ue.F!=null&&(Ue.J+=Ue.width*Jt)),on<dn&&(Ue.O+=Ue.v,Ue.N+=Ue.v>>1,Ue.W+=Ue.v>>1,Ue.F!=null&&(Ue.J+=Ue.v),Ue.ka=on-Ue.j,Ue.U=Ue.va-Ue.v,Ue.T=dn-on,Kn=Ue.put(Ue))}Mt+1!=rt.Ic||cr||(r(rt.sa,rt.ta-Rt,kr,si+16*rt.R,Rt),r(rt.qa,rt.ra-Cn,Un,Qt+8*rt.B,Cn),r(rt.Ha,rt.Ia-Cn,Or,oi+8*rt.B,Cn))}if(!Kn)return yn(Gt,6,"Output aborted.")}return 1}(Y,se)),se.bc!=null&&se.bc(se),fe&=1}return fe?(Y.cb=0,fe):0})(h,S)||(m=h.a)}}else m=h.a}m==0&&U.Oa!=null&&U.Oa.fd&&(m=ph(U.ba))}U=m}B=U!=0?null:11>B?q.f.RGBA.eb:q.f.kb.y}else B=null;return B};var sw=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(E,I){for(var x="",T=0;T<4;T++)x+=String.fromCharCode(E[I++]);return x}function c(E,I){return E[I+0]|E[I+1]<<8}function d(E,I){return(E[I+0]|E[I+1]<<8|E[I+2]<<16)>>>0}function g(E,I){return(E[I+0]|E[I+1]<<8|E[I+2]<<16|E[I+3]<<24)>>>0}new l;var p=[0],_=[0],k=[],D=new l,w=t,C=function(E,I){var x={},T=0,N=!1,J=0,ae=0;if(x.frames=[],!function(j,R){for(var Z=0;Z<4;Z++)if(j[R+Z]!="RIFF".charCodeAt(Z))return!0;return!1}(E,I)){for(g(E,I+=4),I+=8;I<E.length;){var ye=u(E,I),ve=g(E,I+=4);I+=4;var ee=ve+(1&ve);switch(ye){case"VP8 ":case"VP8L":x.frames[T]===void 0&&(x.frames[T]={}),(_e=x.frames[T]).src_off=N?ae:I-8,_e.src_size=J+ve+8,T++,N&&(N=!1,J=0,ae=0);break;case"VP8X":(_e=x.header={}).feature_flags=E[I];var ue=I+4;_e.canvas_width=1+d(E,ue),ue+=3,_e.canvas_height=1+d(E,ue),ue+=3;break;case"ALPH":N=!0,J=ee+8,ae=I-8;break;case"ANIM":(_e=x.header).bgcolor=g(E,I),ue=I+4,_e.loop_count=c(E,ue),ue+=2;break;case"ANMF":var z,_e;(_e=x.frames[T]={}).offset_x=2*d(E,I),I+=3,_e.offset_y=2*d(E,I),I+=3,_e.width=1+d(E,I),I+=3,_e.height=1+d(E,I),I+=3,_e.duration=d(E,I),I+=3,z=E[I++],_e.dispose=1&z,_e.blend=z>>1&1}ye!="ANMF"&&(I+=ee)}return x}}(w,0);C.response=w,C.rgbaoutput=!0,C.dataurl=!1;var L=C.header?C.header:null,V=C.frames?C.frames:null;if(L){L.loop_counter=L.loop_count,p=[L.canvas_height],_=[L.canvas_width];for(var X=0;X<V.length&&V[X].blend!=0;X++);}var W=V[0],F=D.WebPDecodeRGBA(w,W.src_off,W.src_size,_,p);W.rgba=F,W.imgwidth=_[0],W.imgheight=p[0];for(var A=0;A<_[0]*p[0]*4;A++)k[A]=F[A];return this.width=_,this.height=p,this.data=k,this}(function(t){var e,n,r,i,s,o,a,l,u,c=function(j){return j=j||{},this.isStrokeTransparent=j.isStrokeTransparent||!1,this.strokeOpacity=j.strokeOpacity||1,this.strokeStyle=j.strokeStyle||"#000000",this.fillStyle=j.fillStyle||"#000000",this.isFillTransparent=j.isFillTransparent||!1,this.fillOpacity=j.fillOpacity||1,this.font=j.font||"10px sans-serif",this.textBaseline=j.textBaseline||"alphabetic",this.textAlign=j.textAlign||"left",this.lineWidth=j.lineWidth||1,this.lineJoin=j.lineJoin||"miter",this.lineCap=j.lineCap||"butt",this.path=j.path||[],this.transform=j.transform!==void 0?j.transform.clone():new l,this.globalCompositeOperation=j.globalCompositeOperation||"normal",this.globalAlpha=j.globalAlpha||1,this.clip_path=j.clip_path||[],this.currentPoint=j.currentPoint||new o,this.miterLimit=j.miterLimit||10,this.lastPoint=j.lastPoint||new o,this.lineDashOffset=j.lineDashOffset||0,this.lineDash=j.lineDash||[],this.margin=j.margin||[0,0,0,0],this.prevPageLastElemOffset=j.prevPageLastElemOffset||0,this.ignoreClearRect=typeof j.ignoreClearRect!="boolean"||j.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new d(this),e=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,o=this.internal.Point,a=this.internal.Rectangle,l=this.internal.Matrix,u=new c}]);var d=function(j){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var R=j;Object.defineProperty(this,"pdf",{get:function(){return R}});var Z=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Z},set:function(G){Z=!!G}});var ne=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ne},set:function(G){ne=!!G}});var re=0;Object.defineProperty(this,"posX",{get:function(){return re},set:function(G){isNaN(G)||(re=G)}});var ce=0;Object.defineProperty(this,"posY",{get:function(){return ce},set:function(G){isNaN(G)||(ce=G)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(G){var Be;typeof G=="number"?Be=[G,G,G,G]:((Be=new Array(4))[0]=G[0],Be[1]=G.length>=2?G[1]:Be[0],Be[2]=G.length>=3?G[2]:Be[0],Be[3]=G.length>=4?G[3]:Be[1]),u.margin=Be}});var we=!1;Object.defineProperty(this,"autoPaging",{get:function(){return we},set:function(G){we=G}});var be=0;Object.defineProperty(this,"lastBreak",{get:function(){return be},set:function(G){be=G}});var ke=[];Object.defineProperty(this,"pageBreaks",{get:function(){return ke},set:function(G){ke=G}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(G){G instanceof c&&(u=G)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(G){u.path=G}});var Re=[];Object.defineProperty(this,"ctxStack",{get:function(){return Re},set:function(G){Re=G}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(G){var Be;Be=g(G),this.ctx.fillStyle=Be.style,this.ctx.isFillTransparent=Be.a===0,this.ctx.fillOpacity=Be.a,this.pdf.setFillColor(Be.r,Be.g,Be.b,{a:Be.a}),this.pdf.setTextColor(Be.r,Be.g,Be.b,{a:Be.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(G){var Be=g(G);this.ctx.strokeStyle=Be.style,this.ctx.isStrokeTransparent=Be.a===0,this.ctx.strokeOpacity=Be.a,Be.a===0?this.pdf.setDrawColor(255,255,255):(Be.a,this.pdf.setDrawColor(Be.r,Be.g,Be.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(G){["butt","round","square"].indexOf(G)!==-1&&(this.ctx.lineCap=G,this.pdf.setLineCap(G))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(G){isNaN(G)||(this.ctx.lineWidth=G,this.pdf.setLineWidth(G))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(G){["bevel","round","miter"].indexOf(G)!==-1&&(this.ctx.lineJoin=G,this.pdf.setLineJoin(G))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(G){isNaN(G)||(this.ctx.miterLimit=G,this.pdf.setMiterLimit(G))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(G){this.ctx.textBaseline=G}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(G){["right","end","center","left","start"].indexOf(G)!==-1&&(this.ctx.textAlign=G)}});var qe=null,ze=null,it=null;Object.defineProperty(this,"fontFaces",{get:function(){return it},set:function(G){qe=null,ze=null,it=G}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(G){var Be;if(this.ctx.font=G,(Be=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(G))!==null){var St=Be[1];Be[2];var lt=Be[3],Ee=Be[4];Be[5];var Ge=Be[6],We=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ee)[2];Ee=Math.floor(We==="px"?parseFloat(Ee)*this.pdf.internal.scaleFactor:We==="em"?parseFloat(Ee)*this.pdf.getFontSize():parseFloat(Ee)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ee);var ut=function(He){var en,vt,wt=[],_t=He.trim();if(_t==="")return k0;if(_t in sx)return[sx[_t]];for(;_t!=="";){switch(vt=null,en=(_t=ax(_t)).charAt(0)){case'"':case"'":vt=CG(_t.substring(1),en);break;default:vt=NG(_t)}if(vt===null||(wt.push(vt[0]),(_t=ax(vt[1]))!==""&&_t.charAt(0)!==","))return k0;_t=_t.replace(/^,/,"")}return wt}(Ge);if(this.fontFaces){var st=function(He,en){var vt=He.getFontList(),wt=JSON.stringify(vt);if(qe===null||ze!==wt){var _t=function(It){var et=[];return Object.keys(It).forEach(function(Dt){It[Dt].forEach(function(pt){var bt=null;switch(pt){case"bold":bt={family:Dt,weight:"bold"};break;case"italic":bt={family:Dt,style:"italic"};break;case"bolditalic":bt={family:Dt,weight:"bold",style:"italic"};break;case"":case"normal":bt={family:Dt}}bt!==null&&(bt.ref={name:Dt,style:pt},et.push(bt))})}),et}(vt);qe=function(It){for(var et={},Dt=0;Dt<It.length;++Dt){var pt=x0(It[Dt]),bt=pt.family,cn=pt.stretch,ft=pt.style,dt=pt.weight;et[bt]=et[bt]||{},et[bt][cn]=et[bt][cn]||{},et[bt][cn][ft]=et[bt][cn][ft]||{},et[bt][cn][ft][dt]=pt}return et}(_t.concat(en)),ze=wt}return qe}(this.pdf,this.fontFaces),Kt=ut.map(function(He){return{family:He,stretch:"normal",weight:lt,style:St}}),Nt=function(He,en,vt){for(var wt=(vt=vt||{}).defaultFontFamily||"times",_t=Object.assign({},TG,vt.genericFontFamilies||{}),It=null,et=null,Dt=0;Dt<en.length;++Dt)if(_t[(It=x0(en[Dt])).family]&&(It.family=_t[It.family]),He.hasOwnProperty(It.family)){et=He[It.family];break}if(!(et=et||He[wt]))throw new Error("Could not find a font-family for the rule '"+ox(It)+"' and default family '"+wt+"'.");if(et=function(pt,bt){if(bt[pt])return bt[pt];var cn=gy[pt],ft=cn<=gy.normal?-1:1,dt=ix(bt,I6,cn,ft);if(!dt)throw new Error("Could not find a matching font-stretch value for "+pt);return dt}(It.stretch,et),et=function(pt,bt){if(bt[pt])return bt[pt];for(var cn=E6[pt],ft=0;ft<cn.length;++ft)if(bt[cn[ft]])return bt[cn[ft]];throw new Error("Could not find a matching font-style for "+pt)}(It.style,et),!(et=function(pt,bt){if(bt[pt])return bt[pt];if(pt===400&&bt[500])return bt[500];if(pt===500&&bt[400])return bt[400];var cn=IG[pt],ft=ix(bt,T6,cn,pt<400?-1:1);if(!ft)throw new Error("Could not find a matching font-weight for value "+pt);return ft}(It.weight,et)))throw new Error("Failed to resolve a font for the rule '"+ox(It)+"'.");return et}(st,Kt);this.pdf.setFont(Nt.ref.name,Nt.ref.style)}else{var de="";(lt==="bold"||parseInt(lt,10)>=700||St==="bold")&&(de="bold"),St==="italic"&&(de+="italic"),de.length===0&&(de="normal");for(var Te="",Ve={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},De=0;De<ut.length;De++){if(this.pdf.internal.getFont(ut[De],de,{noFallback:!0,disableWarning:!0})!==void 0){Te=ut[De];break}if(de==="bolditalic"&&this.pdf.internal.getFont(ut[De],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Te=ut[De],de="bold";else if(this.pdf.internal.getFont(ut[De],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Te=ut[De],de="normal";break}}if(Te===""){for(var $e=0;$e<ut.length;$e++)if(Ve[ut[$e]]){Te=Ve[ut[$e]];break}}Te=Te===""?"Times":Te,this.pdf.setFont(Te,de)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(G){this.ctx.globalCompositeOperation=G}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(G){this.ctx.globalAlpha=G}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(G){this.ctx.lineDashOffset=G,_e.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(G){this.ctx.lineDash=G,_e.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(G){this.ctx.ignoreClearRect=!!G}})};d.prototype.setLineDash=function(j){this.lineDash=j},d.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},d.prototype.fill=function(){V.call(this,"fill",!1)},d.prototype.stroke=function(){V.call(this,"stroke",!1)},d.prototype.beginPath=function(){this.path=[{type:"begin"}]},d.prototype.moveTo=function(j,R){if(isNaN(j)||isNaN(R))throw pn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Z=this.ctx.transform.applyToPoint(new o(j,R));this.path.push({type:"mt",x:Z.x,y:Z.y}),this.ctx.lastPoint=new o(j,R)},d.prototype.closePath=function(){var j=new o(0,0),R=0;for(R=this.path.length-1;R!==-1;R--)if(this.path[R].type==="begin"&&ln(this.path[R+1])==="object"&&typeof this.path[R+1].x=="number"){j=new o(this.path[R+1].x,this.path[R+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(j.x,j.y)},d.prototype.lineTo=function(j,R){if(isNaN(j)||isNaN(R))throw pn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Z=this.ctx.transform.applyToPoint(new o(j,R));this.path.push({type:"lt",x:Z.x,y:Z.y}),this.ctx.lastPoint=new o(Z.x,Z.y)},d.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),V.call(this,null,!0)},d.prototype.quadraticCurveTo=function(j,R,Z,ne){if(isNaN(Z)||isNaN(ne)||isNaN(j)||isNaN(R))throw pn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var re=this.ctx.transform.applyToPoint(new o(Z,ne)),ce=this.ctx.transform.applyToPoint(new o(j,R));this.path.push({type:"qct",x1:ce.x,y1:ce.y,x:re.x,y:re.y}),this.ctx.lastPoint=new o(re.x,re.y)},d.prototype.bezierCurveTo=function(j,R,Z,ne,re,ce){if(isNaN(re)||isNaN(ce)||isNaN(j)||isNaN(R)||isNaN(Z)||isNaN(ne))throw pn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var we=this.ctx.transform.applyToPoint(new o(re,ce)),be=this.ctx.transform.applyToPoint(new o(j,R)),ke=this.ctx.transform.applyToPoint(new o(Z,ne));this.path.push({type:"bct",x1:be.x,y1:be.y,x2:ke.x,y2:ke.y,x:we.x,y:we.y}),this.ctx.lastPoint=new o(we.x,we.y)},d.prototype.arc=function(j,R,Z,ne,re,ce){if(isNaN(j)||isNaN(R)||isNaN(Z)||isNaN(ne)||isNaN(re))throw pn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ce=!!ce,!this.ctx.transform.isIdentity){var we=this.ctx.transform.applyToPoint(new o(j,R));j=we.x,R=we.y;var be=this.ctx.transform.applyToPoint(new o(0,Z)),ke=this.ctx.transform.applyToPoint(new o(0,0));Z=Math.sqrt(Math.pow(be.x-ke.x,2)+Math.pow(be.y-ke.y,2))}Math.abs(re-ne)>=2*Math.PI&&(ne=0,re=2*Math.PI),this.path.push({type:"arc",x:j,y:R,radius:Z,startAngle:ne,endAngle:re,counterclockwise:ce})},d.prototype.arcTo=function(j,R,Z,ne,re){throw new Error("arcTo not implemented.")},d.prototype.rect=function(j,R,Z,ne){if(isNaN(j)||isNaN(R)||isNaN(Z)||isNaN(ne))throw pn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(j,R),this.lineTo(j+Z,R),this.lineTo(j+Z,R+ne),this.lineTo(j,R+ne),this.lineTo(j,R),this.lineTo(j+Z,R),this.lineTo(j,R)},d.prototype.fillRect=function(j,R,Z,ne){if(isNaN(j)||isNaN(R)||isNaN(Z)||isNaN(ne))throw pn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var re={};this.lineCap!=="butt"&&(re.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(re.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(j,R,Z,ne),this.fill(),re.hasOwnProperty("lineCap")&&(this.lineCap=re.lineCap),re.hasOwnProperty("lineJoin")&&(this.lineJoin=re.lineJoin)}},d.prototype.strokeRect=function(j,R,Z,ne){if(isNaN(j)||isNaN(R)||isNaN(Z)||isNaN(ne))throw pn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");_.call(this)||(this.beginPath(),this.rect(j,R,Z,ne),this.stroke())},d.prototype.clearRect=function(j,R,Z,ne){if(isNaN(j)||isNaN(R)||isNaN(Z)||isNaN(ne))throw pn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(j,R,Z,ne))},d.prototype.save=function(j){j=typeof j!="boolean"||j;for(var R=this.pdf.internal.getCurrentPageInfo().pageNumber,Z=0;Z<this.pdf.internal.getNumberOfPages();Z++)this.pdf.setPage(Z+1),this.pdf.internal.out("q");if(this.pdf.setPage(R),j){this.ctx.fontSize=this.pdf.internal.getFontSize();var ne=new c(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ne}},d.prototype.restore=function(j){j=typeof j!="boolean"||j;for(var R=this.pdf.internal.getCurrentPageInfo().pageNumber,Z=0;Z<this.pdf.internal.getNumberOfPages();Z++)this.pdf.setPage(Z+1),this.pdf.internal.out("Q");this.pdf.setPage(R),j&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},d.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var g=function(j){var R,Z,ne,re;if(j.isCanvasGradient===!0&&(j=j.getColor()),!j)return{r:0,g:0,b:0,a:0,style:j};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(j))R=0,Z=0,ne=0,re=0;else{var ce=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(j);if(ce!==null)R=parseInt(ce[1]),Z=parseInt(ce[2]),ne=parseInt(ce[3]),re=1;else if((ce=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(j))!==null)R=parseInt(ce[1]),Z=parseInt(ce[2]),ne=parseInt(ce[3]),re=parseFloat(ce[4]);else{if(re=1,typeof j=="string"&&j.charAt(0)!=="#"){var we=new w6(j);j=we.ok?we.toHex():"#000000"}j.length===4?(R=j.substring(1,2),R+=R,Z=j.substring(2,3),Z+=Z,ne=j.substring(3,4),ne+=ne):(R=j.substring(1,3),Z=j.substring(3,5),ne=j.substring(5,7)),R=parseInt(R,16),Z=parseInt(Z,16),ne=parseInt(ne,16)}}return{r:R,g:Z,b:ne,a:re,style:j}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},_=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};d.prototype.fillText=function(j,R,Z,ne){if(isNaN(R)||isNaN(Z)||typeof j!="string")throw pn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ne=isNaN(ne)?void 0:ne,!p.call(this)){var re=ee(this.ctx.transform.rotation),ce=this.ctx.transform.scaleX;T.call(this,{text:j,x:R,y:Z,scale:ce,angle:re,align:this.textAlign,maxWidth:ne})}},d.prototype.strokeText=function(j,R,Z,ne){if(isNaN(R)||isNaN(Z)||typeof j!="string")throw pn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!_.call(this)){ne=isNaN(ne)?void 0:ne;var re=ee(this.ctx.transform.rotation),ce=this.ctx.transform.scaleX;T.call(this,{text:j,x:R,y:Z,scale:ce,renderingMode:"stroke",angle:re,align:this.textAlign,maxWidth:ne})}},d.prototype.measureText=function(j){if(typeof j!="string")throw pn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var R=this.pdf,Z=this.pdf.internal.scaleFactor,ne=R.internal.getFontSize(),re=R.getStringUnitWidth(j)*ne/R.internal.scaleFactor;return new function(ce){var we=(ce=ce||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return we}}),this}({width:re*=Math.round(96*Z/72*1e4)/1e4})},d.prototype.scale=function(j,R){if(isNaN(j)||isNaN(R))throw pn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Z=new l(j,0,0,R,0,0);this.ctx.transform=this.ctx.transform.multiply(Z)},d.prototype.rotate=function(j){if(isNaN(j))throw pn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var R=new l(Math.cos(j),Math.sin(j),-Math.sin(j),Math.cos(j),0,0);this.ctx.transform=this.ctx.transform.multiply(R)},d.prototype.translate=function(j,R){if(isNaN(j)||isNaN(R))throw pn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Z=new l(1,0,0,1,j,R);this.ctx.transform=this.ctx.transform.multiply(Z)},d.prototype.transform=function(j,R,Z,ne,re,ce){if(isNaN(j)||isNaN(R)||isNaN(Z)||isNaN(ne)||isNaN(re)||isNaN(ce))throw pn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var we=new l(j,R,Z,ne,re,ce);this.ctx.transform=this.ctx.transform.multiply(we)},d.prototype.setTransform=function(j,R,Z,ne,re,ce){j=isNaN(j)?1:j,R=isNaN(R)?0:R,Z=isNaN(Z)?0:Z,ne=isNaN(ne)?1:ne,re=isNaN(re)?0:re,ce=isNaN(ce)?0:ce,this.ctx.transform=new l(j,R,Z,ne,re,ce)};var k=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};d.prototype.drawImage=function(j,R,Z,ne,re,ce,we,be,ke){var Re=this.pdf.getImageProperties(j),qe=1,ze=1,it=1,G=1;ne!==void 0&&be!==void 0&&(it=be/ne,G=ke/re,qe=Re.width/ne*be/ne,ze=Re.height/re*ke/re),ce===void 0&&(ce=R,we=Z,R=0,Z=0),ne!==void 0&&be===void 0&&(be=ne,ke=re),ne===void 0&&be===void 0&&(be=Re.width,ke=Re.height);var Be=this.ctx.transform.decompose(),St=ee(Be.rotate.shx),lt=new l,Ee=(lt=(lt=(lt=lt.multiply(Be.translate)).multiply(Be.skew)).multiply(Be.scale)).applyToRectangle(new a(ce-R*it,we-Z*G,ne*qe,re*ze));if(this.autoPaging){for(var Ge,We=D.call(this,Ee),ut=[],st=0;st<We.length;st+=1)ut.indexOf(We[st])===-1&&ut.push(We[st]);L(ut);for(var Kt=ut[0],Nt=ut[ut.length-1],de=Kt;de<Nt+1;de++){this.pdf.setPage(de);var Te=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ve=de===1?this.posY+this.margin[0]:this.margin[0],De=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],$e=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],He=de===1?0:De+(de-2)*$e;if(this.ctx.clip_path.length!==0){var en=this.path;Ge=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=C(Ge,this.posX+this.margin[3],-He+Ve+this.ctx.prevPageLastElemOffset),X.call(this,"fill",!0),this.path=en}var vt=JSON.parse(JSON.stringify(Ee));vt=C([vt],this.posX+this.margin[3],-He+Ve+this.ctx.prevPageLastElemOffset)[0];var wt=(de>Kt||de<Nt)&&k.call(this);wt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Te,$e,null).clip().discardPath()),this.pdf.addImage(j,"JPEG",vt.x,vt.y,vt.w,vt.h,null,null,St),wt&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(j,"JPEG",Ee.x,Ee.y,Ee.w,Ee.h,null,null,St)};var D=function(j,R,Z){var ne=[];R=R||this.pdf.internal.pageSize.width,Z=Z||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var re=this.posY+this.ctx.prevPageLastElemOffset;switch(j.type){default:case"mt":case"lt":ne.push(Math.floor((j.y+re)/Z)+1);break;case"arc":ne.push(Math.floor((j.y+re-j.radius)/Z)+1),ne.push(Math.floor((j.y+re+j.radius)/Z)+1);break;case"qct":var ce=ue(this.ctx.lastPoint.x,this.ctx.lastPoint.y,j.x1,j.y1,j.x,j.y);ne.push(Math.floor((ce.y+re)/Z)+1),ne.push(Math.floor((ce.y+ce.h+re)/Z)+1);break;case"bct":var we=z(this.ctx.lastPoint.x,this.ctx.lastPoint.y,j.x1,j.y1,j.x2,j.y2,j.x,j.y);ne.push(Math.floor((we.y+re)/Z)+1),ne.push(Math.floor((we.y+we.h+re)/Z)+1);break;case"rect":ne.push(Math.floor((j.y+re)/Z)+1),ne.push(Math.floor((j.y+j.h+re)/Z)+1)}for(var be=0;be<ne.length;be+=1)for(;this.pdf.internal.getNumberOfPages()<ne[be];)w.call(this);return ne},w=function(){var j=this.fillStyle,R=this.strokeStyle,Z=this.font,ne=this.lineCap,re=this.lineWidth,ce=this.lineJoin;this.pdf.addPage(),this.fillStyle=j,this.strokeStyle=R,this.font=Z,this.lineCap=ne,this.lineWidth=re,this.lineJoin=ce},C=function(j,R,Z){for(var ne=0;ne<j.length;ne++)switch(j[ne].type){case"bct":j[ne].x2+=R,j[ne].y2+=Z;case"qct":j[ne].x1+=R,j[ne].y1+=Z;default:j[ne].x+=R,j[ne].y+=Z}return j},L=function(j){return j.sort(function(R,Z){return R-Z})},V=function(j,R){var Z=this.fillStyle,ne=this.strokeStyle,re=this.lineCap,ce=this.lineWidth,we=Math.abs(ce*this.ctx.transform.scaleX),be=this.lineJoin;if(this.autoPaging){for(var ke,Re,qe=JSON.parse(JSON.stringify(this.path)),ze=JSON.parse(JSON.stringify(this.path)),it=[],G=0;G<ze.length;G++)if(ze[G].x!==void 0)for(var Be=D.call(this,ze[G]),St=0;St<Be.length;St+=1)it.indexOf(Be[St])===-1&&it.push(Be[St]);for(var lt=0;lt<it.length;lt++)for(;this.pdf.internal.getNumberOfPages()<it[lt];)w.call(this);L(it);for(var Ee=it[0],Ge=it[it.length-1],We=Ee;We<Ge+1;We++){this.pdf.setPage(We),this.fillStyle=Z,this.strokeStyle=ne,this.lineCap=re,this.lineWidth=we,this.lineJoin=be;var ut=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],st=We===1?this.posY+this.margin[0]:this.margin[0],Kt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Nt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],de=We===1?0:Kt+(We-2)*Nt;if(this.ctx.clip_path.length!==0){var Te=this.path;ke=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=C(ke,this.posX+this.margin[3],-de+st+this.ctx.prevPageLastElemOffset),X.call(this,j,!0),this.path=Te}if(Re=JSON.parse(JSON.stringify(qe)),this.path=C(Re,this.posX+this.margin[3],-de+st+this.ctx.prevPageLastElemOffset),R===!1||We===0){var Ve=(We>Ee||We<Ge)&&k.call(this);Ve&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ut,Nt,null).clip().discardPath()),X.call(this,j,R),Ve&&this.pdf.restoreGraphicsState()}this.lineWidth=ce}this.path=qe}else this.lineWidth=we,X.call(this,j,R),this.lineWidth=ce},X=function(j,R){if((j!=="stroke"||R||!_.call(this))&&(j==="stroke"||R||!p.call(this))){for(var Z,ne,re=[],ce=this.path,we=0;we<ce.length;we++){var be=ce[we];switch(be.type){case"begin":re.push({begin:!0});break;case"close":re.push({close:!0});break;case"mt":re.push({start:be,deltas:[],abs:[]});break;case"lt":var ke=re.length;if(ce[we-1]&&!isNaN(ce[we-1].x)&&(Z=[be.x-ce[we-1].x,be.y-ce[we-1].y],ke>0)){for(;ke>=0;ke--)if(re[ke-1].close!==!0&&re[ke-1].begin!==!0){re[ke-1].deltas.push(Z),re[ke-1].abs.push(be);break}}break;case"bct":Z=[be.x1-ce[we-1].x,be.y1-ce[we-1].y,be.x2-ce[we-1].x,be.y2-ce[we-1].y,be.x-ce[we-1].x,be.y-ce[we-1].y],re[re.length-1].deltas.push(Z);break;case"qct":var Re=ce[we-1].x+2/3*(be.x1-ce[we-1].x),qe=ce[we-1].y+2/3*(be.y1-ce[we-1].y),ze=be.x+2/3*(be.x1-be.x),it=be.y+2/3*(be.y1-be.y),G=be.x,Be=be.y;Z=[Re-ce[we-1].x,qe-ce[we-1].y,ze-ce[we-1].x,it-ce[we-1].y,G-ce[we-1].x,Be-ce[we-1].y],re[re.length-1].deltas.push(Z);break;case"arc":re.push({deltas:[],abs:[],arc:!0}),Array.isArray(re[re.length-1].abs)&&re[re.length-1].abs.push(be)}}ne=R?null:j==="stroke"?"stroke":"fill";for(var St=!1,lt=0;lt<re.length;lt++)if(re[lt].arc)for(var Ee=re[lt].abs,Ge=0;Ge<Ee.length;Ge++){var We=Ee[Ge];We.type==="arc"?A.call(this,We.x,We.y,We.radius,We.startAngle,We.endAngle,We.counterclockwise,void 0,R,!St):N.call(this,We.x,We.y),St=!0}else if(re[lt].close===!0)this.pdf.internal.out("h"),St=!1;else if(re[lt].begin!==!0){var ut=re[lt].start.x,st=re[lt].start.y;J.call(this,re[lt].deltas,ut,st),St=!0}ne&&E.call(this,ne),R&&I.call(this)}},W=function(j){var R=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Z=R*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return j-Z;case"top":return j+R-Z;case"hanging":return j+R-2*Z;case"middle":return j+R/2-Z;default:return j}},F=function(j){return j+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};d.prototype.createLinearGradient=function(){var j=function(){};return j.colorStops=[],j.addColorStop=function(R,Z){this.colorStops.push([R,Z])},j.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},j.isCanvasGradient=!0,j},d.prototype.createPattern=function(){return this.createLinearGradient()},d.prototype.createRadialGradient=function(){return this.createLinearGradient()};var A=function(j,R,Z,ne,re,ce,we,be,ke){for(var Re=ye.call(this,Z,ne,re,ce),qe=0;qe<Re.length;qe++){var ze=Re[qe];qe===0&&(ke?x.call(this,ze.x1+j,ze.y1+R):N.call(this,ze.x1+j,ze.y1+R)),ae.call(this,j,R,ze.x2,ze.y2,ze.x3,ze.y3,ze.x4,ze.y4)}be?I.call(this):E.call(this,we)},E=function(j){switch(j){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},I=function(){this.pdf.clip(),this.pdf.discardPath()},x=function(j,R){this.pdf.internal.out(n(j)+" "+r(R)+" m")},T=function(j){var R;switch(j.align){case"right":case"end":R="right";break;case"center":R="center";break;default:R="left"}var Z,ne,re,ce=this.pdf.getTextDimensions(j.text),we=W.call(this,j.y),be=F.call(this,we)-ce.h,ke=this.ctx.transform.applyToPoint(new o(j.x,we));if(this.autoPaging){var Re=this.ctx.transform.decompose(),qe=new l;qe=(qe=(qe=qe.multiply(Re.translate)).multiply(Re.skew)).multiply(Re.scale);for(var ze=this.ctx.transform.applyToRectangle(new a(j.x,we,ce.w,ce.h)),it=qe.applyToRectangle(new a(j.x,be,ce.w,ce.h)),G=D.call(this,it),Be=[],St=0;St<G.length;St+=1)Be.indexOf(G[St])===-1&&Be.push(G[St]);L(Be);for(var lt=Be[0],Ee=Be[Be.length-1],Ge=lt;Ge<Ee+1;Ge++){this.pdf.setPage(Ge);var We=Ge===1?this.posY+this.margin[0]:this.margin[0],ut=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],st=this.pdf.internal.pageSize.height-this.margin[2],Kt=st-this.margin[0],Nt=this.pdf.internal.pageSize.width-this.margin[1],de=Nt-this.margin[3],Te=Ge===1?0:ut+(Ge-2)*Kt;if(this.ctx.clip_path.length!==0){var Ve=this.path;Z=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=C(Z,this.posX+this.margin[3],-1*Te+We),X.call(this,"fill",!0),this.path=Ve}var De=C([JSON.parse(JSON.stringify(it))],this.posX+this.margin[3],-Te+We+this.ctx.prevPageLastElemOffset)[0];j.scale>=.01&&(ne=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ne*j.scale),re=this.lineWidth,this.lineWidth=re*j.scale);var $e=this.autoPaging!=="text";if($e||De.y+De.h<=st){if($e||De.y>=We&&De.x<=Nt){var He=$e?j.text:this.pdf.splitTextToSize(j.text,j.maxWidth||Nt-De.x)[0],en=C([JSON.parse(JSON.stringify(ze))],this.posX+this.margin[3],-Te+We+this.ctx.prevPageLastElemOffset)[0],vt=$e&&(Ge>lt||Ge<Ee)&&k.call(this);vt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],de,Kt,null).clip().discardPath()),this.pdf.text(He,en.x,en.y,{angle:j.angle,align:R,renderingMode:j.renderingMode}),vt&&this.pdf.restoreGraphicsState()}}else De.y<st&&(this.ctx.prevPageLastElemOffset+=st-De.y);j.scale>=.01&&(this.pdf.setFontSize(ne),this.lineWidth=re)}}else j.scale>=.01&&(ne=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ne*j.scale),re=this.lineWidth,this.lineWidth=re*j.scale),this.pdf.text(j.text,ke.x+this.posX,ke.y+this.posY,{angle:j.angle,align:R,renderingMode:j.renderingMode,maxWidth:j.maxWidth}),j.scale>=.01&&(this.pdf.setFontSize(ne),this.lineWidth=re)},N=function(j,R,Z,ne){Z=Z||0,ne=ne||0,this.pdf.internal.out(n(j+Z)+" "+r(R+ne)+" l")},J=function(j,R,Z){return this.pdf.lines(j,R,Z,null,null)},ae=function(j,R,Z,ne,re,ce,we,be){this.pdf.internal.out([e(i(Z+j)),e(s(ne+R)),e(i(re+j)),e(s(ce+R)),e(i(we+j)),e(s(be+R)),"c"].join(" "))},ye=function(j,R,Z,ne){for(var re=2*Math.PI,ce=Math.PI/2;R>Z;)R-=re;var we=Math.abs(Z-R);we<re&&ne&&(we=re-we);for(var be=[],ke=ne?-1:1,Re=R;we>1e-5;){var qe=Re+ke*Math.min(we,ce);be.push(ve.call(this,j,Re,qe)),we-=Math.abs(qe-Re),Re=qe}return be},ve=function(j,R,Z){var ne=(Z-R)/2,re=j*Math.cos(ne),ce=j*Math.sin(ne),we=re,be=-ce,ke=we*we+be*be,Re=ke+we*re+be*ce,qe=4/3*(Math.sqrt(2*ke*Re)-Re)/(we*ce-be*re),ze=we-qe*be,it=be+qe*we,G=ze,Be=-it,St=ne+R,lt=Math.cos(St),Ee=Math.sin(St);return{x1:j*Math.cos(R),y1:j*Math.sin(R),x2:ze*lt-it*Ee,y2:ze*Ee+it*lt,x3:G*lt-Be*Ee,y3:G*Ee+Be*lt,x4:j*Math.cos(Z),y4:j*Math.sin(Z)}},ee=function(j){return 180*j/Math.PI},ue=function(j,R,Z,ne,re,ce){var we=j+.5*(Z-j),be=R+.5*(ne-R),ke=re+.5*(Z-re),Re=ce+.5*(ne-ce),qe=Math.min(j,re,we,ke),ze=Math.max(j,re,we,ke),it=Math.min(R,ce,be,Re),G=Math.max(R,ce,be,Re);return new a(qe,it,ze-qe,G-it)},z=function(j,R,Z,ne,re,ce,we,be){var ke,Re,qe,ze,it,G,Be,St,lt,Ee,Ge,We,ut,st,Kt=Z-j,Nt=ne-R,de=re-Z,Te=ce-ne,Ve=we-re,De=be-ce;for(Re=0;Re<41;Re++)lt=(Be=(qe=j+(ke=Re/40)*Kt)+ke*((it=Z+ke*de)-qe))+ke*(it+ke*(re+ke*Ve-it)-Be),Ee=(St=(ze=R+ke*Nt)+ke*((G=ne+ke*Te)-ze))+ke*(G+ke*(ce+ke*De-G)-St),Re==0?(Ge=lt,We=Ee,ut=lt,st=Ee):(Ge=Math.min(Ge,lt),We=Math.min(We,Ee),ut=Math.max(ut,lt),st=Math.max(st,Ee));return new a(Math.round(Ge),Math.round(We),Math.round(ut-Ge),Math.round(st-We))},_e=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var j,R,Z=(j=this.ctx.lineDash,R=this.ctx.lineDashOffset,JSON.stringify({lineDash:j,lineDashOffset:R}));this.prevLineDash!==Z&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Z)}}})(at.API),function(t){var e=function(o){var a,l,u,c,d,g,p,_,k,D;for(l=[],u=0,c=(o+=a="\0\0\0\0".slice(o.length%4||4)).length;c>u;u+=4)(d=(o.charCodeAt(u)<<24)+(o.charCodeAt(u+1)<<16)+(o.charCodeAt(u+2)<<8)+o.charCodeAt(u+3))!==0?(g=(d=((d=((d=((d=(d-(D=d%85))/85)-(k=d%85))/85)-(_=d%85))/85)-(p=d%85))/85)%85,l.push(g+33,p+33,_+33,k+33,D+33)):l.push(122);return function(w,C){for(var L=C;L>0;L--)w.pop()}(l,a.length),String.fromCharCode.apply(String,l)+"~>"},n=function(o){var a,l,u,c,d,g=String,p="length",_=255,k="charCodeAt",D="slice",w="replace";for(o[D](-2),o=o[D](0,-2)[w](/\s/g,"")[w]("z","!!!!!"),u=[],c=0,d=(o+=a="uuuuu"[D](o[p]%5||5))[p];d>c;c+=5)l=52200625*(o[k](c)-33)+614125*(o[k](c+1)-33)+7225*(o[k](c+2)-33)+85*(o[k](c+3)-33)+(o[k](c+4)-33),u.push(_&l>>24,_&l>>16,_&l>>8,_&l);return function(C,L){for(var V=L;V>0;V--)C.pop()}(u,a[p]),g.fromCharCode.apply(g,u)},r=function(o){return o.split("").map(function(a){return("0"+a.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(o){var a=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),a.test(o)===!1)return"";for(var l="",u=0;u<o.length;u+=2)l+=String.fromCharCode("0x"+(o[u]+o[u+1]));return l},s=function(o){for(var a=new Uint8Array(o.length),l=o.length;l--;)a[l]=o.charCodeAt(l);return(a=uy(a)).reduce(function(u,c){return u+String.fromCharCode(c)},"")};t.processDataByFilters=function(o,a){var l=0,u=o||"",c=[];for(typeof(a=a||[])=="string"&&(a=[a]),l=0;l<a.length;l+=1)switch(a[l]){case"ASCII85Decode":case"/ASCII85Decode":u=n(u),c.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=e(u),c.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=i(u),c.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=r(u),c.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=s(u),c.push("/FlateDecode");break;default:throw new Error('The filter: "'+a[l]+'" is not implemented')}return{data:u,reverseChain:c.reverse().join(" ")}}}(at.API),function(t){t.loadFile=function(e,n,r){return function(i,s,o){s=s!==!1,o=typeof o=="function"?o:function(){};var a=void 0;try{a=function(l,u,c){var d=new XMLHttpRequest,g=0,p=function(_){var k=_.length,D=[],w=String.fromCharCode;for(g=0;g<k;g+=1)D.push(w(255&_.charCodeAt(g)));return D.join("")};if(d.open("GET",l,!u),d.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(d.onload=function(){d.status===200?c(p(this.responseText)):c(void 0)}),d.send(null),u&&d.status===200)return p(d.responseText)}(i,s,o)}catch{}return a}(e,n,r)},t.loadImageFile=t.loadFile}(at.API),function(t){function e(){return(At.html2canvas?Promise.resolve(At.html2canvas):i0(()=>import("./html2canvas.esm-CBrSDip1.js"),[],import.meta.url)).catch(function(a){return Promise.reject(new Error("Could not load html2canvas: "+a))}).then(function(a){return a.default?a.default:a})}function n(){return(At.DOMPurify?Promise.resolve(At.DOMPurify):i0(()=>import("./purify.es-B6FQ9oRL.js"),[],import.meta.url)).catch(function(a){return Promise.reject(new Error("Could not load dompurify: "+a))}).then(function(a){return a.default?a.default:a})}var r=function(a){var l=ln(a);return l==="undefined"?"undefined":l==="string"||a instanceof String?"string":l==="number"||a instanceof Number?"number":l==="function"||a instanceof Function?"function":a&&a.constructor===Array?"array":a&&a.nodeType===1?"element":l==="object"?"object":"unknown"},i=function(a,l){var u=document.createElement(a);for(var c in l.className&&(u.className=l.className),l.innerHTML&&l.dompurify&&(u.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)u.style[c]=l.style[c];return u},s=function a(l,u){for(var c=l.nodeType===3?document.createTextNode(l.nodeValue):l.cloneNode(!1),d=l.firstChild;d;d=d.nextSibling)u!==!0&&d.nodeType===1&&d.nodeName==="SCRIPT"||c.appendChild(a(d,u));return l.nodeType===1&&(l.nodeName==="CANVAS"?(c.width=l.width,c.height=l.height,c.getContext("2d").drawImage(l,0,0)):l.nodeName!=="TEXTAREA"&&l.nodeName!=="SELECT"||(c.value=l.value),c.addEventListener("load",function(){c.scrollTop=l.scrollTop,c.scrollLeft=l.scrollLeft},!0)),c},o=function a(l){var u=Object.assign(a.convert(Promise.resolve()),JSON.parse(JSON.stringify(a.template))),c=a.convert(Promise.resolve(),u);return(c=c.setProgress(1,a,1,[a])).set(l)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(a,l){return a.__proto__=l||o.prototype,a},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(a,l){return this.then(function(){switch(l=l||function(u){switch(r(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(a),l){case"string":return this.then(n).then(function(u){return this.set({src:i("div",{innerHTML:a,dompurify:u})})});case"element":return this.set({src:a});case"canvas":return this.set({canvas:a});case"img":return this.set({img:a});default:return this.error("Unknown source type.")}})},o.prototype.to=function(a){switch(a){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var a={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=s(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(a.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:a}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(l){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,l(this.prop.container,u)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(l){var u=this.opt.jsPDF,c=this.opt.fontFaces,d=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,g=Object.assign({async:!0,allowTaint:!0,scale:d,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete g.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=c,c)for(var p=0;p<c.length;++p){var _=c[p],k=_.src.find(function(D){return D.format==="truetype"});k&&u.addFont(k.url,_.ref.name,_.ref.style)}return g.windowHeight=g.windowHeight||0,g.windowHeight=g.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):g.windowHeight,u.context2d.save(!0),l(this.prop.container,g)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var a=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=a})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(a,l,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(a,l):this.outputPdf(a,l)},o.prototype.outputPdf=function(a,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(a,l)})},o.prototype.outputImg=function(a){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(a){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+a+'" is not supported.'}})},o.prototype.save=function(a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(a?{filename:a}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(a){if(r(a)!=="object")return this;var l=Object.keys(a||{}).map(function(u){if(u in o.template.prop)return function(){this.prop[u]=a[u]};switch(u){case"margin":return this.setMargin.bind(this,a.margin);case"jsPDF":return function(){return this.opt.jsPDF=a.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,a.pageSize);default:return function(){this.opt[u]=a[u]}}},this);return this.then(function(){return this.thenList(l)})},o.prototype.get=function(a,l){return this.then(function(){var u=a in o.template.prop?this.prop[a]:this.opt[a];return l?l(u):u})},o.prototype.setMargin=function(a){return this.then(function(){switch(r(a)){case"number":a=[a,a,a,a];case"array":if(a.length===2&&(a=[a[0],a[1],a[0],a[1]]),a.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=a}).then(this.setPageSize)},o.prototype.setPageSize=function(a){function l(u,c){return Math.floor(u*c/72*96)}return this.then(function(){(a=a||at.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(a.inner={width:a.width-this.opt.margin[1]-this.opt.margin[3],height:a.height-this.opt.margin[0]-this.opt.margin[2]},a.inner.px={width:l(a.inner.width,a.k),height:l(a.inner.height,a.k)},a.inner.ratio=a.inner.height/a.inner.width),this.prop.pageSize=a})},o.prototype.setProgress=function(a,l,u,c){return a!=null&&(this.progress.val=a),l!=null&&(this.progress.state=l),u!=null&&(this.progress.n=u),c!=null&&(this.progress.stack=c),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(a,l,u,c){return this.setProgress(a?this.progress.val+a:null,l||null,u?this.progress.n+u:null,c?this.progress.stack.concat(c):null)},o.prototype.then=function(a,l){var u=this;return this.thenCore(a,l,function(c,d){return u.updateProgress(null,null,1,[c]),Promise.prototype.then.call(this,function(g){return u.updateProgress(null,c),g}).then(c,d).then(function(g){return u.updateProgress(1),g})})},o.prototype.thenCore=function(a,l,u){u=u||Promise.prototype.then;var c=this;a&&(a=a.bind(c)),l&&(l=l.bind(c));var d=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?c:o.convert(Object.assign({},c),Promise.prototype),g=u.call(d,a,l);return o.convert(g,c.__proto__)},o.prototype.thenExternal=function(a,l){return Promise.prototype.then.call(this,a,l)},o.prototype.thenList=function(a){var l=this;return a.forEach(function(u){l=l.thenCore(u)}),l},o.prototype.catch=function(a){a&&(a=a.bind(this));var l=Promise.prototype.catch.call(this,a);return o.convert(l,this)},o.prototype.catchExternal=function(a){return Promise.prototype.catch.call(this,a)},o.prototype.error=function(a){return this.then(function(){throw new Error(a)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,at.getPageSize=function(a,l,u){if(ln(a)==="object"){var c=a;a=c.orientation,l=c.unit||l,u=c.format||u}l=l||"mm",u=u||"a4",a=(""+(a||"P")).toLowerCase();var d,g=(""+u).toLowerCase(),p={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":d=1;break;case"mm":d=72/25.4;break;case"cm":d=72/2.54;break;case"in":d=72;break;case"px":d=.75;break;case"pc":case"em":d=12;break;case"ex":d=6;break;default:throw"Invalid unit: "+l}var _,k=0,D=0;if(p.hasOwnProperty(g))k=p[g][1]/d,D=p[g][0]/d;else try{k=u[1],D=u[0]}catch{throw new Error("Invalid format: "+u)}if(a==="p"||a==="portrait")a="p",D>k&&(_=D,D=k,k=_);else{if(a!=="l"&&a!=="landscape")throw"Invalid orientation: "+a;a="l",k>D&&(_=D,D=k,k=_)}return{width:D,height:k,unit:l,k:d,orientation:a}},t.html=function(a,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(x0):null;var u=new o(l);return l.worker?u:u.from(a).doCallback()}}(at.API),at.API.addJS=function(t){return ux=t,this.internal.events.subscribe("postPutResources",function(){cp=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(cp+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),lx=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+ux+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){cp!==void 0&&lx!==void 0&&this.internal.out("/Names <</JavaScript "+cp+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),s=0;s<i.length;s++){var o=i[s],a=r.exec(o);if(a!=null){var l=a[1];n.internal.newObjectDeferredBegin(l,!1)}n.internal.write(o)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,c=[];for(s=0;s<u;s++){var d=n.internal.newObject();c.push(d);var g=n.internal.getPageInfo(s+1);n.internal.write("<< /D["+g.objId+" 0 R /XYZ null null null]>> endobj")}var p=n.internal.newObject();for(n.internal.write("<< /Names [ "),s=0;s<c.length;s++)n.internal.write("(page_"+(s+1)+")"+c[s]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+p+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var n=this;n.outline.root.children.length>0&&(n.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&n.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,i,s){var o={title:i,options:s,children:[]};return r==null&&(r=this.root),r.children.push(o),o},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<r.children.length;s++){var o=r.children[s];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(r)),s>0&&this.line("/Prev "+this.makeRef(r.children[s-1])),s<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[s+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var a=this.count=this.count_r({count:0},o);if(a>0&&this.line("/Count "+a),o.options&&o.options.pageNumber){var l=n.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var u=0;u<r.children.length;u++)this.renderItems(r.children[u])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,i){for(var s=0;s<i.children.length;s++)r.count++,this.count_r(r,i.children[s]);return r.count}}])}(at.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,r,i,s,o,a){var l,u=this.decode.DCT_DECODE,c=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=o||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,l=function(d){for(var g,p=256*d.charCodeAt(4)+d.charCodeAt(5),_=d.length,k={width:0,height:0,numcomponents:1},D=4;D<_;D+=2){if(D+=p,e.indexOf(d.charCodeAt(D+1))!==-1){g=256*d.charCodeAt(D+5)+d.charCodeAt(D+6),k={width:256*d.charCodeAt(D+7)+d.charCodeAt(D+8),height:g,numcomponents:d.charCodeAt(D+9)};break}p=256*d.charCodeAt(D+2)+d.charCodeAt(D+3)}return k}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n),l.numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}c={data:n,width:l.width,height:l.height,colorSpace:a,bitsPerComponent:8,filter:u,index:r,alias:i}}return c}}(at.API),at.API.processPNG=function(t,e,n,r){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var i,s=dG(t,{checkCrc:!0}),o=s.width,a=s.height,l=s.channels,u=s.palette,c=s.depth;i=u&&l===1?function(A){for(var E=A.width,I=A.height,x=A.data,T=A.palette,N=A.depth,J=!1,ae=[],ye=[],ve=void 0,ee=!1,ue=0,z=0;z<T.length;z++){var _e=d3(T[z],4),j=_e[0],R=_e[1],Z=_e[2],ne=_e[3];ae.push(j,R,Z),ne!=null&&(ne===0?(ue++,ye.length<1&&ye.push(z)):ne<255&&(ee=!0))}if(ee||ue>1){J=!0,ye=void 0;var re=E*I;ve=new Uint8Array(re);for(var ce=new DataView(x.buffer),we=0;we<re;we++){var be=S0(ce,we,N),ke=d3(T[be],4)[3];ve[we]=ke}}else ue===0&&(ye=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:J?8:void 0,colorBytes:x,alphaBytes:ve,needSMask:J,palette:ae,mask:ye}}(s):l===2||l===4?function(A){for(var E=A.data,I=A.width,x=A.height,T=A.channels,N=A.depth,J=T===2?"DeviceGray":"DeviceRGB",ae=T-1,ye=I*x,ve=ae,ee=ye*ve,ue=1*ye,z=Math.ceil(ee*N/8),_e=Math.ceil(ue*N/8),j=new Uint8Array(z),R=new Uint8Array(_e),Z=new DataView(E.buffer),ne=new DataView(j.buffer),re=new DataView(R.buffer),ce=!1,we=0;we<ye;we++){for(var be=we*T,ke=0;ke<ve;ke++)vx(ne,S0(Z,be+ke,N),we*ve+ke,N);var Re=S0(Z,be+ve,N);Re<(1<<N)-1&&(ce=!0),vx(re,Re,1*we,N)}return{colorSpace:J,colorsPerPixel:ae,sMaskBitsPerComponent:ce?N:void 0,colorBytes:j,alphaBytes:R,needSMask:ce}}(s):function(A){var E=A.data,I=A.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:I,colorsPerPixel:I==="DeviceGray"?1:3,colorBytes:E instanceof Uint16Array?function(x){for(var T=x.length,N=new Uint8Array(2*T),J=new DataView(N.buffer,N.byteOffset,N.byteLength),ae=0;ae<T;ae++)J.setUint16(2*ae,x[ae],!1);return N}(E):E,needSMask:!1}}(s);var d,g,p,_=i,k=_.colorSpace,D=_.colorsPerPixel,w=_.sMaskBitsPerComponent,C=_.colorBytes,L=_.alphaBytes,V=_.needSMask,X=_.palette,W=_.mask,F=null;return r!==at.API.image_compression.NONE&&typeof uy=="function"?(F=function(A){var E;switch(A){case at.API.image_compression.FAST:E=11;break;case at.API.image_compression.MEDIUM:E=13;break;case at.API.image_compression.SLOW:E=14;break;default:E=12}return E}(r),d=this.decode.FLATE_DECODE,g="/Predictor ".concat(F," /Colors ").concat(D," /BitsPerComponent ").concat(c," /Columns ").concat(o),t=dx(C,Math.ceil(o*D*c/8),D,c,r),V&&(p=dx(L,Math.ceil(o*w/8),1,w,r))):(d=void 0,g=void 0,t=C,V&&(p=L)),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(p&&this.__addimage__.isArrayBuffer(p)||this.__addimage__.isArrayBufferView(p))&&(p=this.__addimage__.arrayBufferToBinaryString(p)),{alias:n,data:t,index:e,filter:d,decodeParameters:g,transparency:W,palette:X,sMask:p,predictor:F,width:o,height:a,bitsPerComponent:c,sMaskBitsPerComponent:w,colorSpace:k}}},function(t){t.processGIF89A=function(e,n,r,i){var s=new DG(e),o=s.width,a=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var u={data:l,width:o,height:a},c=new A0(100).encode(u,100);return t.processJPEG.call(this,c,n,r,i)},t.processGIF87A=t.processGIF89A}(at.API),Bs.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:n,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Bs.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(n){pn.log("bit decode error:"+n)}},Bs.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+8*i*4,a=0;a<8&&8*i+a<this.width;a++){var l=this.palette[s>>7-a&1];this.data[o+4*a]=l.blue,this.data[o+4*a+1]=l.green,this.data[o+4*a+2]=l.red,this.data[o+4*a+3]=255}n!==0&&(this.pos+=4-n)}},Bs.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<t;i++){var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+2*i*4,a=s>>4,l=15&s,u=this.palette[a];if(this.data[o]=u.blue,this.data[o+1]=u.green,this.data[o+2]=u.red,this.data[o+3]=255,2*i+1>=this.width)break;u=this.palette[l],this.data[o+4]=u.blue,this.data[o+4+1]=u.green,this.data[o+4+2]=u.red,this.data[o+4+3]=255}e!==0&&(this.pos+=4-e)}},Bs.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+4*r;if(i<this.palette.length){var o=this.palette[i];this.data[s]=o.red,this.data[s+1]=o.green,this.data[s+2]=o.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}t!==0&&(this.pos+=4-t)}},Bs.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&e)/e*255|0,a=(s>>5&e)/e*255|0,l=(s>>10&e)/e*255|0,u=s>>15?255:0,c=r*this.width*4+4*i;this.data[c]=l,this.data[c+1]=a,this.data[c+2]=o,this.data[c+3]=u}this.pos+=t}},Bs.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(o&e)/e*255|0,l=(o>>5&n)/n*255|0,u=(o>>11)/e*255|0,c=i*this.width*4+4*s;this.data[c]=u,this.data[c+1]=l,this.data[c+2]=a,this.data[c+3]=255}this.pos+=t}},Bs.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*n;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=255}this.pos+=this.width%4}},Bs.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*n;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=o}},Bs.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,n,r,i){var s=new Bs(e,!1),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},u=new A0(100).encode(l,100);return t.processJPEG.call(this,u,n,r,i)}}(at.API),_x.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,n,r,i){var s=new _x(e),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},u=new A0(100).encode(l,100);return t.processJPEG.call(this,u,n,r,i)}}(at.API),at.API.processRGBA=function(t,e,n){for(var r=t.data,i=r.length,s=new Uint8Array(i/4*3),o=new Uint8Array(i/4),a=0,l=0,u=0;u<i;u+=4){var c=r[u],d=r[u+1],g=r[u+2],p=r[u+3];s[a++]=c,s[a++]=d,s[a++]=g,o[l++]=p}var _=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:_,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},at.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Ku=at.API,hp=Ku.getCharWidthsArray=function(t,e){var n,r,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),o=e.charSpace||this.internal.getCharSpace(),a=e.widths?e.widths:i.metadata.Unicode.widths,l=a.fof?a.fof:1,u=e.kerning?e.kerning:i.metadata.Unicode.kerning,c=u.fof?u.fof:1,d=e.doKerning!==!1,g=0,p=t.length,_=0,k=a[0]||l,D=[];for(n=0;n<p;n++)r=t.charCodeAt(n),typeof i.metadata.widthOfString=="function"?D.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+o*(1e3/s)||0)/1e3):(g=d&&ln(u[r])==="object"&&!isNaN(parseInt(u[r][_],10))?u[r][_]/c:0,D.push((a[r]||k)/l+g)),_=r;return D},cx=Ku.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return Ku.processArabic&&(t=Ku.processArabic(t)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(t,n,i)/n:hp.apply(this,arguments).reduce(function(s,o){return s+o},0)},hx=function(t,e,n,r){for(var i=[],s=0,o=t.length,a=0;s!==o&&a+e[s]<n;)a+=e[s],s++;i.push(t.slice(0,s));var l=s;for(a=0;s!==o;)a+e[s]>r&&(i.push(t.slice(l,s)),a=0,l=s),a+=e[s],s++;return l!==s&&i.push(t.slice(l,s)),i},fx=function(t,e,n){n||(n={});var r,i,s,o,a,l,u,c=[],d=[c],g=n.textIndent||0,p=0,_=0,k=t.split(" "),D=hp.apply(this,[" ",n])[0];if(l=n.lineIndent===-1?k[0].length+2:n.lineIndent||0){var w=Array(l).join(" "),C=[];k.map(function(V){(V=V.split(/\s*\n/)).length>1?C=C.concat(V.map(function(X,W){return(W&&X.length?`
`:"")+X})):C.push(V[0])}),k=C,l=cx.apply(this,[w,n])}for(s=0,o=k.length;s<o;s++){var L=0;if(r=k[s],l&&r[0]==`
`&&(r=r.substr(1),L=1),g+p+(_=(i=hp.apply(this,[r,n])).reduce(function(V,X){return V+X},0))>e||L){if(_>e){for(a=hx.apply(this,[r,i,e-(g+p),e]),c.push(a.shift()),c=[a.pop()];a.length;)d.push([a.shift()]);_=i.slice(r.length-(c[0]?c[0].length:0)).reduce(function(V,X){return V+X},0)}else c=[r];d.push(c),g=_+l,p=D}else c.push(r),g+=p+_,p=D}return u=l?function(V,X){return(X?w:"")+V.join(" ")}:function(V){return V.join(" ")},d.map(u)},Ku.splitTextToSize=function(t,e,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),s=(function(c){if(c.widths&&c.kerning)return{widths:c.widths,kerning:c.kerning};var d=this.internal.getFont(c.fontName,c.fontStyle),g="Unicode";return d.metadata[g]?{widths:d.metadata[g].widths||{0:1},kerning:d.metadata[g].kerning||{}}:{font:d.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(t)?t:String(t).split(/\r?\n/);var o=1*this.internal.scaleFactor*e/i;s.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=n.lineIndent;var a,l,u=[];for(a=0,l=r.length;a<l;a++)u=u.concat(fx.apply(this,[r[a],o,s]));return u},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",n="klmnopqrstuvwxyz",r={},i={},s=0;s<16;s++)r[n[s]]=e[s],i[e[s]]=n[s];var o=function(g){return"0x"+parseInt(g,10).toString(16)},a=t.__fontmetrics__.compress=function(g){var p,_,k,D,w=["{"];for(var C in g){if(p=g[C],isNaN(parseInt(C,10))?_="'"+C+"'":(C=parseInt(C,10),_=(_=o(C).slice(2)).slice(0,-1)+i[_.slice(-1)]),typeof p=="number")p<0?(k=o(p).slice(3),D="-"):(k=o(p).slice(2),D=""),k=D+k.slice(0,-1)+i[k.slice(-1)];else{if(ln(p)!=="object")throw new Error("Don't know what to do with value type "+ln(p)+".");k=a(p)}w.push(_+k)}return w.push("}"),w.join("")},l=t.__fontmetrics__.uncompress=function(g){if(typeof g!="string")throw new Error("Invalid argument passed to uncompress.");for(var p,_,k,D,w={},C=1,L=w,V=[],X="",W="",F=g.length-1,A=1;A<F;A+=1)(D=g[A])=="'"?p?(k=p.join(""),p=void 0):p=[]:p?p.push(D):D=="{"?(V.push([L,k]),L={},k=void 0):D=="}"?((_=V.pop())[0][_[1]]=L,k=void 0,L=_[0]):D=="-"?C=-1:k===void 0?r.hasOwnProperty(D)?(X+=r[D],k=parseInt(X,16)*C,C=1,X=""):X+=D:r.hasOwnProperty(D)?(W+=r[D],L[k]=parseInt(W,16)*C,C=1,k=void 0,W=""):W+=D;return w},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},c={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},d={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(g){var p=g.font,_=d.Unicode[p.postScriptName];_&&(p.metadata.Unicode={},p.metadata.Unicode.widths=_.widths,p.metadata.Unicode.kerning=_.kerning);var k=c.Unicode[p.postScriptName];k&&(p.metadata.Unicode.encoding=k,p.encoding=k.codePages[0])}])}(at.API),function(t){var e=function(n){for(var r=n.length,i=new Uint8Array(r),s=0;s<r;s++)i[s]=n.charCodeAt(s);return i};t.API.events.push(["addFont",function(n){var r=void 0,i=n.font,s=n.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(o,a){a=/^\x00\x01\x00\x00/.test(a)?e(a):e(Fp(a)),o.metadata=t.API.TTFFont.open(a),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(i,r)}}])}(at),at.API.addSvgAsImage=function(t,e,n,r,i,s,o,a){if(isNaN(e)||isNaN(n))throw pn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(i))throw pn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var l=document.createElement("canvas");l.width=r,l.height=i;var u=l.getContext("2d");u.fillStyle="#fff",u.fillRect(0,0,l.width,l.height);var c={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},d=this;return(At.canvg?Promise.resolve(At.canvg):i0(()=>import("./index.es-ClkLlnEJ.js"),[],import.meta.url)).catch(function(g){return Promise.reject(new Error("Could not load canvg: "+g))}).then(function(g){return g.default?g.default:g}).then(function(g){return g.fromString(u,t,c)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(g){return g.render(c)}).then(function(){d.addImage(l.toDataURL("image/jpeg",1),e,n,r,i,o,a)})},at.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,n);return this},at.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var r,i,s,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(o),l=[],u=0,c=0,d=0;function g(_,k){var D,w=!1;for(D=0;D<_.length;D+=1)_[D]===k&&(w=!0);return w}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var p=a.length;for(d=0;d<p;d+=1)n[a[d]].value=n[a[d]].defaultValue,n[a[d]].explicitSet=!1}if(ln(t)==="object"){for(i in t)if(s=t[i],g(a,i)&&s!==void 0){if(n[i].type==="boolean"&&typeof s=="boolean")n[i].value=s;else if(n[i].type==="name"&&g(n[i].valueSet,s))n[i].value=s;else if(n[i].type==="integer"&&Number.isInteger(s))n[i].value=s;else if(n[i].type==="array"){for(u=0;u<s.length;u+=1)if(r=!0,s[u].length===1&&typeof s[u][0]=="number")l.push(String(s[u]-1));else if(s[u].length>1){for(c=0;c<s[u].length;c+=1)typeof s[u][c]!="number"&&(r=!1);r===!0&&l.push([s[u][0]-1,s[u][1]-1].join(" "))}n[i].value="["+l.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var _,k=[];for(_ in n)n[_].explicitSet===!0&&(n[_].type==="name"?k.push("/"+_+" /"+n[_].value):k.push("/"+_+" "+n[_].value));k.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+k.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(t){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(r)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),a=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),u=s.length+o.length+a.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(i+s+o+a+l),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",e)),this}}(at.API),function(t){var e=t.API,n=e.pdfEscape16=function(s,o){for(var a,l=o.metadata.Unicode.widths,u=["","0","00","000","0000"],c=[""],d=0,g=s.length;d<g;++d){if(a=o.metadata.characterToGlyph(s.charCodeAt(d)),o.metadata.glyIdsUsed.push(a),o.metadata.toUnicode[a]=s.charCodeAt(d),l.indexOf(a)==-1&&(l.push(a),l.push([parseInt(o.metadata.widthOfGlyph(a),10)])),a=="0")return c.join("");a=a.toString(16),c.push(u[4-a.length],a)}return c.join("")},r=function(s){var o,a,l,u,c,d,g;for(c=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],d=0,g=(a=Object.keys(s).sort(function(p,_){return p-_})).length;d<g;d++)o=a[d],l.length>=100&&(c+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),s[o]!==void 0&&s[o]!==null&&typeof s[o].toString=="function"&&(u=("0000"+s[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),l.push("<"+o+"><"+u+">"));return l.length&&(c+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),c+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(o){var a=o.font,l=o.out,u=o.newObject,c=o.putStream;if(a.metadata instanceof t.API.TTFFont&&a.encoding==="Identity-H"){for(var d=a.metadata.Unicode.widths,g=a.metadata.subset.encode(a.metadata.glyIdsUsed,1),p="",_=0;_<g.length;_++)p+=String.fromCharCode(g[_]);var k=u();c({data:p,addLength1:!0,objectId:k}),l("endobj");var D=u();c({data:r(a.metadata.toUnicode),addLength1:!0,objectId:D}),l("endobj");var w=u();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+tc(a.fontName)),l("/FontFile2 "+k+" 0 R"),l("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),l("/Flags "+a.metadata.flags),l("/StemV "+a.metadata.stemV),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l(">>"),l("endobj");var C=u();l("<<"),l("/Type /Font"),l("/BaseFont /"+tc(a.fontName)),l("/FontDescriptor "+w+" 0 R"),l("/W "+t.API.PDFObject.convert(d)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+a.encoding+")"),l(">>"),l(">>"),l("endobj"),a.objectNumber=u(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+D+" 0 R"),l("/BaseFont /"+tc(a.fontName)),l("/Encoding /"+a.encoding),l("/DescendantFonts ["+C+" 0 R]"),l(">>"),l("endobj"),a.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(o){var a=o.font,l=o.out,u=o.newObject,c=o.putStream;if(a.metadata instanceof t.API.TTFFont&&a.encoding==="WinAnsiEncoding"){for(var d=a.metadata.rawData,g="",p=0;p<d.length;p++)g+=String.fromCharCode(d[p]);var _=u();c({data:g,addLength1:!0,objectId:_}),l("endobj");var k=u();c({data:r(a.metadata.toUnicode),addLength1:!0,objectId:k}),l("endobj");var D=u();l("<<"),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l("/StemV "+a.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+_+" 0 R"),l("/Flags 96"),l("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),l("/FontName /"+tc(a.fontName)),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l(">>"),l("endobj"),a.objectNumber=u();for(var w=0;w<a.metadata.hmtx.widths.length;w++)a.metadata.hmtx.widths[w]=parseInt(a.metadata.hmtx.widths[w]*(1e3/a.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+k+" 0 R/BaseFont/"+tc(a.fontName)+"/FontDescriptor "+D+" 0 R/Encoding/"+a.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(a.metadata.hmtx.widths)+">>"),l("endobj"),a.isAlreadyPutted=!0}})(s)}]);var i=function(s){var o,a=s.text||"",l=s.x,u=s.y,c=s.options||{},d=s.mutex||{},g=d.pdfEscape,p=d.activeFontKey,_=d.fonts,k=p,D="",w=0,C="",L=_[k].encoding;if(_[k].encoding!=="Identity-H")return{text:a,x:l,y:u,options:c,mutex:d};for(C=a,k=p,Array.isArray(a)&&(C=a[0]),w=0;w<C.length;w+=1)_[k].metadata.hasOwnProperty("cmap")&&(o=_[k].metadata.cmap.unicode.codeMap[C[w].charCodeAt(0)]),o||C[w].charCodeAt(0)<256&&_[k].metadata.hasOwnProperty("Unicode")?D+=C[w]:D+="";var V="";return parseInt(k.slice(1))<14||L==="WinAnsiEncoding"?V=g(D,k).split("").map(function(X){return X.charCodeAt(0).toString(16)}).join(""):L==="Identity-H"&&(V=n(D,_[k])),d.isHex=!0,{text:V,x:l,y:u,options:c,mutex:d}};e.events.push(["postProcessText",function(s){var o=s.text||"",a=[],l={text:o,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(o)){var u=0;for(u=0;u<o.length;u+=1)Array.isArray(o[u])&&o[u].length===3?a.push([i(Object.assign({},l,{text:o[u][0]})).text,o[u][1],o[u][2]]):a.push(i(Object.assign({},l,{text:o[u]})).text);s.text=a}else s.text=i(Object.assign({},l,{text:o})).text}])}(at),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0},t.addFileToVFS=function(n,r){return e.call(this),this.internal.vFS[n]=r,this},t.getFileFromVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(at.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(r){var i,s,o,a,l,u,c,d=e,g=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],_={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},k={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},D=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],w=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),C=!1,L=0;this.__bidiEngine__={};var V=function(x){var T=x.charCodeAt(),N=T>>8,J=k[N];return J!==void 0?d[256*J+(255&T)]:N===252||N===253?"AL":w.test(N)?"L":N===8?"R":"N"},X=function(x){for(var T,N=0;N<x.length;N++){if((T=V(x.charAt(N)))==="L")return!1;if(T==="R")return!0}return!1},W=function(x,T,N,J){var ae,ye,ve,ee,ue=T[J];switch(ue){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":C=!1;break;case"N":case"AN":break;case"EN":C&&(ue="AN");break;case"AL":C=!0,ue="R";break;case"WS":case"BN":ue="N";break;case"CS":J<1||J+1>=T.length||(ae=N[J-1])!=="EN"&&ae!=="AN"||(ye=T[J+1])!=="EN"&&ye!=="AN"?ue="N":C&&(ye="AN"),ue=ye===ae?ye:"N";break;case"ES":ue=(ae=J>0?N[J-1]:"B")==="EN"&&J+1<T.length&&T[J+1]==="EN"?"EN":"N";break;case"ET":if(J>0&&N[J-1]==="EN"){ue="EN";break}if(C){ue="N";break}for(ve=J+1,ee=T.length;ve<ee&&T[ve]==="ET";)ve++;ue=ve<ee&&T[ve]==="EN"?"EN":"N";break;case"NSM":if(o&&!a){for(ee=T.length,ve=J+1;ve<ee&&T[ve]==="NSM";)ve++;if(ve<ee){var z=x[J],_e=z>=1425&&z<=2303||z===64286;if(ae=T[ve],_e&&(ae==="R"||ae==="AL")){ue="R";break}}}ue=J<1||(ae=T[J-1])==="B"?"N":N[J-1];break;case"B":C=!1,i=!0,ue=L;break;case"S":s=!0,ue="N"}return ue},F=function(x,T,N){var J=x.split("");return N&&A(J,N,{hiLevel:L}),J.reverse(),T&&T.reverse(),J.join("")},A=function(x,T,N){var J,ae,ye,ve,ee,ue=-1,z=x.length,_e=0,j=[],R=L?p:g,Z=[];for(C=!1,i=!1,s=!1,ae=0;ae<z;ae++)Z[ae]=V(x[ae]);for(ye=0;ye<z;ye++){if(ee=_e,j[ye]=W(x,Z,j,ye),J=240&(_e=R[ee][_[j[ye]]]),_e&=15,T[ye]=ve=R[_e][5],J>0)if(J===16){for(ae=ue;ae<ye;ae++)T[ae]=1;ue=-1}else ue=-1;if(R[_e][6])ue===-1&&(ue=ye);else if(ue>-1){for(ae=ue;ae<ye;ae++)T[ae]=ve;ue=-1}Z[ye]==="B"&&(T[ye]=0),N.hiLevel|=ve}s&&function(ne,re,ce){for(var we=0;we<ce;we++)if(ne[we]==="S"){re[we]=L;for(var be=we-1;be>=0&&ne[be]==="WS";be--)re[be]=L}}(Z,T,z)},E=function(x,T,N,J,ae){if(!(ae.hiLevel<x)){if(x===1&&L===1&&!i)return T.reverse(),void(N&&N.reverse());for(var ye,ve,ee,ue,z=T.length,_e=0;_e<z;){if(J[_e]>=x){for(ee=_e+1;ee<z&&J[ee]>=x;)ee++;for(ue=_e,ve=ee-1;ue<ve;ue++,ve--)ye=T[ue],T[ue]=T[ve],T[ve]=ye,N&&(ye=N[ue],N[ue]=N[ve],N[ve]=ye);_e=ee}_e++}}},I=function(x,T,N){var J=x.split(""),ae={hiLevel:L};return N||(N=[]),A(J,N,ae),function(ye,ve,ee){if(ee.hiLevel!==0&&c)for(var ue,z=0;z<ye.length;z++)ve[z]===1&&(ue=D.indexOf(ye[z]))>=0&&(ye[z]=D[ue+1])}(J,N,ae),E(2,J,T,N,ae),E(1,J,T,N,ae),J.join("")};return this.__bidiEngine__.doBidiReorder=function(x,T,N){if(function(ae,ye){if(ye)for(var ve=0;ve<ae.length;ve++)ye[ve]=ve;a===void 0&&(a=X(ae)),u===void 0&&(u=X(ae))}(x,T),o||!l||u)if(o&&l&&a^u)L=a?1:0,x=F(x,T,N);else if(!o&&l&&u)L=a?1:0,x=I(x,T,N),x=F(x,T);else if(!o||a||l||u){if(o&&!l&&a^u)x=F(x,T),a?(L=0,x=I(x,T,N)):(L=1,x=I(x,T,N),x=F(x,T));else if(o&&a&&!l&&u)L=1,x=I(x,T,N),x=F(x,T);else if(!o&&!l&&a^u){var J=c;a?(L=1,x=I(x,T,N),L=0,c=!1,x=I(x,T,N),c=J):(L=0,x=I(x,T,N),x=F(x,T),L=1,c=!1,x=I(x,T,N),c=J,x=F(x,T))}}else L=0,x=I(x,T,N);else L=a?1:0,x=I(x,T,N);return x},this.__bidiEngine__.setOptions=function(x){x&&(o=x.isInputVisual,l=x.isOutputVisual,a=x.isInputRtl,u=x.isOutputRtl,c=x.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var s=r.options||{};r.mutex,s.lang;var o=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,n.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var a=0;for(o=[],a=0;a<i.length;a+=1)Object.prototype.toString.call(i[a])==="[object Array]"?o.push([n.doBidiReorder(i[a][0]),i[a][1],i[a][2]]):o.push([n.doBidiReorder(i[a])]);r.text=o}else r.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])}(at),at.API.TTFFont=function(){function t(e){var n;if(this.rawData=e,n=this.contents=new Sl(e),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new QG(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new OG(this.contents),this.head=new FG(this),this.name=new zG(this),this.cmap=new N6(this),this.toUnicode={},this.hhea=new jG(this),this.maxp=new qG(this),this.hmtx=new $G(this),this.post=new BG(this),this.os2=new VG(this),this.loca=new KG(this),this.glyf=new HG(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,n,r,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,a,l,u;for(u=[],o=0,a=(l=this.bbox).length;o<a;o++)e=l[o],u.push(Math.round(e*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(n=i>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var n;return((n=this.cmap.unicode)!=null?n.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},t.prototype.widthOfString=function(e,n,r){var i,s,o,a;for(o=0,s=0,a=(e=""+e).length;0<=a?s<a:s>a;s=0<=a?++s:--s)i=e.charCodeAt(s),o+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/n)||0;return o*(n/1e3)},t.prototype.lineHeight=function(e,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},t}();var no,Sl=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var n,r;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},t.prototype.writeString=function(e){var n,r,i;for(i=[],n=0,r=e.length;0<=r?n<r:n>r;n=0<=r?++n:--n)i.push(this.writeByte(e.charCodeAt(n)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,n,r,i,s,o,a,l;return e=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),s=this.readByte(),o=this.readByte(),a=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^s)+65536*(255^o)+256*(255^a)+(255^l)+1):72057594037927940*e+281474976710656*n+1099511627776*r+4294967296*i+16777216*s+65536*o+256*a+l},t.prototype.writeLongLong=function(e){var n,r;return n=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var n,r;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n.push(this.readByte());return n},t.prototype.write=function(e){var n,r,i,s;for(s=[],r=0,i=e.length;r<i;r++)n=e[r],s.push(this.writeByte(n));return s},t}(),OG=function(){var t;function e(n){var r,i,s;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(n){var r,i,s,o,a,l,u,c,d,g,p,_,k;for(k in p=Object.keys(n).length,l=Math.log(2),d=16*Math.floor(Math.log(p)/l),o=Math.floor(d/l),c=16*p-d,(i=new Sl).writeInt(this.scalarType),i.writeShort(p),i.writeShort(d),i.writeShort(o),i.writeShort(c),s=16*p,u=i.pos+s,a=null,_=[],n)for(g=n[k],i.writeString(k),i.writeInt(t(g)),i.writeInt(u),i.writeInt(g.length),_=_.concat(g),k==="head"&&(a=u),u+=g.length;u%4;)_.push(0),u++;return i.write(_),r=2981146554-t(i.data),i.pos=a+8,i.writeUInt32(r),i.data},t=function(n){var r,i,s,o;for(n=P6.call(n);n.length%4;)n.push(0);for(s=new Sl(n),i=0,r=0,o=n.length;r<o;r=r+=4)i+=s.readUInt32();return 4294967295&i},e}(),MG={}.hasOwnProperty,Mo=function(t,e){for(var n in e)MG.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};no=function(){function t(e){var n;this.file=e,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var FG=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Mo(t,no),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var n;return(n=new Sl).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(e),n.writeShort(this.glyphDataFormat),n.data},t}(),bx=function(){function t(e,n){var r,i,s,o,a,l,u,c,d,g,p,_,k,D,w,C,L;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),d=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(p=e.readUInt16(),g=p/2,e.pos+=6,s=function(){var V,X;for(X=[],l=V=0;0<=g?V<g:V>g;l=0<=g?++V:--V)X.push(e.readUInt16());return X}(),e.pos+=2,k=function(){var V,X;for(X=[],l=V=0;0<=g?V<g:V>g;l=0<=g?++V:--V)X.push(e.readUInt16());return X}(),u=function(){var V,X;for(X=[],l=V=0;0<=g?V<g:V>g;l=0<=g?++V:--V)X.push(e.readUInt16());return X}(),c=function(){var V,X;for(X=[],l=V=0;0<=g?V<g:V>g;l=0<=g?++V:--V)X.push(e.readUInt16());return X}(),i=(this.length-e.pos+this.offset)/2,a=function(){var V,X;for(X=[],l=V=0;0<=i?V<i:V>i;l=0<=i?++V:--V)X.push(e.readUInt16());return X}(),l=w=0,L=s.length;w<L;l=++w)for(D=s[l],r=C=_=k[l];_<=D?C<=D:C>=D;r=_<=D?++C:--C)c[l]===0?o=r+u[l]:(o=a[c[l]/2+(r-_)-(g-l)]||0)!==0&&(o+=u[l]),this.codeMap[r]=65535&o}e.pos=d}return t.encode=function(e,n){var r,i,s,o,a,l,u,c,d,g,p,_,k,D,w,C,L,V,X,W,F,A,E,I,x,T,N,J,ae,ye,ve,ee,ue,z,_e,j,R,Z,ne,re,ce,we,be,ke,Re,qe;switch(J=new Sl,o=Object.keys(e).sort(function(ze,it){return ze-it}),n){case"macroman":for(k=0,D=function(){var ze=[];for(_=0;_<256;++_)ze.push(0);return ze}(),C={0:0},s={},ae=0,ue=o.length;ae<ue;ae++)C[be=e[i=o[ae]]]==null&&(C[be]=++k),s[i]={old:e[i],new:C[e[i]]},D[i]=C[e[i]];return J.writeUInt16(1),J.writeUInt16(0),J.writeUInt32(12),J.writeUInt16(0),J.writeUInt16(262),J.writeUInt16(0),J.write(D),{charMap:s,subtable:J.data,maxGlyphID:k+1};case"unicode":for(T=[],d=[],L=0,C={},r={},w=u=null,ye=0,z=o.length;ye<z;ye++)C[X=e[i=o[ye]]]==null&&(C[X]=++L),r[i]={old:X,new:C[X]},a=C[X]-i,w!=null&&a===u||(w&&d.push(w),T.push(i),u=a),w=i;for(w&&d.push(w),d.push(65535),T.push(65535),I=2*(E=T.length),A=2*Math.pow(Math.log(E)/Math.LN2,2),g=Math.log(A/2)/Math.LN2,F=2*E-A,l=[],W=[],p=[],_=ve=0,_e=T.length;ve<_e;_=++ve){if(x=T[_],c=d[_],x===65535){l.push(0),W.push(0);break}if(x-(N=r[x].new)>=32768)for(l.push(0),W.push(2*(p.length+E-_)),i=ee=x;x<=c?ee<=c:ee>=c;i=x<=c?++ee:--ee)p.push(r[i].new);else l.push(N-x),W.push(0)}for(J.writeUInt16(3),J.writeUInt16(1),J.writeUInt32(12),J.writeUInt16(4),J.writeUInt16(16+8*E+2*p.length),J.writeUInt16(0),J.writeUInt16(I),J.writeUInt16(A),J.writeUInt16(g),J.writeUInt16(F),ce=0,j=d.length;ce<j;ce++)i=d[ce],J.writeUInt16(i);for(J.writeUInt16(0),we=0,R=T.length;we<R;we++)i=T[we],J.writeUInt16(i);for(ke=0,Z=l.length;ke<Z;ke++)a=l[ke],J.writeUInt16(a);for(Re=0,ne=W.length;Re<ne;Re++)V=W[Re],J.writeUInt16(V);for(qe=0,re=p.length;qe<re;qe++)k=p[qe],J.writeUInt16(k);return{charMap:r,subtable:J.data,maxGlyphID:L+1}}},t}(),N6=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Mo(t,no),t.prototype.tag="cmap",t.prototype.parse=function(e){var n,r,i;for(e.pos=this.offset,this.version=e.readUInt16(),i=e.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=i?r<i:r>i;r=0<=i?++r:--r)n=new bx(e,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(e,n){var r,i;return n==null&&(n="macroman"),r=bx.encode(e,n),(i=new Sl).writeUInt16(0),i.writeUInt16(1),r.table=i.data.concat(r.subtable),r},t}(),jG=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Mo(t,no),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t}(),VG=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Mo(t,no),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var n,r;for(r=[],n=0;n<10;++n)r.push(e.readByte());return r}(),this.charRange=function(){var n,r;for(r=[],n=0;n<4;++n)r.push(e.readInt());return r}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var n,r;for(r=[],n=0;n<2;n=++n)r.push(e.readInt());return r}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t}(),BG=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Mo(t,no),t.prototype.tag="post",t.prototype.parse=function(e){var n,r,i;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var s;for(r=e.readUInt16(),this.glyphNameIndex=[],s=0;0<=r?s<r:s>r;s=0<=r?++s:--s)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],i=[];e.pos<this.offset+this.length;)n=e.readByte(),i.push(this.names.push(e.readString(n)));return i;case 151552:return r=e.readUInt16(),this.offsets=e.read(r);case 262144:return this.map=(function(){var o,a,l;for(l=[],s=o=0,a=this.file.maxp.numGlyphs;0<=a?o<a:o>a;s=0<=a?++o:--o)l.push(e.readUInt32());return l}).call(this)}},t}(),UG=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},zG=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Mo(t,no),t.prototype.tag="name",t.prototype.parse=function(e){var n,r,i,s,o,a,l,u,c,d,g;for(e.pos=this.offset,e.readShort(),n=e.readShort(),a=e.readShort(),r=[],s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)r.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+a+e.readShort()});for(l={},s=c=0,d=r.length;c<d;s=++c)i=r[s],e.pos=i.offset,u=e.readString(i.length),o=new UG(u,i),l[g=i.nameID]==null&&(l[g]=[]),l[i.nameID].push(o);this.strings=l,this.copyright=l[0],this.fontFamily=l[1],this.fontSubfamily=l[2],this.uniqueSubfamily=l[3],this.fontName=l[4],this.version=l[5];try{this.postscriptName=l[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=l[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=l[7],this.manufacturer=l[8],this.designer=l[9],this.description=l[10],this.vendorUrl=l[11],this.designerUrl=l[12],this.license=l[13],this.licenseUrl=l[14],this.preferredFamily=l[15],this.preferredSubfamily=l[17],this.compatibleFull=l[18],this.sampleText=l[19]},t}(),qG=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Mo(t,no),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t}(),$G=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Mo(t,no),t.prototype.tag="hmtx",t.prototype.parse=function(e){var n,r,i,s,o,a,l;for(e.pos=this.offset,this.metrics=[],n=0,a=this.file.hhea.numberOfMetrics;0<=a?n<a:n>a;n=0<=a?++n:--n)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,c;for(c=[],n=u=0;0<=i?u<i:u>i;n=0<=i?++u:--u)c.push(e.readInt16());return c}(),this.widths=(function(){var u,c,d,g;for(g=[],u=0,c=(d=this.metrics).length;u<c;u++)s=d[u],g.push(s.advance);return g}).call(this),r=this.widths[this.widths.length-1],l=[],n=o=0;0<=i?o<i:o>i;n=0<=i?++o:--o)l.push(this.widths.push(r));return l},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t}(),P6=[].slice,HG=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Mo(t,no),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var n,r,i,s,o,a,l,u,c,d;return e in this.cache?this.cache[e]:(s=this.file.loca,n=this.file.contents,r=s.indexOf(e),(i=s.lengthOf(e))===0?this.cache[e]=null:(n.pos=this.offset+r,o=(a=new Sl(n.read(i))).readShort(),u=a.readShort(),d=a.readShort(),l=a.readShort(),c=a.readShort(),this.cache[e]=o===-1?new GG(a,u,d,l,c):new WG(a,o,u,d,l,c),this.cache[e]))},t.prototype.encode=function(e,n,r){var i,s,o,a,l;for(o=[],s=[],a=0,l=n.length;a<l;a++)i=e[n[a]],s.push(o.length),i&&(o=o.concat(i.encode(r)));return s.push(o.length),{table:o,offsets:s}},t}(),WG=function(){function t(e,n,r,i,s,o){this.raw=e,this.numberOfContours=n,this.xMin=r,this.yMin=i,this.xMax=s,this.yMax=o,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),GG=function(){function t(e,n,r,i,s){var o,a;for(this.raw=e,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;a=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&a;)o.pos+=1&a?4:2,128&a?o.pos+=8:64&a?o.pos+=4:8&a&&(o.pos+=2)}return t.prototype.encode=function(){var e,n,r;for(n=new Sl(P6.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)n.pos=this.glyphOffsets[e];return n.data},t}(),KG=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Mo(t,no),t.prototype.tag="loca",t.prototype.parse=function(e){var n,r;return e.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var i,s;for(s=[],r=0,i=this.length;r<i;r+=2)s.push(2*e.readUInt16());return s}).call(this):(function(){var i,s;for(s=[],r=0,i=this.length;r<i;r+=4)s.push(e.readUInt32());return s}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,n){for(var r=new Uint32Array(this.offsets.length),i=0,s=0,o=0;o<r.length;++o)if(r[o]=i,s<n.length&&n[s]==o){++s,r[o]=i;var a=this.offsets[o],l=this.offsets[o+1]-a;l>0&&(i+=l)}for(var u=new Array(4*r.length),c=0;c<r.length;++c)u[4*c+3]=255&r[c],u[4*c+2]=(65280&r[c])>>8,u[4*c+1]=(16711680&r[c])>>16,u[4*c]=(4278190080&r[c])>>24;return u},t}(),QG=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,n,r,i,s;for(n in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)r=s[n],e[n]=i[r];return e},t.prototype.glyphsFor=function(e){var n,r,i,s,o,a,l;for(i={},o=0,a=e.length;o<a;o++)i[s=e[o]]=this.font.glyf.glyphFor(s);for(s in n=[],i)(r=i[s])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(s in l=this.glyphsFor(n))r=l[s],i[s]=r;return i},t.prototype.encode=function(e,n){var r,i,s,o,a,l,u,c,d,g,p,_,k,D,w;for(i in r=N6.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),p={0:0},w=r.charMap)p[(l=w[i]).old]=l.new;for(_ in g=r.maxGlyphID,o)_ in p||(p[_]=g++);return c=function(C){var L,V;for(L in V={},C)V[C[L]]=L;return V}(p),d=Object.keys(c).sort(function(C,L){return C-L}),k=function(){var C,L,V;for(V=[],C=0,L=d.length;C<L;C++)a=d[C],V.push(c[a]);return V}(),s=this.font.glyf.encode(o,k,p),u=this.font.loca.encode(s.offsets,k),D={cmap:this.font.cmap.raw(),glyf:s.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(D["OS/2"]=this.font.os2.raw()),this.font.directory.encode(D)},t}();at.API.PDFObject=function(){var t;function e(){}return t=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},e.convert=function(n){var r,i,s,o;if(Array.isArray(n))return"["+function(){var a,l,u;for(u=[],a=0,l=n.length;a<l;a++)r=n[a],u.push(e.convert(r));return u}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in s=["<<"],n)o=n[i],s.push("/"+i+" "+e.convert(o));return s.push(">>"),s.join(`
`)}return""+n},e}();function YG({note:t,onClose:e,onSave:n}){const[r,i]=jt.useState(""),[s,o]=jt.useState(""),[a,l]=jt.useState(""),[u,c]=jt.useState("general"),[d,g]=jt.useState(""),[p,_]=jt.useState([]),[k,D]=jt.useState(!1);jt.useEffect(()=>{t?(i(t.title||""),o(t.content||""),l(t.tags?t.tags.join(", "):""),c(t.category||"general"),g(t.reminder||""),_(t.todos||[])):(i(""),o(""),l(""),c("general"),g(""),_([]))},[t]);const w=()=>{const A=a.split(",").map(E=>E.trim()).filter(E=>E);n({...t,title:r,content:s,tags:A,category:u,reminder:d,todos:p,isFavorite:(t==null?void 0:t.isFavorite)||!1}),e()},C=A=>{const E=document.getElementById("content-textarea"),I=E.selectionStart,x=E.selectionEnd,T=s.substring(I,x);let N="";switch(A){case"bold":N=s.substring(0,I)+`**${T||"texto"}**`+s.substring(x);break;case"italic":N=s.substring(0,I)+`*${T||"texto"}*`+s.substring(x);break;case"list":N=s.substring(0,I)+`
- ${T||"item"}
`+s.substring(x);break;case"code":N=s.substring(0,I)+`\`${T||"cdigo"}\``+s.substring(x);break;case"heading":N=s.substring(0,I)+`## ${T||"Ttulo"}
`+s.substring(x);break;default:return}o(N)},L=()=>{_([...p,{id:Date.now(),text:"",completed:!1}])},V=(A,E,I)=>{_(p.map(x=>x.id===A?{...x,[E]:I}:x))},X=A=>{_(p.filter(E=>E.id!==A))},W=()=>{const A=new at;A.setFontSize(20),A.text(r||"Sin ttulo",20,20),A.setFontSize(12);const E=A.splitTextToSize(s,170);A.text(E,20,40),A.save(`${r||"nota"}.pdf`)},F=()=>{const A=new Blob([`${r}

${s}`],{type:"text/plain"}),E=URL.createObjectURL(A),I=document.createElement("a");I.href=E,I.download=`${r||"nota"}.txt`,I.click(),URL.revokeObjectURL(E)};return oe.jsx("div",{className:"modal-overlay",onClick:e,children:oe.jsxs("div",{className:"modal-content glass",onClick:A=>A.stopPropagation(),children:[oe.jsxs("div",{className:"editor-header",children:[oe.jsx("input",{type:"text",className:"editor-input-title",placeholder:"Ttulo de la nota...",value:r,onChange:A=>i(A.target.value),autoFocus:!0}),oe.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[oe.jsx("button",{className:"btn-icon",onClick:()=>D(!k),title:"Vista previa",children:k?oe.jsx(rL,{size:20}):oe.jsx(sL,{size:20})}),oe.jsx("button",{className:"btn-icon",onClick:e,children:oe.jsx(w2,{size:24})})]})]}),oe.jsxs("div",{className:"editor-toolbar",style:{padding:"1rem 1.5rem",borderBottom:"1px solid var(--glass-border)"},children:[oe.jsx("button",{className:"btn-icon",onClick:()=>C("bold"),title:"Negrita",children:oe.jsx(YP,{size:18})}),oe.jsx("button",{className:"btn-icon",onClick:()=>C("italic"),title:"Cursiva",children:oe.jsx(fL,{size:18})}),oe.jsx("button",{className:"btn-icon",onClick:()=>C("list"),title:"Lista",children:oe.jsx(gL,{size:18})}),oe.jsx("button",{className:"btn-icon",onClick:()=>C("code"),title:"Cdigo",children:oe.jsx(tL,{size:18})}),oe.jsx("button",{className:"btn-icon",onClick:()=>C("heading"),title:"Encabezado",children:"H"}),oe.jsx("button",{className:"btn-icon",onClick:L,title:"Agregar tarea",children:oe.jsx(FS,{size:18})})]}),oe.jsxs("div",{className:"editor-body",children:[p.length>0&&oe.jsx("div",{style:{marginBottom:"1rem"},children:p.map(A=>oe.jsxs("div",{className:"todo-item",children:[oe.jsx("input",{type:"checkbox",className:"todo-checkbox",checked:A.completed,onChange:E=>V(A.id,"completed",E.target.checked)}),oe.jsx("input",{type:"text",className:"todo-text",style:{background:"transparent",border:"none",outline:"none",textDecoration:A.completed?"line-through":"none"},value:A.text,onChange:E=>V(A.id,"text",E.target.value),placeholder:"Nueva tarea..."}),oe.jsx("button",{className:"btn-icon",onClick:()=>X(A.id),children:oe.jsx(w2,{size:16})})]},A.id))}),k?oe.jsx("div",{className:"markdown-preview",children:oe.jsx(yT,{remarkPlugins:[sH],children:s})}):oe.jsx("textarea",{id:"content-textarea",className:"editor-input-content",placeholder:"Escribe algo increble... (Soporta Markdown: **negrita**, *cursiva*, ## Ttulo)",value:s,onChange:A=>o(A.target.value)}),oe.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem",marginTop:"1rem"},children:[oe.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[oe.jsx(FL,{size:18,style:{color:"var(--text-secondary)"}}),oe.jsx("input",{type:"text",className:"form-input",placeholder:"Etiquetas (separadas por coma)...",value:a,onChange:A=>l(A.target.value)})]}),oe.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[oe.jsxs("div",{style:{flex:1,display:"flex",alignItems:"center",gap:"0.5rem"},children:[oe.jsx(OS,{size:18,style:{color:"var(--text-secondary)"}}),oe.jsx("input",{type:"datetime-local",className:"form-input",value:d,onChange:A=>g(A.target.value)})]}),oe.jsxs("select",{className:"form-input",value:u,onChange:A=>c(A.target.value),style:{flex:1},children:[oe.jsx("option",{value:"general",children:"General"}),oe.jsx("option",{value:"personal",children:"Personal"}),oe.jsx("option",{value:"trabajo",children:"Trabajo"}),oe.jsx("option",{value:"ideas",children:"Ideas"}),oe.jsx("option",{value:"proyectos",children:"Proyectos"})]})]})]})]}),oe.jsxs("div",{className:"editor-footer",children:[oe.jsxs("div",{className:"footer-actions",children:[oe.jsxs("button",{className:"btn-icon",onClick:W,title:"Exportar a PDF",children:[oe.jsx(I_,{size:18}),"PDF"]}),oe.jsxs("button",{className:"btn-icon",onClick:F,title:"Exportar a TXT",children:[oe.jsx(I_,{size:18}),"TXT"]})]}),oe.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[oe.jsx("button",{className:"btn btn-secondary",onClick:e,children:"Cancelar"}),oe.jsxs("button",{className:"btn btn-primary",onClick:w,children:[oe.jsx(IL,{size:18}),"Guardar Nota"]})]})]})]})})}function XG({value:t,onChange:e}){return oe.jsxs("div",{className:"search-bar",children:[oe.jsx(CL,{size:20,className:"text-secondary"}),oe.jsx("input",{type:"text",className:"search-input",placeholder:"Buscar en tus notas...",value:t,onChange:n=>e(n.target.value)})]})}function JG(){const{login:t}=od(),e=async()=>{try{await t()}catch(n){console.error("Failed to log in",n)}};return oe.jsx("div",{className:"login-container",children:oe.jsxs("div",{className:"login-card glass",children:[oe.jsxs("div",{className:"login-header",children:[oe.jsx("span",{style:{fontSize:"3rem"},children:""}),oe.jsx("h1",{children:"Bienvenido a Notely AI"}),oe.jsx("p",{children:"Tus ideas, seguras y en la nube."})]}),oe.jsxs("button",{className:"btn btn-primary btn-large",onClick:e,children:[oe.jsx(_L,{size:24}),"Iniciar Sesin con Google"]})]})})}function ZG({isOpen:t,onClose:e,categories:n,onAddCategory:r,onDeleteCategory:i,theme:s}){const[o,a]=jt.useState({label:"",icon:""}),[l,u]=jt.useState(!1),c=["","","","","","","","","","","","","","","","","","","",""];if(!t)return null;const d=()=>{o.label.trim()&&(r(o),a({label:"",icon:""}),u(!1))},g=n.filter(p=>!p.isDefault);return oe.jsx("div",{className:"modal-overlay",onClick:e,children:oe.jsxs("div",{className:"modal-content glass",style:{maxWidth:"600px"},onClick:p=>p.stopPropagation(),children:[oe.jsxs("div",{className:"editor-header",children:[oe.jsx("h2",{style:{fontSize:"1.5rem",fontWeight:"700",color:"var(--text-color)"},children:" Configuracin"}),oe.jsx("button",{className:"btn-icon",onClick:e,children:oe.jsx(w2,{size:24})})]}),oe.jsxs("div",{className:"editor-body",children:[oe.jsxs("div",{style:{marginBottom:"2rem"},children:[oe.jsx("h3",{style:{fontSize:"1.1rem",fontWeight:"600",marginBottom:"1rem",color:"var(--text-color)"},children:" Apariencia"}),oe.jsxs("p",{style:{color:"var(--text-secondary)",fontSize:"0.875rem"},children:["Tema actual: ",oe.jsx("strong",{children:s==="dark"?"Modo Oscuro":"Modo Claro"})]}),oe.jsx("p",{style:{color:"var(--text-tertiary)",fontSize:"0.75rem",marginTop:"0.5rem"},children:"Usa el botn en la barra lateral para cambiar el tema."})]}),oe.jsxs("div",{style:{marginBottom:"2rem"},children:[oe.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[oe.jsx("h3",{style:{fontSize:"1.1rem",fontWeight:"600",color:"var(--text-color)"},children:" Carpetas Personalizadas"}),oe.jsxs("button",{className:"btn btn-primary",style:{padding:"0.5rem 1rem",fontSize:"0.875rem"},onClick:()=>u(!l),children:[oe.jsx(MS,{size:16}),"Nueva Carpeta"]})]}),l&&oe.jsxs("div",{className:"glass",style:{padding:"1rem",borderRadius:"12px",marginBottom:"1rem"},children:[oe.jsxs("div",{className:"form-group",style:{marginBottom:"1rem"},children:[oe.jsx("label",{className:"form-label",children:"Nombre de la carpeta"}),oe.jsx("input",{type:"text",className:"form-input",placeholder:"Ej: Recetas, Gimnasio, Proyectos...",value:o.label,onChange:p=>a({...o,label:p.target.value}),onKeyPress:p=>p.key==="Enter"&&d()})]}),oe.jsxs("div",{className:"form-group",style:{marginBottom:"1rem"},children:[oe.jsx("label",{className:"form-label",children:"cono"}),oe.jsx("div",{style:{display:"flex",gap:"0.5rem",flexWrap:"wrap"},children:c.map(p=>oe.jsx("button",{className:"btn-icon",style:{fontSize:"1.5rem",padding:"0.5rem",background:o.icon===p?"var(--accent-color)":"transparent"},onClick:()=>a({...o,icon:p}),children:p},p))})]}),oe.jsxs("div",{style:{display:"flex",gap:"0.5rem",justifyContent:"flex-end"},children:[oe.jsx("button",{className:"btn btn-secondary",style:{padding:"0.5rem 1rem",fontSize:"0.875rem"},onClick:()=>u(!1),children:"Cancelar"}),oe.jsx("button",{className:"btn btn-primary",style:{padding:"0.5rem 1rem",fontSize:"0.875rem"},onClick:d,children:"Agregar"})]})]}),oe.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:g.length===0?oe.jsx("p",{style:{color:"var(--text-secondary)",fontSize:"0.875rem",textAlign:"center",padding:"2rem"},children:"No tienes carpetas personalizadas an. Crea una!"}):g.map(p=>oe.jsxs("div",{className:"glass",style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"1rem",borderRadius:"12px"},children:[oe.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[oe.jsx("span",{style:{fontSize:"1.5rem"},children:p.icon}),oe.jsx("span",{style:{fontWeight:"500",color:"var(--text-color)"},children:p.label})]}),oe.jsx("button",{className:"btn-icon",onClick:()=>{confirm(`Eliminar la carpeta "${p.label}"?`)&&i(p.id)},style:{color:"var(--danger-color)"},children:oe.jsx(VS,{size:18})})]},p.id))})]}),oe.jsxs("div",{className:"glass",style:{padding:"1rem",borderRadius:"12px",background:"var(--input-bg)"},children:[oe.jsx("h4",{style:{fontSize:"0.875rem",fontWeight:"600",marginBottom:"0.5rem",color:"var(--text-color)"},children:" Informacin"}),oe.jsx("p",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",lineHeight:"1.5"},children:"Las carpetas por defecto (General, Personal, Trabajo, Ideas, Proyectos) no se pueden eliminar. Tus carpetas personalizadas se guardan en la nube y estarn disponibles en todos tus dispositivos."})]})]}),oe.jsx("div",{className:"editor-footer",children:oe.jsx("button",{className:"btn btn-primary",onClick:e,children:"Cerrar"})})]})})}function eK(){const[t,e]=jt.useState([]),{currentUser:n}=od(),[r,i]=jt.useState(!0);return jt.useEffect(()=>{if(!n){e([]),i(!1);return}const l=tj(s4(pc,"Notas"),nj("uid","==",n.uid)),u=cj(l,c=>{const d=c.docs.map(g=>{const p=g.data();return{id:g.id,title:p.Titulo,content:p.Contenido,tags:p.Etiquetas||[],isFavorite:p.Fijado||!1,createdAt:p.FechaCreacion,category:p.Categoria||"general",reminder:p.Recordatorio||"",todos:p.Tareas||[],...p}});d.sort((g,p)=>{const _=new Date(g.createdAt||0);return new Date(p.createdAt||0)-_}),e(d),i(!1)});return()=>u()},[n]),{notes:t,addNote:async l=>{if(n)try{const u=new Date().toISOString();await uj(s4(pc,"Notas"),{uid:n.uid,Titulo:l.title,Contenido:l.content,Etiquetas:l.tags||[],Fijado:l.isFavorite||!1,Categoria:l.category||"general",Recordatorio:l.reminder||"",Tareas:l.todos||[],FechaCreacion:u,Fecha:u})}catch(u){console.error("Error adding note: ",u)}},updateNote:async(l,u)=>{if(n)try{const c=Vf(pc,"Notas",l),d={};u.title!==void 0&&(d.Titulo=u.title),u.content!==void 0&&(d.Contenido=u.content),u.tags!==void 0&&(d.Etiquetas=u.tags),u.isFavorite!==void 0&&(d.Fijado=u.isFavorite),u.category!==void 0&&(d.Categoria=u.category),u.reminder!==void 0&&(d.Recordatorio=u.reminder),u.todos!==void 0&&(d.Tareas=u.todos),await aj(c,d)}catch(c){console.error("Error updating note: ",c)}},deleteNote:async l=>{if(n)try{await lj(Vf(pc,"Notas",l))}catch(u){console.error("Error deleting note: ",u)}},loading:r}}function tK(){const[t,e]=jt.useState([{id:"general",label:"General",icon:"",isDefault:!0},{id:"personal",label:"Personal",icon:"",isDefault:!0},{id:"trabajo",label:"Trabajo",icon:"",isDefault:!0},{id:"ideas",label:"Ideas",icon:"",isDefault:!0},{id:"proyectos",label:"Proyectos",icon:"",isDefault:!0}]),{currentUser:n}=od(),[r,i]=jt.useState(!0);jt.useEffect(()=>{if(!n){i(!1);return}(async()=>{try{const c=Vf(pc,"Configuracion",n.uid),d=await sj(c);if(d.exists()&&d.data().categorias){const g=d.data().categorias;e(p=>[...p.filter(k=>k.isDefault),...g])}}catch(c){console.error("Error loading categories:",c)}finally{i(!1)}})()},[n]);const s=async u=>{if(n)try{const c=u.filter(g=>!g.isDefault),d=Vf(pc,"Configuracion",n.uid);await oj(d,{categorias:c},{merge:!0}),e(u)}catch(c){console.error("Error saving categories:",c)}};return{categories:t,addCategory:u=>{const c={id:`custom_${Date.now()}`,label:u.label,icon:u.icon,isDefault:!1},d=[...t,c];s(d)},updateCategory:(u,c)=>{const d=t.map(g=>g.id===u?{...g,...c}:g);s(d)},deleteCategory:u=>{const c=t.filter(d=>d.id!==u);s(c)},loading:r}}function nK(){const{currentUser:t}=od(),{notes:e,addNote:n,updateNote:r,deleteNote:i,loading:s}=eK(),{theme:o}=DI(),{categories:a,addCategory:l,deleteCategory:u}=tK(),[c,d]=jt.useState("all"),[g,p]=jt.useState(null),[_,k]=jt.useState(""),[D,w]=jt.useState(!1),[C,L]=jt.useState(!1),[V,X]=jt.useState(null),W=jt.useMemo(()=>{let x=e;if(g&&(x=x.filter(T=>T.category===g)),c==="favorites"?x=x.filter(T=>T.isFavorite):c==="recent"&&(x=[...x].sort((T,N)=>new Date(N.createdAt||0)-new Date(T.createdAt||0))),_){const T=_.toLowerCase();x=x.filter(N=>N.title&&N.title.toLowerCase().includes(T)||N.content&&N.content.toLowerCase().includes(T)||N.tags&&N.tags.some(J=>J.toLowerCase().includes(T))||N.category&&N.category.toLowerCase().includes(T))}return x},[e,c,g,_]);if(!t)return oe.jsx(JG,{});if(s)return oe.jsxs("div",{style:{height:"100vh",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",gap:"1rem"},children:[oe.jsx(vL,{className:"animate-spin",size:48,style:{color:"var(--accent-color)"}}),oe.jsx("p",{style:{color:"var(--text-secondary)"},children:"Cargando tus notas..."})]});const F=()=>{X(null),w(!0)},A=x=>{X(x),w(!0)},E=x=>{V?r(V.id,x):n(x)},I=x=>{const T=e.find(N=>N.id===x);T&&r(x,{isFavorite:!T.isFavorite})};return oe.jsxs("div",{className:"app-container",children:[oe.jsx(pj,{activeTab:c,setActiveTab:d,activeCategory:g,setActiveCategory:p,categories:a,onNewNote:F,onOpenSettings:()=>L(!0)}),oe.jsxs("main",{className:"main-content",children:[oe.jsxs("header",{className:"header",children:[oe.jsx(XG,{value:_,onChange:k}),oe.jsx("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:oe.jsxs("span",{style:{color:"var(--text-secondary)",fontSize:"0.875rem"},children:[W.length," ",W.length===1?"nota":"notas"]})})]}),W.length>0?oe.jsx("div",{className:"notes-grid",children:W.map((x,T)=>oe.jsx(Yz,{index:T,note:x,onEdit:A,onDelete:i,onToggleFavorite:I},x.id))}):oe.jsxs("div",{className:"empty-state animate-fade-in",children:[oe.jsx("div",{className:"empty-icon",children:oe.jsx(lL,{size:64,strokeWidth:1,style:{color:"var(--text-tertiary)"}})}),oe.jsx("h2",{style:{color:"var(--text-color)",marginBottom:"0.5rem"},children:"No hay notas aqu"}),oe.jsx("p",{style:{color:"var(--text-secondary)"},children:_?"No encontramos notas que coincidan con tu bsqueda.":"Crea tu primera nota para comenzar."}),oe.jsx("button",{className:"btn btn-primary",style:{marginTop:"1.5rem"},onClick:F,children:"Crear Nota"})]})]}),D&&oe.jsx(YG,{note:V,onClose:()=>w(!1),onSave:E}),oe.jsx(ZG,{isOpen:C,onClose:()=>L(!1),categories:a,onAddCategory:l,onDeleteCategory:u,theme:o})]})}function rK(){return oe.jsx(dj,{children:oe.jsx(nK,{})})}E0.createRoot(document.getElementById("root")).render(oe.jsx(LC.StrictMode,{children:oe.jsx(rK,{})}));export{ln as _,zp as c,yy as g};
